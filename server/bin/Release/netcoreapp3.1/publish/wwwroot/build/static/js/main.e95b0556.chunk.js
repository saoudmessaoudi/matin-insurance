(this["webpackJsonpnovem-dashboard"]=this["webpackJsonpnovem-dashboard"]||[]).push([[0],{167:function(e){e.exports=JSON.parse('{"google_api":"AIzaSyBXlrYsyiHh3qfbh61QwQh234nu3amFn2k"}')},186:function(e,t,a){},188:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/profile-cover.80bf0f3e.jpg"},400:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(32),o=a.n(s),c=a(48),l=(a(186),a(187),a(188),a(7)),i=a(8),m=a(10),u=a(9),p=a(406),d=a(22),h=a(15),f=a(12),b=a.n(f),v=a(17),g=a(21),E=a.n(g);function y(e){e?E.a.defaults.headers.common.Authorization="Bearer "+e:delete E.a.defaults.headers.common.Authorization}var _=a(57),k="SIGN_IN",w="SIGN_IN_ERROR",N="SIGN_UP",O="SIGN_UP_ERROR",j="SIGN_OUT",C="UPDATE_TOKEN",x="CHANGE_PASS",S="CHANGE_PASS_ERROR",D="CHANGE_EMAIL",A="CHANGE_EMAIL_ERROR",T="CHANGE_AVATAR",M="CHANGE_AVATAR_ERROR",I="GET_STATS",P="GET_STATS_FAIL",L="GET_APPOINTMENTS",F="GET_APPOINTMENTS_FAIL",V="UPDATE_APPOINTMENT",z="UPDATE_APPOINTMENT_FAIL",R="GET_COMMENTS",B="GET_VIDEO_COMMENTS",U="GET_COMMENTS_FAIL",q="GET_VIDEO_COMMENTS_FAIL",W="ADD_COMMENT",G="ADD_COMMENT_FAIL",H="UPDATE_COMMENT",$="UPDATE_COMMENT_FAIL",J="DELETE_COMMENT",Z="DELETE_COMMENT_FAIL",Y="CLEAN_VIDEO",K="GET_VIDEO",X="POST_VIDEO",Q="POST_VIDEO_FAIL",ee="GET_VIDEOS",te="GET_VIDEO_FAIL",ae="GET_VIDEOS_FAIL",ne="UPDATE_VIDEO",re="UPDATE_VIDEO_FAIL",se="DELETE_VIDEO",oe="DELETE_VIDEO_FAIL",ce="GET_INFO",le="GET_INFO_FAIL",ie="UPDATE_INFO",me="UPDATE_INFO_FAIL",ue="/api/user",pe="/api/comment",de="/api/video",he="/api/appointment",fe="/api/admininfo",be=a(28),ve=Object(be.a)(),ge=E.a.create({baseURL:"http://localhost:5000"}),Ee=function(){return function(e){localStorage.removeItem("jwtToken"),y(!1),e({type:j}),ve.push("/auth/login")}},ye=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a,n){var r,s,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().auth.user.id,t.next=4,ge.post("/api/user/change-pass",{id:r,old:e.old_password,password:e.new_password});case 4:s=t.sent,o=s.data,document.dispatchEvent(new CustomEvent("change_pass",{detail:{success:!0}})),ke(a,o),t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("change_pass",{detail:{success:!1}})),t.t0.response){t.next=15;break}return t.abrupt("return",a({type:S,error:"Server error"}));case 15:a({type:S,error:t.t0.response.data});case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},_e=function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a,n){var r,s,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().auth.user.id,t.next=4,ge.post("/api/user/change-email",{id:r,email:e});case 4:s=t.sent,o=s.data,ke(a,o),document.dispatchEvent(new CustomEvent("change_email",{detail:{success:!0}})),t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("change_email",{detail:{success:!1}})),t.t0.response){t.next=15;break}return t.abrupt("return",a({type:A,error:"Server error"}));case 15:a({type:A,error:t.t0.response.data});case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},ke=function(e,t){localStorage.setItem("jwtToken",t),y(t),e({type:C,user:Object(_.a)(t)})},we=a(405),Ne=a(407),Oe=a(432),je=a(408),Ce=a(409),xe=a(410),Se=a(411),De="http://localhost:5000",Ae=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).logout=function(t){t.preventDefault(),e.props.logout()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main"},r.a.createElement(p.a,{fluid:!0},r.a.createElement("span",{className:"h3 mb-0 text-white text-uppercase d-none d-lg-inline-block"},this.props.brandText),r.a.createElement(Ne.a,{className:"align-items-center d-none d-md-flex",navbar:!0},r.a.createElement(Oe.a,{nav:!0},r.a.createElement(je.a,{className:"pr-0",nav:!0},r.a.createElement(Ce.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:De+"/profile-pics/".concat(e.profile_img)})),r.a.createElement(Ce.a,{className:"ml-2 d-none d-lg-block"},r.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},e.name)))),r.a.createElement(xe.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(Se.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),r.a.createElement(Se.a,{to:"/admin/settings",tag:d.a},r.a.createElement("i",{className:"ni ni-settings-gear-65"}),r.a.createElement("span",null,"Settings")),r.a.createElement(Se.a,{to:"/admin/user-profile",tag:d.a},r.a.createElement("i",{className:"ni ni-calendar-grid-58"}),r.a.createElement("span",null,"Activity")),r.a.createElement(Se.a,{divider:!0}),r.a.createElement(Se.a,{onClick:this.logout},r.a.createElement("i",{className:"fas fa-door-open"}),r.a.createElement("span",null,"Logout"))))))))}}]),a}(r.a.Component),Te=Object(h.b)((function(e){return{user:e.auth.user}}),{logout:Ee})(Ae),Me=a(412),Ie=a(413),Pe=a(414),Le=a(415),Fe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement(Me.a,{className:"align-items-center justify-content-xl-between"},r.a.createElement(Ie.a,{xl:"6"},r.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},"\xa9 2018"," ",r.a.createElement("a",{className:"font-weight-bold ml-1",href:"https://www.creative-tim.com?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"},"Creative Tim"))),r.a.createElement(Ie.a,{xl:"6"},r.a.createElement(Ne.a,{className:"nav-footer justify-content-center justify-content-xl-end"},r.a.createElement(Pe.a,null,r.a.createElement(Le.a,{href:"https://www.creative-tim.com?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"},"Creative Tim")),r.a.createElement(Pe.a,null,r.a.createElement(Le.a,{href:"https://www.creative-tim.com/presentation?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"},"About Us")),r.a.createElement(Pe.a,null,r.a.createElement(Le.a,{href:"http://blog.creative-tim.com?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"},"Blog")),r.a.createElement(Pe.a,null,r.a.createElement(Le.a,{href:"https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md?ref=adr-admin-footer",rel:"noopener noreferrer",target:"_blank"},"MIT License"))))))}}]),a}(r.a.Component),Ve=a(20),ze=function(){return function(){var e=Object(v.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get(he,{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 3:a=e.sent,n=a.data,t({type:L,appointments:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:F,error:"Server error"}));case 12:t({type:F,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Re=function(){return function(){var e=Object(v.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get(pe);case 3:a=e.sent,n=a.data,t({type:R,comments:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:U,error:"Server error"}));case 12:t({type:U,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Be=function(){return function(){var e=Object(v.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get(de,{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 3:a=e.sent,n=a.data,t({type:ee,videos:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:ae,error:"Server error"}));case 12:t({type:ae,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Ue=function(e,t,a){var n=[],r=!1;return e&&0!==e.length?(e.map((function(e){var s={title:e.client_name,id:e.id,object:e,contents:[]};if(t.map((function(t){var n={};switch(t){case"users":n={type:"avatar-group",task_id:e._id};break;case"status":n={type:"badge",value:qe(e.status).status,class:qe(e.status).class};break;case"progress":n={type:"progress",value:e.completion,class:We(e.completion)};break;case"date":n={value:Ge(e.date)};break;case"time":n={value:$e(e.date)};break;case"buttons":r=!0,n={type:"button-group",value:[]};var o=He(e),c=0;o.map((function(e){n.value.push({title:e.title,callback:a[c].callback,class:e.class}),c++}))}s.contents.push(n)})),a&&!r){var o={type:"buttons",actions:[]};a.map((function(e){o.actions.push({title:e.title,callback:e.callback,class:e.class})})),s.contents.push(o)}n.push(s)})),n):[{title:"No pending appointments",italic:!0,donTrim:!1,contents:[]}]},qe=function(e){var t={status:"",class:""};switch(e){case 0:t.status="Waiting",t.class="bg-info";break;case 1:t.status="Accepted",t.class="bg-success";break;case 2:t.status="Cancelled",t.class="bg-danger";break;case 3:t.status="Done",t.class="bg-success";break;default:t.status="Unknown",t.class="bg-blue"}return t},We=function(e){return e<50?"bg-gradient-danger":e<70?"bg-gradient-warning":e<90?"bg-gradient-info":"bg-gradient-success"},Ge=function(e){var t=new Date(e),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),n=new Intl.DateTimeFormat("en",{month:"short"}).format(t),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);return"".concat(n," ").concat(r,", ").concat(a)},He=function(e){var t=[{title:"",class:""},{title:"",class:""}];switch(e.status){case 0:t[0].title="Accept",t[1].title="Deny",t[0].class="bg-gradient-success border-0",t[1].class="bg-gradient-danger border-0";break;case 1:t[0].title="Email",t[1].title="Cancel",t[0].class="bg-gradient-info border-0",t[1].class="bg-gradient-danger border-0";break;case 2:case 3:default:t[0].title="Email",t[0].class="bg-gradient-info border-0",t[1].class="d-none"}return t},$e=function(e){return new Intl.DateTimeFormat("en",{timeStyle:"short"}).format(new Date(e))};function Je(e,t){var a,n=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"}];for(a=n.length-1;a>0&&!(e>=n[a].value);a--);return(e/n[a].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[a].symbol}var Ze=a(167),Ye=a(23),Ke=a.n(Ye),Xe=Ke.a.memoize(function(){var e=Object(v.a)(b.a.mark((function e(t){var a,n,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.split("v=")[1]){e.next=3;break}return e.abrupt("return",{items:[]});case 3:return-1!==(n=a.indexOf("&"))&&(a=a.substring(0,n)),e.next=7,E.a.get("https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=".concat(a,"&key=").concat(Ze.google_api),{headers:{Authorization:""}});case 7:return r=e.sent,s=r.data,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Qe=function(){var e=Object(v.a)(b.a.mark((function e(t,a,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],t&&0!==t.length){e.next=3;break}return e.abrupt("return",[{title:"No videos yet",italic:!0,donTrim:!1,contents:[]}]);case 3:return e.next=5,Promise.all(t.map(function(){var e=Object(v.a)(b.a.mark((function e(t){var s,o,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.video_url&&!(t.video_url.length<5)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Xe(t.video_url);case 4:if(!((s=e.sent).items.length<1)){e.next=7;break}return e.abrupt("return");case 7:o=s.items[0].snippet.thumbnails.standard.url,c=s.items[0].statistics,l={title:"",image:o,url:t.video_url,object:t,id:t.id,contents:[]},a.map((function(e){var a={};switch(e){case"title":a={value:t.video_title,centered:!1};break;case"views":a={value:Je(c.viewCount,1),centered:!0};break;case"likes":a={value:Je(c.likeCount,0),centered:!0};break;case"dislikes":a={value:Je(c.dislikeCount,0),centered:!0};break;case"buttons":a={type:"button-group",value:[{title:"Edit",callback:n[0].callback,class:"bg-gradient-info border-0"},{title:"Delete",callback:n[1].callback,class:"bg-gradient-danger border-0"}]}}l.contents.push(a)})),r.push(l);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),et=a(416),tt=a(417),at=a(418),nt=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((t=a?(Date.parse(new Date)-Date.parse(new Date(e)))/1e3:(Date.parse(new Date(e))-Date.parse(new Date))/1e3)<=0)return!1;var n={years:0,months:0,weeks:0,days:0,hours:0,min:0,sec:0,millisec:0};if(t>=31557600){if(n.years=Math.floor(t/31557600),1===n.years&&a)return" last year {none}";var r=1===n.years?" year":" years";return n.years+r}if(t>=2419200){if(n.months=Math.floor(t/2419200),1===n.months&&a)return" last month {none}";var s=1===n.months?" month":" months";return n.months+s}if(t>=604800){if(n.weeks=Math.floor(t/604800),1===n.weeks&&a)return" last week{none}";var o=1===n.weeks?" week":" weeks";return n.weeks+o}if(t>=86400){if(n.days=Math.floor(t/86400),1===n.days&&a)return" yesterday {none}";var c=1===n.days?" day":" days";return n.days+c}return a?" earlier today{none}":"0 days"},rt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"getPercentage",value:function(e,t,a){var n=100*e/t;if("previous"===a){if(0===t)return 1e3;n=Math.abs(100*(e-t)/t)}return Math.round(n)!==n&&(n=n.toFixed(2)),n}},{key:"getIndicator",value:function(){var e=this.props,t=e.value,a=e.previous,n=e.max_value,s=e.comparison,o="previous"===s&&t>a||"objective"===s&&t>=n;return"none"!==s?r.a.createElement("span",{className:o?"text-success mr-2":"text-danger mr-2"},"previous"===s&&r.a.createElement("i",{className:o?"fa fa-arrow-up":"fa fa-arrow-down"})," ","objective"===s&&this.getPercentage(t,n,s)+"%","previous"===s&&this.getPercentage(t,a,s)+"%"):null}},{key:"getDateText",value:function(){var e=this.props,t=e.comparison,a=e.since,n=e.until;if("objective"===t)return nt(n,!1)+" left";if("previous"===t){var r=nt(a,!0);return"{none}"===r.substring(r.length-6,r.length)?"vs "+(r=r.substring(0,r.length-6)):"vs "+nt(a,!0)+" ago"}}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n=e.size,s=e.icon,o=e.color,c=e.value,l=e.percentage?"%":"";return r.a.createElement(Ie.a,{lg:"6",xl:"".concat("large"===n?"6":"3")},r.a.createElement(et.a,{className:"card-stats mb-4 mb-xl-0",style:{height:"100%"}},r.a.createElement(tt.a,null,r.a.createElement(Me.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(at.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},t),r.a.createElement("span",{className:"h3 font-weight-bold mb-0"},a,!a&&c+l)),r.a.createElement(Ie.a,{className:"col-auto"},r.a.createElement("div",{className:"icon icon-sm icon-shape bg-".concat(o," text-white rounded-circle shadow")},r.a.createElement("i",{className:"fas fa-".concat(s)})))),r.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},this.getIndicator()," ",r.a.createElement("span",{className:"text-nowrap"},this.getDateText())))))}}]),a}(r.a.Component),st=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getStats()}},{key:"getStats",value:function(){this.props.getStats()}},{key:"displayStats",value:function(){return this.props.stats.map((function(e){return r.a.createElement(rt,{key:e.type,size:e.size,id:e.type,title:e.title,type:e.type,description:e.description,value:e.value,comparison:e.comparison,previous:e.previous,max_value:e.max_value,color:e.color,icon:e.icon,until:e.expires,since:e.last_update})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header bg-gradient-dark-blue pb-8 pt-5 pt-md-8"},r.a.createElement(p.a,{fluid:!0},r.a.createElement("div",{className:"header-body"},r.a.createElement(Me.a,null,this.displayStats())))))}}]),a}(r.a.Component),ot=Object(h.b)((function(e){return{stats:e.stats.stats}}),{getStats:function(){return function(){var e=Object(v.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/api/stats",{headers:{Authorization:"".concat(E.a.defaults.headers.common.Authorization)}});case 3:a=e.sent,n=a.data,t({type:I,stats:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:P,error:"Server error"}));case 12:t({type:P,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})(st),ct=a(162),lt=a(419),it=a(420),mt=a(421),ut=a(422),pt=a(168),dt=a.n(pt),ht=a(431),ft=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getTaskUsers=function(){var e=Object(v.a)(b.a.mark((function e(t){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/users/"+t,{headers:{"x-auth-token":E.a.defaults.headers.common["x-auth-token"]}});case 3:a=e.sent,r=a.data,n.setState({users:r}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),n.state={users:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTaskUsers(this.props.task_id)}},{key:"getUsers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return t>5&&(t=5),e.map((function(e,a){return t>0?(t--,r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("a",{className:"avatar avatar-sm",id:"user_"+e._id,onClick:function(e){return e.preventDefault()}},r.a.createElement("img",{alt:"...",className:"rounded-circle",src:De+"/profile-pics/".concat(e.profile_img)})),r.a.createElement(ht.a,{delay:0,target:"user_"+e._id},e.name))):null}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"avatar-group"},this.getUsers(this.state.users))}}]),a}(r.a.Component),bt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleTheme=function(e){e.preventDefault(),localStorage.setItem("dark",(!n.state.dark).toString()),n.setState({dark:!n.state.dark})},n.state={dark:n.props.dark},n}return Object(i.a)(a,[{key:"getCols",value:function(){return this.props.cols.map((function(e){return r.a.createElement("th",{key:e,scope:"col"},e)}))}},{key:"getRows",value:function(){var e=this;return this.props.rows.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row",onClick:function(a){return e.props.rowClick(a,t.id)},style:{maxWidth:t.image?"200px":"180px",cursor:"pointer",overflow:"hidden",textOverflow:t.donTrim?"ellipsis":"none"}},t.image&&e.props.with_images?r.a.createElement(Ce.a,{className:"align-items-center",style:{display:"contents"}},r.a.createElement("a",{className:"avatar avatar-xsm mr-0  thumbnail-display",style:{display:"inline-table"},onClick:function(e){return e.preventDefault()}},r.a.createElement("img",{alt:t.title,src:"".concat(t.image)})),r.a.createElement(Ce.a,{style:{display:"inline"}},r.a.createElement("span",{className:"mb-0 text-sm"},t.title))):r.a.createElement("span",{style:{fontStyle:t.italic?"italic":"normal"}},t.title)),e.getRowContent(t.contents,t.object))}))}},{key:"getButtons",value:function(e,t){return this.props.loading.includes(t.id)?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):e.value.map((function(e,a){return r.a.createElement(ct.a,{color:"primary",className:e.class,onClick:function(){return e.callback(t)},size:"sm",key:a},e.title)}))}},{key:"getRowContent",value:function(e,t){var a=this;return e.map((function(e,n){switch(e.type){case"custom_element":return r.a.createElement("td",{key:n},r.a.createElement(dt.a,{renderInWrapper:!1,jsx:e.customElement})," ",a.value(e));case"arrow":return r.a.createElement("td",{key:n},r.a.createElement("i",{className:"fas ".concat(e.arrow.up?"fa-arrow-up text-success":"fa-arrow-down text-danger"," mr-1")})," ");case"badge":return r.a.createElement("td",{key:n},r.a.createElement(lt.a,{color:"",className:"badge-dot mr-4",style:{fontStyle:"italic"}},r.a.createElement("i",{className:e.class}),a.value(e)));case"avatar-group":return r.a.createElement("td",{key:n},r.a.createElement(ft,{task_id:e.task_id+""}));case"progress":return r.a.createElement("td",{key:n},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},a.value(e)),r.a.createElement("div",null,r.a.createElement(it.a,{max:"100",value:e.value,barClassName:e.class}))));case"button-group":return r.a.createElement("td",{key:n},a.getButtons(e,t));case"buttons":return r.a.createElement("td",{className:"text-right",key:n},r.a.createElement(Oe.a,null,r.a.createElement(je.a,{className:"btn-icon-only text-light",href:"#pablo",role:"button",size:"sm",color:"",onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(xe.a,{className:"dropdown-menu-arrow",right:!0},a.getActions(e.actions))));default:return r.a.createElement("td",{key:n,className:"text-wrap ".concat(e.centered?"text-center":"")},a.value(e))}}))}},{key:"getActions",value:function(e){return e.map((function(e,t){return r.a.createElement(Se.a,{href:"#pablo",key:t,onClick:function(e){return e.preventDefault()}},e.title)}))}},{key:"value",value:function(e){return r.a.createElement(r.a.Fragment,null,e.money&&"$",!e.custom_contains_value&&e.value,e.percentage&&"%")}},{key:"render",value:function(){return r.a.createElement(et.a,{className:"".concat(this.state.dark&&"bg-default"," shadow")},r.a.createElement(mt.a,{className:"".concat(this.state.dark&&"bg-transparent"," border-0")},r.a.createElement(Me.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"".concat(this.state.dark&&"text-white"," mb-0")},this.props.title)),r.a.createElement("div",{className:"col text-right"},r.a.createElement(ct.a,{color:"primary",onClick:this.toggleTheme,size:"sm"},r.a.createElement("i",{className:"fa ".concat(this.state.dark?"fa-sun":"fa-moon")})),r.a.createElement(ct.a,{color:"primary",onClick:this.props.top_callback,size:"sm",style:{display:this.props.hide_top_button&&"none"}},this.props.top_button)))),r.a.createElement(ut.a,{className:"".concat(this.state.dark&&"table-dark"," align-items-center table-flush"),responsive:!0},r.a.createElement("thead",{className:"".concat(this.state.dark?"thead-dark":"thead-light")},r.a.createElement("tr",null,this.getCols())),r.a.createElement("tbody",null,this.getRows())))}}]),a}(r.a.Component),vt=a(169),gt=a(52),Et=a(42),yt=a.n(Et),_t=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={activeNav:1,chartExample1Data:"data1"},window.Chart&&(Object(gt.setAppointments)(e.appointments),Object(gt.parseOptions)(yt.a,Object(gt.chartOptions)())),n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){Object(gt.setAppointments)(this.props.appointments)}},{key:"render",value:function(){return r.a.createElement(et.a,{className:"shadow"},r.a.createElement(mt.a,{className:"bg-transparent"},r.a.createElement(Me.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},this.props.subtitle),r.a.createElement("h2",{className:"mb-0"},this.props.title)))),r.a.createElement(tt.a,null,r.a.createElement("div",{className:"chart",style:{height:"260px"}},r.a.createElement(vt.a,{data:Object(gt.appointmentChart)().data,options:Object(gt.appointmentChart)().options}))))}}]),a}(r.a.Component),kt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(et.a,{className:"shadow"},r.a.createElement(mt.a,{className:"border-0"},r.a.createElement(Me.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},this.props.title)),r.a.createElement("div",{className:"col text-right"},r.a.createElement(ct.a,{color:"primary",onClick:this.props.top_callback,size:"sm",style:{display:this.props.hide_top_button&&"none"}},this.props.top_button)))),r.a.createElement(tt.a,null,this.props.children))}}]),a}(r.a.Component),wt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"getDate",value:function(e){var t=nt(e,!0);return"{none}"===t.substring(t.length-6,t.length)?t.substring(0,t.length-6):nt(e,!0)+" ago"}},{key:"getButtons",value:function(e){var t=this;return this.props.loading&&this.props.loading.includes(this.props.comment.id)?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(r.a.Fragment,null,0===e&&r.a.createElement(ct.a,{className:"button bg-gradient-green ",size:"sm",onClick:function(){return t.props.approve_callback(t.props.comment)},style:{width:"50%",height:"fit-content"}},r.a.createElement("i",{className:"fas fa-check text-white"})),r.a.createElement(ct.a,{className:"button bg-gradient-red",size:"sm",onClick:function(){return t.props.deny_callback(t.props.comment)},style:{width:"120%",height:"fit-content"}},r.a.createElement("i",{className:"fas fa-times text-white"})))}},{key:"render",value:function(){var e=this.props.comment,t=e.user_avatar,a=e.comment_text,n=e.user_name,s=e.date,o=e.video_title,c=e.status;return r.a.createElement(Me.a,{className:"mb-4"},r.a.createElement(Ie.a,{className:"comment"},r.a.createElement(Me.a,{className:"align-items-center"},r.a.createElement("div",{className:"col",style:{width:"36px"}},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{src:De+"/profile-pics/".concat(t)})),r.a.createElement("h3",{className:"mb-0 name"},n,0===c&&r.a.createElement("span",{className:"font-italic text-red"}," - Waiting approval")),r.a.createElement("h5",{className:"mb-0 video"},"In ",o)),r.a.createElement("div",{className:"text-right date"},this.getDate(s))),r.a.createElement(Me.a,null,r.a.createElement("div",{className:"col comment-content"},a),r.a.createElement("div",{className:"btn-group text-right mr-3 mt--2"},!this.props.hide_buttons&&this.getButtons(c)))))}}]),a}(r.a.Component);function Nt(e){var t=[];return e.map((function(e){0===e.status&&t.push(e)})),t}var Ot=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getVideoDetails=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(n.state.videos.slice(0,2),["title","views","likes","dislikes"]);case 2:t=e.sent,n.setState({videos:n.props.videos,videoTableContent:t});case 4:case"end":return e.stop()}}),e)}))),n.showMoreAppointments=function(e){e.preventDefault(),ve.push("/admin/appointments")},n.showAllVideos=function(e){e.preventDefault(),ve.push("/admin/videos")},n.showAllComments=function(e){e.preventDefault(),ve.push("/admin/comments")},n.getComments=function(){return n.props.comments.slice(0,3).map((function(e){return r.a.createElement(wt,{key:e.id,comment:e,hide_buttons:!0})}))},n.videoClick=function(e,t){e.preventDefault();var a=n.props.videos[n.props.videos.findIndex((function(e){return e.id===t}))].video_url;window.open(a,"_blank").focus()},n.state={appointments:n.props.appointments,videos:n.props.videos,videoTableContent:[{title:"Loading...",italic:!0,donTrim:!1,contents:[]}]},n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){0===t.appointments.length&&this.props.appointments.length>0&&this.setState({appointments:this.props.appointments}),0===t.videos.length&&this.props.videos.length>0&&this.getVideoDetails()}},{key:"componentDidMount",value:function(){this.props.getAppointments(),this.props.getAllComments(),this.props.getVideos(),this.getVideoDetails()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{className:"mb-5 mb-xl-0",xl:"8"},r.a.createElement(bt,{title:"Pending Appointments",top_button:"Show All",top_callback:this.showMoreAppointments,cols:["With","Status","Date","Time"],rows:Ue(Nt(this.props.appointments),["status","date","time"]),with_images:!1,rowClick:function(e){return e.preventDefault()},dark:"true"===localStorage.getItem("dark")})),r.a.createElement(Ie.a,{xl:"4"},r.a.createElement(_t,{title:"Appointments",subtitle:"Overview",size:"250px",appointments:this.state.appointments}))),r.a.createElement(Me.a,{className:"mt-5"},r.a.createElement(Ie.a,{className:"mb-5 mb-xl-0",xl:"4"},r.a.createElement(kt,{title:"Comments",top_button:"See all",top_callback:this.showAllComments},this.getComments())),r.a.createElement(Ie.a,{xl:"8"},r.a.createElement(bt,{title:"Video Activity",top_button:"Show All",top_callback:this.showAllVideos,cols:["","Title","Views","Likes","Dislikes"],with_images:!0,rows:this.state.videoTableContent,rowClick:this.videoClick,dark:"true"===localStorage.getItem("dark")})))))}}]),a}(r.a.Component),jt=Object(h.b)((function(e){return{appointments:e.appointments.appointments,comments:e.comments.comments,videos:e.videos.videos}}),{getAppointments:ze,getAllComments:Re,getVideos:Be})(Ot),Ct=a(423),xt=a(424),St=a(427),Dt=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header pb-3 pt-5 pt-lg-8 d-flex align-items-center",style:{minHeight:"400px",backgroundImage:"url("+a(332).default+")",backgroundSize:"1000px 600px",backgroundPosition:"center top"}},r.a.createElement("span",{className:"mask bg-gradient-default opacity-8"}),r.a.createElement(p.a,{className:"d-flex align-items-center",fluid:!0},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{lg:"7",md:"10"},r.a.createElement("h1",{className:"display-2 text-white"},"Hello Matin!"),r.a.createElement("p",{className:"text-white mt-0 mb-5"},"This is your settings page. You can modify information about your account!"))))))}}]),n}(r.a.Component),At=a(4),Tt=a(425),Mt=a(426),It=a(171),Pt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onSubmitPassword=function(e){e.preventDefault(),n.state.content.new_password!==n.state.content.new_password_confirmation?n.setState({error:"Passwords don't match",changed:!1}):n.state.content.new_password.length<8?n.setState({error:"Password must be at least 8 characters long",changed:!1}):(n.setState({error:"",isLoading:!0,changed:!1}),n.props.onSubmit(n.state.content))},n.state={content:{old_password:"",new_password:"",new_password_confirmation:""},error:"",changed:!1,isLoading:!1},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState({content:Object(At.a)(Object(At.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("change_pass",(function(t){t.detail.success&&e.props.closeModal(void 0,!0)}),!1)}},{key:"componentDidUpdate",value:function(e,t,a){t.content.new_password===this.state.content.new_password&&t.content.new_password_confirmation===this.state.content.new_password_confirmation&&t.content.old_password===this.state.content.old_password||this.setState({changed:!0})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.changed,n=this.props.error?this.props.error:t;return r.a.createElement(et.a,{className:"shadow"},r.a.createElement(Ct.a,{className:"m-5",onSubmit:this.onSubmitPassword},r.a.createElement("h1",{className:"ml--3 mb-3"},"Change Password"),r.a.createElement(xt.a,{className:"mb-0"},r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-lock",style:{color:n&&!a&&"Passwords don't match"!==n?"red":""}}))),r.a.createElement(St.a,{placeholder:"Old Password",type:"password",name:"old_password",onChange:this.onChange})),r.a.createElement(Tt.a,{className:"input-group-alternative mt-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-lock-open",style:{color:n&&!a&&"Old password wrong"!==n?"red":""}}))),r.a.createElement(St.a,{placeholder:"New Password",type:"password",name:"new_password",onChange:this.onChange})),r.a.createElement(Tt.a,{className:"input-group-alternative mt-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-lock-open",style:{color:n&&!a&&"Old password wrong"!==n?"red":""}}))),r.a.createElement(St.a,{placeholder:"Confirm New Password",type:"password",name:"new_password_confirmation",onChange:this.onChange}))),n&&r.a.createElement("p",{style:{color:"red",fontSize:12}},n),r.a.createElement("div",{className:" mt-3"},r.a.createElement(ct.a,{color:"primary",type:"submit"},"Change"))))}}]),a}(r.a.Component),Lt=Object(h.b)((function(e){return{error:e.auth.change_pass_error,message:e.auth.change_pass_message}}))(Pt),Ft=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onSubmitContactInfo=function(e){e.preventDefault(),n.props.onSubmit(n.state.content)},n.state={content:{address:n.props.contact.address,city:n.props.contact.city,country:n.props.contact.country,postal_code:n.props.contact.postal_code,phone:n.props.contact.phone},error:"",changed:!1,isLoading:!1},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState({content:Object(At.a)(Object(At.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("change_contact",(function(t){t.detail.success?e.props.closeModal(void 0,!0):e.props.closeModal(void 0,!1,!0)}),!1)}},{key:"render",value:function(){var e=this.state,t=e.error,a=(e.changed,this.props.error?this.props.error:t);return r.a.createElement(et.a,{className:"shadow"},r.a.createElement(Ct.a,{className:"m-5",onSubmit:this.onSubmitContactInfo},r.a.createElement("h1",{className:"ml--3 mb-3"},"Change Contact Information"),r.a.createElement(xt.a,{className:"mb-0"},r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-map-marker"}))),r.a.createElement(St.a,{placeholder:"New Address",type:"text",name:"address",value:this.state.content.address,onChange:this.onChange})),r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{xs:"6"},r.a.createElement(Tt.a,{className:"input-group-alternative mt-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-city"}))),r.a.createElement(St.a,{placeholder:"New City",type:"text",name:"city",value:this.state.content.city,onChange:this.onChange}))),r.a.createElement(Ie.a,{xs:"6"},r.a.createElement(Tt.a,{className:"input-group-alternative mt-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-flag"}))),r.a.createElement(St.a,{placeholder:"New Country",type:"text",name:"country",value:this.state.content.country,onChange:this.onChange})))),r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{xs:"4"},r.a.createElement(Tt.a,{className:"input-group-alternative mt-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-mail-bulk"}))),r.a.createElement(St.a,{placeholder:"Postal Code",type:"text",name:"postal_code",value:this.state.content.postal_code,onChange:this.onChange}))),r.a.createElement(Ie.a,{xs:"8"},r.a.createElement(Tt.a,{className:"input-group-alternative mt-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-phone"}))),r.a.createElement(St.a,{placeholder:"New Contact Phone",type:"text",name:"phone",value:this.state.content.phone,onChange:this.onChange}))))),a&&r.a.createElement("p",{style:{color:"red",fontSize:12}},a),r.a.createElement("div",{className:" mt-3"},r.a.createElement(ct.a,{color:"primary",type:"submit",className:"center"},"Change"))))}}]),a}(r.a.Component),Vt=Object(h.b)((function(e){return{error:e.auth.change_pass_error,message:e.auth.change_pass_message}}))(Ft),zt=a(172),Rt=a.n(zt),Bt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(l.a)(this,a);var r=(n=t.call(this,e)).props.width?n.props.width:"35%";return n.customStyles={content:{top:"50%",left:"50%",right:r,bottom:"auto",marginRight:"-30%",border:"none",background:"none",padding:"none",transform:"translate(-50%, -50%)",zIndex:"10"}},n}return Object(i.a)(a,[{key:"render",value:function(){return this.props.isOpen?document.querySelector("body").style.overflow="hidden":document.querySelector("body").style.overflow="visible",r.a.createElement(Rt.a,{isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose,style:this.customStyles,contentLabel:"Example Modal",ariaHideApp:!1,appElement:document.querySelector("#modal")},this.props.children)}}]),a}(r.a.Component);function Ut(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}var qt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).openPassModal=function(e){e&&e.preventDefault(),n.setState({is_pass_modal_open:!0})},n.closePassModal=function(e,t,a){e&&e.preventDefault(),n.setState({is_pass_modal_open:!1}),t&&n.showSnackBar("Password updated !"),a&&n.showSnackBar("Something went wrong")},n.modalSubmitPass=function(e){n.props.changePass(e)},n.openContactModal=function(e){e&&e.preventDefault(),n.setState({is_contact_modal_open:!0})},n.closeContactModal=function(e,t){e&&e.preventDefault(),n.setState({is_contact_modal_open:!1}),t&&n.showSnackBar("Info updated !")},n.modalSubmitContact=function(e){n.props.updateAdminInfo(e)},n.updateEmail=function(e){if(e.preventDefault(),!Ut(n.state.email)||n.state.email.length<5)return n.showSnackBar("Invalid Email");n.props.changeEmail(n.state.email)},n.state={email:"",contact:n.props.contact,is_pass_modal_open:!1,is_contact_modal_open:!1},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getAdminInfo(),document.addEventListener("change_email",(function(t){t.detail.success?e.showSnackBar("Email updated !"):e.showSnackBar("Something went wrong")}),!1)}},{key:"componentDidUpdate",value:function(e,t,a){Ke.a.isEqual(e.contact,this.props.contact)||this.setState({contact:this.props.contact})}},{key:"onChange",value:function(e){this.setState({[e.target.name]:e.target.value})}},{key:"showSnackBar",value:function(e){var t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}},{key:"render",value:function(){var e=window.innerWidth<600?"10%":void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt,null),r.a.createElement(et.a,{className:"bg-secondary shadow"},r.a.createElement(mt.a,{className:"bg-white border-0"},r.a.createElement(Me.a,{className:"align-items-center"},r.a.createElement(Ie.a,{xs:"8"},r.a.createElement("h3",{className:"mb-0"},"My account")))),r.a.createElement(tt.a,null,r.a.createElement(Ct.a,null,r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Admin Account"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{lg:"6"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Email address"),r.a.createElement(St.a,{className:"form-control-alternative",id:"input-email",placeholder:"Enter new email address",name:"email",type:"email",onChange:this.onChange,value:this.state.email}))),r.a.createElement(Ie.a,{lg:"6"},r.a.createElement(xt.a,{className:"update-btn"},r.a.createElement(ct.a,{color:"primary",className:"btn bg-red",onClick:this.updateEmail,size:"sm"},"Update")))),r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{lg:"6"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-password"},"Password"),r.a.createElement(St.a,{className:"form-control-alternative",id:"input-password",defaultValue:"******",disabled:!0})),r.a.createElement(ct.a,{color:"primary",className:"btn bg-red",onClick:this.openPassModal,size:"sm"},"Change password"))),r.a.createElement(Bt,{isOpen:this.state.is_pass_modal_open,onRequestClose:this.closePassModal,width:e},r.a.createElement(Lt,{closeModal:this.closePassModal,onSubmit:this.modalSubmitPass}))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{md:"6"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-address"},"Address"),r.a.createElement(St.a,{className:"form-control-alternative",id:"input-address",value:this.state.contact.address,placeholder:"Home Address",type:"text",disabled:!0}))),r.a.createElement(Ie.a,{lg:"6"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Phone Number"),r.a.createElement(St.a,{className:"form-control-alternative",id:"input-phone",value:this.state.contact.phone,placeholder:"Phone",disabled:!0})))),r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{lg:"4"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-city"},"City"),r.a.createElement(St.a,{className:"form-control-alternative",value:this.state.contact.city,id:"input-city",placeholder:"City",type:"text",disabled:!0}))),r.a.createElement(Ie.a,{lg:"4"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Country"),r.a.createElement(St.a,{className:"form-control-alternative",value:this.state.contact.country,id:"input-country",placeholder:"Country",type:"text",disabled:!0}))),r.a.createElement(Ie.a,{lg:"4"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Postal code"),r.a.createElement(St.a,{className:"form-control-alternative",id:"input-postal-code",value:this.state.contact.postal_code,placeholder:"Postal code",disabled:!0})))),r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{lg:"4"},r.a.createElement(ct.a,{color:"primary",className:"btn bg-red",onClick:this.openContactModal,size:"sm"},"Change Information")))),r.a.createElement(Bt,{isOpen:this.state.is_contact_modal_open,onRequestClose:this.closeContactModal,width:e},r.a.createElement(Vt,{contact:this.state.contact,closeModal:this.closeContactModal,onSubmit:this.modalSubmitContact}))))),r.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}]),a}(r.a.Component),Wt=Object(h.b)((function(e){return{email:e.auth.user.email,contact:e.admin.info}}),{changePass:ye,changeEmail:_e,getAdminInfo:function(){return function(){var e=Object(v.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get(fe,{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 3:a=e.sent,n=a.data,t({type:ce,info:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:le,error:"Server error"}));case 12:t({type:le,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},updateAdminInfo:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a,n){var r,s,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().admin.info,s=Object(At.a)(Object(At.a)({},r),{},{address:e.address,city:e.city,country:e.country,postal_code:e.postal_code,phone:e.phone}),t.next=5,ge.put(fe,s,{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 5:o=t.sent,c=o.data,document.dispatchEvent(new CustomEvent("change_contact",{detail:{success:!0}})),a({type:ie,info:c}),t.next=17;break;case 11:if(t.prev=11,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("change_contact",{detail:{success:!1}})),t.t0.response){t.next=16;break}return t.abrupt("return",a({type:me,error:"Server error"}));case 16:a({type:me,error:t.t0.response.data});case 17:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}})(qt),Gt=a(39),Ht=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(et.a,{className:" shadow"},r.a.createElement("div",{className:"ml-5 mr-5 mt-2 mb-2 text-center"},r.a.createElement("h2",{className:" mb-3 text-center"},this.props.title),r.a.createElement("div",{className:"text-center mt-3"},r.a.createElement(ct.a,{color:"gradient-success",className:"bg-gradient-teal text-white",onClick:function(){return e.props.onConfirm(e.props.object,!0)}},"Yes"),r.a.createElement(ct.a,{color:"gradient-danger",className:"bg-gradient-danger text-white",onClick:function(){return e.props.onDeny(e.props.object,!0)}},"No"))))}}]),a}(r.a.Component),$t=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).approveComment=function(e){var t=Object(At.a)({},e);t.status=1,n.setState({loading:[].concat(Object(Gt.a)(n.state.loading),[t.id])}),n.props.updateComment(t)},n.denyComment=function(e,t){t?(n.setState({loading:[].concat(Object(Gt.a)(n.state.loading),[e.id])}),n.props.deleteComment(e)):n.openConfirmModal(e)},n.openConfirmModal=function(e){n.setState({is_confirm_modal_open:!0,selected_comment:e})},n.closeConfirmModal=function(){n.setState({is_confirm_modal_open:!1,selected_comment:{}})},n.openConfirmModal=function(e){n.setState({is_confirm_modal_open:!0,selected_comment:e})},n.closeConfirmModal=function(){n.setState({is_confirm_modal_open:!1,selected_comment:{}})},n.getComments=function(){return n.props.comments.map((function(e){return r.a.createElement(wt,{key:e.id,comment:e,toggleComments:!0,hide_top_button:!0,loading:n.state.loading,approve_callback:n.approveComment,deny_callback:n.denyComment})}))},n.state={is_confirm_modal_open:!1,selected_comment:{},loading:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllComments()}},{key:"componentDidUpdate",value:function(e,t,a){Ke.a.isEqual(e.comments,this.props.comments)||this.setState({loading:[],is_confirm_modal_open:!1})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(Me.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(kt,{title:"Comments",top_button:"See all",top_callback:this.showSomething,toggleComments:!0},this.getComments()),r.a.createElement(Bt,{isOpen:this.state.is_confirm_modal_open,onRequestClose:this.closeConfirmModal,width:"55%"},r.a.createElement(Ht,{title:"Are you sure you want to delete this comment ?",object:this.state.selected_comment,onConfirm:this.denyComment,onDeny:this.closeConfirmModal}))))))}}]),a}(r.a.Component),Jt=Object(h.b)((function(e){return{comments:e.comments.comments}}),{getAllComments:Re,updateComment:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.put(pe,e,{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 3:n=t.sent,r=n.data,a({type:H,comment:r}),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),t.t0.response){t.next=12;break}return t.abrupt("return",a({type:$,error:"Server error"}));case 12:a({type:$,error:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},deleteComment:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.delete(pe+"/".concat(e.id),{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 3:a({type:J,comment:e}),t.next=11;break;case 6:if(t.prev=6,t.t0=t.catch(0),t.t0.response){t.next=10;break}return t.abrupt("return",a({type:Z,error:"Server error"}));case 10:a({type:Z,error:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})($t),Zt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).acceptButton=function(e){switch(e.status){case 0:var t=Object(At.a)({},e);t.status=1,n.setState({loading:[].concat(Object(Gt.a)(n.state.loading),[t.id])}),n.props.updateAppointment(t);break;case 1:case 2:default:n.emailPerson(e)}},n.denyButton=function(e,t){if(t)switch(e.status){case 0:case 1:case 2:default:var a=Object(At.a)({},e);a.status=2,n.setState({loading:[].concat(Object(Gt.a)(n.state.loading),[a.id])}),n.props.updateAppointment(a)}else n.openConfirmModal(e)},n.openConfirmModal=function(e){n.setState({is_confirm_modal_open:!0,selected_appointment:e})},n.closeConfirmModal=function(){n.setState({is_confirm_modal_open:!1,selected_appointment:{}})},n.state={is_confirm_modal_open:!1,selected_appointment:{},loading:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getAppointments()}},{key:"componentDidUpdate",value:function(e,t,a){Ke.a.isEqual(e.appointments,this.props.appointments)||this.setState({loading:[],is_confirm_modal_open:!1})}},{key:"emailPerson",value:function(e){window.location="mailto:"+e.client_email}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(Me.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(bt,{title:"All Appointments",top_button:"Show All",hide_top_button:!0,top_callback:this.showMoreAppointments,cols:["With","Status","Date","Time","Actions"],rows:Ue(this.props.appointments,["status","date","time","buttons"],[{callback:this.acceptButton},{callback:this.denyButton}]),loading:this.state.loading,with_images:!1,rowClick:function(e){return e.preventDefault()},dark:"true"===localStorage.getItem("dark")}),r.a.createElement(Bt,{isOpen:this.state.is_confirm_modal_open,onRequestClose:this.closeConfirmModal,width:"55%"},r.a.createElement(Ht,{title:"Are you sure you want to cancel this appointment ?",object:this.state.selected_appointment,onConfirm:this.denyButton,onDeny:this.closeConfirmModal})))),r.a.createElement(Me.a,{className:"mt-5"},r.a.createElement("div",{className:"col"}))))}}]),a}(r.a.Component),Yt=Object(h.b)((function(e){return{appointments:e.appointments.appointments}}),{getAppointments:ze,updateAppointment:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.put(he,e,{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 3:n=t.sent,r=n.data,a({type:V,appointment:r}),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),t.t0.response){t.next=12;break}return t.abrupt("return",a({type:z,error:"Server error"}));case 12:a({type:z,error:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(Zt),Kt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={content:{video_title:n.props.object.video_title,video_url:n.props.object.video_url}},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState({content:Object(At.a)(Object(At.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}},{key:"render",value:function(){var e=this;return r.a.createElement(et.a,{className:"shadow"},r.a.createElement(Ct.a,{className:"m-5",onSubmit:function(t){return e.props.onSubmit(t,e.state.content)}},r.a.createElement("h1",{className:"ml--3 mb-3"},Ke.a.isEmpty(this.props.object)?"Add a video":"Edit video"),r.a.createElement(xt.a,{className:"mb-0"},r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-signature"}))),r.a.createElement(St.a,{placeholder:"Video Title",type:"text",name:"video_title",value:this.state.content.video_title,onChange:this.onChange})),r.a.createElement(Tt.a,{className:"input-group-alternative mt-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fab fa-youtube"}))),r.a.createElement(St.a,{placeholder:"YouTube URL",type:"text",name:"video_url",value:this.state.content.video_url,onChange:this.onChange}))),r.a.createElement("div",{className:" mt-3"},r.a.createElement(ct.a,{color:"primary",type:"submit"},Ke.a.isEmpty(this.props.object)?"Add a video":"Edit video"))))}}]),a}(r.a.Component),Xt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getVideoDetails=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(n.state.videos,["title","views","likes","dislikes","buttons"],[{callback:n.editVideo},{callback:n.deleteVideo}]);case 2:t=e.sent,n.setState({videos:n.props.videos,videoTableContent:t,loading:[],is_confirm_modal_open:!1,selected_video:{}});case 4:case"end":return e.stop()}}),e)}))),n.editVideo=function(e,t){t?n.props.updateVideo(Object(At.a)(Object(At.a)({},e),{},{id:n.state.selected_video.id})):(n.setState({selected_video:e}),n.openModal())},n.addVideo=function(e,t){e.preventDefault(),n.props.addVideo(t)},n.deleteVideo=function(e,t){t?n.props.deleteVideo(e):n.openConfirmModal(e)},n.videoClick=function(e,t){e.preventDefault();var a=n.props.videos[n.props.videos.findIndex((function(e){return e.id===t}))].video_url;window.open(a,"_blank").focus()},n.openModal=function(e){e&&e.preventDefault(),n.setState({is_modal_open:!0})},n.closeModal=function(e){e.preventDefault(),n.setState({is_modal_open:!1,selected_video:{}})},n.openConfirmModal=function(e){n.setState({is_confirm_modal_open:!0,selected_video:e})},n.closeConfirmModal=function(){n.setState({is_confirm_modal_open:!1,selected_video:{}})},n.modalSubmit=function(e,t){e&&e.preventDefault(),Ke.a.isEmpty(n.state.selected_video)?n.addVideo(e,t):n.editVideo(t,!0),n.closeModal(e)},n.state={is_modal_open:!1,is_confirm_modal_open:!1,selected_video:{},loading:[],videos:n.props.videos,videoTableContent:[{title:"Loading...",italic:!0,donTrim:!1,contents:[]}]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getVideos(),this.getVideoDetails()}},{key:"componentDidUpdate",value:function(e,t,a){Ke.a.isEqual(t.videos,this.props.videos)||this.getVideoDetails()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(Me.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(bt,{title:"Video Activity",top_button:"Add Video",top_callback:this.openModal,hide_top_button:!1,add_new_vid:!0,cols:["","Title","Views","Likes","Dislikes","Actions"],with_images:!0,loading:this.state.loading,rows:this.state.videoTableContent,rowClick:this.videoClick,dark:"true"===localStorage.getItem("dark")}),r.a.createElement(Bt,{isOpen:this.state.is_modal_open,onRequestClose:this.closeModal},r.a.createElement(Kt,{dark:"true"===localStorage.getItem("dark"),closeModal:this.closeModal,object:this.state.selected_video,onSubmit:this.modalSubmit})),r.a.createElement(Bt,{isOpen:this.state.is_confirm_modal_open,onRequestClose:this.closeConfirmModal,width:"55%"},r.a.createElement(Ht,{title:"Are you sure you want to delete this video ?",object:this.state.selected_video,onConfirm:this.deleteVideo,onDeny:this.closeConfirmModal})))),r.a.createElement(Me.a,{className:"mt-5"},r.a.createElement("div",{className:"col"}))))}}]),a}(r.a.Component),Qt=Object(h.b)((function(e){return{videos:e.videos.videos}}),{getVideos:Be,addVideo:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,ge.post(de,{video_title:e.video_title,video_url:e.video_url},{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 4:n=t.sent,r=n.data,a({type:X,video:r}),t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(1),t.t0.response){t.next=13;break}return t.abrupt("return",a({type:Q,error:"Server error"}));case 13:a({type:Q,error:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},updateVideo:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,ge.put(de,e,{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 4:n=t.sent,r=n.data,a({type:ne,video:r}),t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(1),t.t0.response){t.next=13;break}return t.abrupt("return",a({type:re,error:"Server error"}));case 13:a({type:re,error:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},deleteVideo:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,ge.delete(de+"/".concat(e.id),{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 4:a({type:se,video:e}),t.next=12;break;case 7:if(t.prev=7,t.t0=t.catch(1),t.t0.response){t.next=11;break}return t.abrupt("return",a({type:oe,error:"Server error"}));case 11:a({type:oe,error:t.t0.response.data});case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Xt),ea=[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text-primary",component:jt,layout:"/admin"},{path:"/appointments",name:"Appointments",icon:"ni ni-bullet-list-67 text-red",component:Yt,layout:"/admin"},{path:"/videos",name:"Videos",icon:"ni ni-planet text-blue",component:Qt,layout:"/admin"},{path:"/comments",name:"Comments",icon:"ni ni-pin-3 text-orange",component:Jt,layout:"/admin"},{path:"/settings",name:"Settings",icon:"ni ni-single-02 text-yellow",component:Wt,layout:"/admin"}],ta=a(428),aa=a(173),na=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={collapseOpen:!1},n.logout=function(e){e.preventDefault(),n.props.logout()},n.toggleCollapse=function(){n.setState({collapseOpen:!n.state.collapseOpen})},n.closeCollapse=function(){n.setState({collapseOpen:!1})},n.createLinks=function(e){return e.map((function(e,t){return r.a.createElement(Pe.a,{key:t},r.a.createElement(Le.a,{to:e.layout+e.path,tag:d.b,onClick:n.closeCollapse,activeClassName:"active"},r.a.createElement("i",{className:e.icon}),e.name))}))},n.activeRoute.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"render",value:function(){var e,t=this.props,a=(t.bgColor,t.logo);a&&a.innerLink?e={to:a.innerLink,tag:d.a}:a&&a.outterLink&&(e={href:a.outterLink,target:"_blank"});var n=this.props.user;return r.a.createElement(we.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main"},r.a.createElement(p.a,{fluid:!0},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",{className:"navbar-toggler-icon"})),a?r.a.createElement(ta.a,Object.assign({className:"pt-0"},e),r.a.createElement("img",{alt:a.imgAlt,className:"navbar-brand-img",src:a.imgSrc})):null,r.a.createElement(Ne.a,{className:"align-items-center d-md-none"},r.a.createElement(Oe.a,{nav:!0},r.a.createElement(je.a,{nav:!0},r.a.createElement(Ce.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:De+"/profile-pics/".concat(n.profile_img)})))),r.a.createElement(xe.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(Se.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),r.a.createElement(Se.a,{to:"/admin/settings",tag:d.a},r.a.createElement("i",{className:"ni ni-settings-gear-65"}),r.a.createElement("span",null,"Settings")),r.a.createElement(Se.a,{to:"/admin/user-profile",tag:d.a},r.a.createElement("i",{className:"ni ni-calendar-grid-58"}),r.a.createElement("span",null,"Activity")),r.a.createElement(Se.a,{divider:!0}),r.a.createElement(Se.a,{href:"#pablo",onClick:this.logout},r.a.createElement("i",{className:"fas fa-door-open"}),r.a.createElement("span",null,"Logout"))))),r.a.createElement(aa.a,{navbar:!0,isOpen:this.state.collapseOpen},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(Me.a,null,a?r.a.createElement(Ie.a,{className:"collapse-brand",xs:"6"},a.innerLink?r.a.createElement(d.a,{to:a.innerLink},r.a.createElement("img",{alt:a.imgAlt,src:a.imgSrc})):r.a.createElement("a",{href:a.outterLink},r.a.createElement("img",{alt:a.imgAlt,src:a.imgSrc}))):null,r.a.createElement(Ie.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(Ne.a,{navbar:!0},this.createLinks(ea)),r.a.createElement("hr",{className:"my-3"}))))}}]),a}(r.a.Component);na.defaultProps={routes:[{}]};var ra=Object(h.b)((function(e){return{user:e.auth.user}}),{logout:Ee})(na),sa=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={first_name:"",last_name:"",email:"",password:"",password_confirmation:""},n.submitAccount=n.submitAccount.bind(Object(Ve.a)(n)),n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState({[e.target.name]:e.target.value})}},{key:"submitAccount",value:function(e){e.preventDefault(),this.setState({error:"",isLoading:!0,changed:!1}),this.props.singup(this.state)}},{key:"render",value:function(){var e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),t=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),a={text:"invalid",class:"text-danger"};return e.test(this.state.password)?a={text:"strong",class:"text-success"}:t.test(this.state.password)&&(a={text:"medium",class:"text-warning"}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{lg:"6",md:"8"},r.a.createElement(et.a,{className:"bg-secondary shadow border-0"},r.a.createElement(tt.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center text-muted mb-4"},r.a.createElement("small",null,"Sign up with credentials")),r.a.createElement(Ct.a,{role:"form",onSubmit:this.submitAccount},r.a.createElement(xt.a,null,r.a.createElement(Tt.a,{className:"input-group-alternative d-inline-flex",style:{width:"48%"}},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"ni ni-hat-3"}))),r.a.createElement(St.a,{placeholder:"First Name",name:"first_name",value:this.state.first_name,onChange:this.onChange,type:"text",required:!0})),r.a.createElement(Tt.a,{className:"input-group-alternative d-inline-flex",style:{width:"48%",float:"right"}},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"ni ni-hat-3"}))),r.a.createElement(St.a,{placeholder:"Last Name",name:"last_name",value:this.state.last_name,onChange:this.onChange,type:"text",required:!0}))),r.a.createElement(xt.a,null,r.a.createElement(Tt.a,{className:"input-group-alternative mb-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(St.a,{placeholder:"Email",type:"email",name:"email",value:this.state.email,onChange:this.onChange,autoComplete:"new-email",required:!0}))),r.a.createElement(xt.a,null,r.a.createElement(Tt.a,{className:"input-group-alternative d-inline-flex",style:{width:"48%"}},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-lock-open"}))),r.a.createElement(St.a,{placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.onChange,autoComplete:"new-password",required:!0})),r.a.createElement(Tt.a,{className:"input-group-alternative d-inline-flex",style:{width:"48%",float:"right"}},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-lock-open"}))),r.a.createElement(St.a,{placeholder:"Password Confirmation",type:"password",name:"password_confirmation",value:this.state.password_confirmation,onChange:this.onChange,autoComplete:"new-password",required:!0}))),r.a.createElement("div",{className:"text-muted font-italic"},r.a.createElement("small",null,"password strength:"," ",r.a.createElement("span",{className:"".concat(a.class," font-weight-700")},a.text))),r.a.createElement(Me.a,{className:"my-4"},r.a.createElement(Ie.a,{xs:"12"},r.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},r.a.createElement("input",{className:"custom-control-input",id:"customCheckRegister",type:"checkbox"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckRegister"},r.a.createElement("span",{className:"text-muted"},"I agree with the"," ",r.a.createElement("a",{href:"#pablo",onClick:function(e){return e.preventDefault()}},"Privacy Policy")))))),r.a.createElement("div",{className:"text-center"},r.a.createElement(ct.a,{className:"mt-4",color:"primary",type:"submit"},"Create account")))))))}}]),a}(r.a.Component),oa=Object(h.b)((function(e){return{error:e.auth.sign_up_error}}),{singup:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.post("/api/user/signup",{name:e.first_name+" "+e.last_name,email:e.email,password:e.password,profile_img:"default.jpg",admin:!1});case 3:n=t.sent,r=n.data,localStorage.setItem("jwtToken",r.token),y(r.token),a({type:N,user:Object(_.a)(r.token)}),ve.push("/auth/login"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:O,error:t.t0.response.data}),console.log(t.t0.response);case 15:console.log(e);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})(sa),ca=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",loading:!1,changed:!1},n.submit=n.submit.bind(Object(Ve.a)(n)),n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){t.email===this.state.email&&t.password===this.state.password||this.setState({changed:!0})}},{key:"submit",value:function(e){e.preventDefault(),this.setState({error:"",isLoading:!0,changed:!1}),this.props.login(this.state)}},{key:"onChange",value:function(e){this.setState({[e.target.name]:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.loading,s=e.changed,o=this.props.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{lg:"5",md:"7"},r.a.createElement(et.a,{className:"bg-secondary shadow border-0"},r.a.createElement(tt.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center text-muted mb-4"},r.a.createElement("small",null,"Sign in with credentials")),r.a.createElement(Ct.a,{role:"form",onSubmit:this.submit},r.a.createElement(xt.a,{className:"mb-3"},r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"ni ni-email-83",style:{color:o&&!s?"red":""}}))),r.a.createElement(St.a,{placeholder:"Email",name:"email",type:"email",value:t,onChange:this.onChange,autoComplete:"new-email"}))),r.a.createElement(xt.a,null,r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open",style:{color:o&&!s?"red":""}}))),r.a.createElement(St.a,{placeholder:"Password",name:"password",type:"password",value:a,onChange:this.onChange,autoComplete:"new-password"}))),o&&r.a.createElement("p",{style:{color:"red",fontSize:12}},"Wrong email or password"),r.a.createElement("div",{className:"text-center"},r.a.createElement(ct.a,{color:"primary",type:"submit",disabled:n},"Sign in"))))),r.a.createElement(Me.a,{className:"mt-3"},r.a.createElement(Ie.a,{xs:"6"},r.a.createElement(d.a,{className:"text-light",to:"/auth/forgot",onClick:function(e){return e.preventDefault()}},r.a.createElement("small",null,"Forgot password?"))))))}}]),a}(r.a.Component),la=Object(h.b)((function(e){return{error:e.auth.sign_in_error}}),{login:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.post(ue,{email:e.email,password:e.password});case 3:n=t.sent,r=n.data,localStorage.setItem("jwtToken",r.token),y(r.token),a({type:k,user:Object(_.a)(r.token)}),ve.push("/admin/index"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:w,error:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})(ca),ia=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header bg-gradient-info pt-md-8"},r.a.createElement(p.a,{fluid:!0},r.a.createElement("div",{className:"header-body"}))))}}]),a}(r.a.Component),ma=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).redirectToVideo=function(e){ve.push("/video/".concat(e))},n.state={thumbnails:{}},n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){Ke.a.isEmpty(this.state.thumbnails)&&this.props.videos.length>0&&this.getVideoDetails()}},{key:"getVideoDetails",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Promise.all(this.props.videos.map(function(){var e=Object(v.a)(b.a.mark((function e(a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(a.video_url);case 2:if(!((n=e.sent).items.length<1)){e.next=5;break}return e.abrupt("return");case 5:console.log(n),r=n.items[0].snippet.thumbnails.standard.url,t=Object(At.a)(Object(At.a)({},t),{},{[a.id]:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:this.setState({thumbnails:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.props.getVideos()}},{key:"displayVideos",value:function(){var e=this;return this.props.videos.map((function(t,a){return!t.video_url||t.video_url.length<5?null:t.video_url.split("v=")[1]?r.a.createElement(Ie.a,{xl:"4",className:"mb-5"},r.a.createElement("div",{className:"pl-1 pr-1"},r.a.createElement(Ie.a,{xl:"12",onClick:function(){return e.redirectToVideo(t.id)},className:"mb-1"},r.a.createElement("img",{style:{width:"100%",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},src:e.state.thumbnails[t.id]}),e.state.thumbnails[t.id]&&r.a.createElement("div",{className:"overlay card-img-overlay"}," ",r.a.createElement("div",{className:"play"})))),r.a.createElement("hr",{className:"mb-1 mt-4"}),r.a.createElement(Me.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},"Video"),r.a.createElement("h2",{className:"mb-0"},t.video_title)))):null}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ia,null),r.a.createElement("h1",{className:"mt-3 mb-4 text-center display-1 text-muted"},"Video Gallery"),r.a.createElement(p.a,{className:"mt-2",fluid:!0},r.a.createElement("div",null,r.a.createElement(Ie.a,null,r.a.createElement(Me.a,{className:"mr-6 ml-6"},this.displayVideos())))))}}]),a}(r.a.Component),ua=Object(h.b)((function(e){return{videos:e.videos.videos}}),{getVideos:Be})(ma),pa=a(174),da=a.n(pa),ha=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={content:{new_comment:""},error:"",isLoading:!1},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState({content:Object(At.a)(Object(At.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}},{key:"render",value:function(){var e=this.state,t=e.error;e.changed,this.props.error&&this.props.error;return r.a.createElement(et.a,{className:"shadow"},r.a.createElement(Ct.a,{className:"m-5",onSubmit:this.onSubmitSmtg},r.a.createElement("h1",{className:"ml--3 mb-3"},"Add a comment"),r.a.createElement(xt.a,{className:"mb-0"},r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-comment"}))),r.a.createElement(St.a,{placeholder:"Add a public comment...",type:"text",name:"new_comment",onChange:this.onChange}))),r.a.createElement("div",{className:" mt-3"},r.a.createElement(ct.a,{color:"primary",type:"submit"},"Publish"))))}}]),a}(r.a.Component),fa=(Object(h.b)((function(e){return{error:e.auth.change_pass_error,message:e.auth.change_pass_message}}))(ha),a(47)),ba=a(430),va=a(117),ga=a.n(va),Ea={logged_in:!1,sign_in_error:"",sign_up_error:"",change_pass_message:"",change_pass_error:"",change_email_error:"",change_avatar_error:"",user:{}},ya={stats:[],stat_error:""},_a={appointments:[],appointments_error:""},ka={comments:[],comments_error:""},wa={videos:[],video:{},videos_error:""},Na={info:{id:"",key:"",address:"",phone:"",city:"",country:"",postal_code:""},info_error:""},Oa=Object(fa.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case k:return Object(At.a)(Object(At.a)({},e),{},{logged_in:!ga()(t.user),user:t.user,sign_in_error:""});case w:return Object(At.a)(Object(At.a)({},e),{},{sign_in_error:t.error});case N:return Object(At.a)(Object(At.a)({},e),{},{logged_in:!ga()(t.user),user:t.user,sign_up_error:""});case O:return Object(At.a)(Object(At.a)({},e),{},{sign_up_error:t.error});case j:return Object(At.a)(Object(At.a)({},e),{},{logged_in:!1,sign_in_error:"",user:{}});case C:return Object(At.a)(Object(At.a)({},e),{},{user:t.user});case x:return Object(At.a)(Object(At.a)({},e),{},{change_pass_message:"changed"});case S:return Object(At.a)(Object(At.a)({},e),{},{change_pass_error:t.error});case D:return Object(At.a)(Object(At.a)({},e),{},{user:Object(At.a)(Object(At.a)({},e.user),{},{email:t.email})});case A:return Object(At.a)(Object(At.a)({},e),{},{change_email_error:t.error});case T:return Object(At.a)(Object(At.a)({},e),{},{user:Object(At.a)(Object(At.a)({},e.user),{},{profile_img:t.image})});case M:return Object(At.a)(Object(At.a)({},e),{},{change_avatar_error:t.error});default:return e}},stats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case I:return Object(At.a)(Object(At.a)({},e),{},{stats:t.stats,stat_error:""});case P:return Object(At.a)(Object(At.a)({},e),{},{stat_error:t.error});default:return e}},appointments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case L:return Object(At.a)(Object(At.a)({},e),{},{appointments:t.appointments,appointments_error:""});case V:return Object(At.a)(Object(At.a)({},e),{},{appointments:e.appointments.map((function(e){return e.id!==t.appointment.id?e:Object(At.a)(Object(At.a)({},e),t.appointment)})),appointments_error:""});case F:case z:return Object(At.a)(Object(At.a)({},e),{},{appointments_error:t.error});default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case R:return Object(At.a)(Object(At.a)({},e),{},{comments:t.comments,comments_error:""});case H:return Object(At.a)(Object(At.a)({},e),{},{comments:e.comments.map((function(e){return e.id!==t.comment.id?e:Object(At.a)(Object(At.a)({},e),t.comment)})),comments_error:""});case W:return Object(At.a)(Object(At.a)({},e),{},{comments:[].concat(Object(Gt.a)(e.comments),[t.comment]),comments_error:""});case B:return Object(At.a)(Object(At.a)({},e),{},{comments:t.comments,comments_error:""});case J:return Object(At.a)(Object(At.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.comment.id})),comments_error:""});case G:case q:case $:case Z:case U:return Object(At.a)(Object(At.a)({},e),{},{comments_error:t.error});default:return e}},videos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ee:return Object(At.a)(Object(At.a)({},e),{},{videos:t.videos,videos_error:""});case Y:return Object(At.a)(Object(At.a)({},e),{},{video:{}});case X:return Object(At.a)(Object(At.a)({},e),{},{videos:[].concat(Object(Gt.a)(e.videos),[t.video]),videos_error:""});case K:return Object(At.a)(Object(At.a)({},e),{},{video:t.video,videos_error:""});case ne:return Object(At.a)(Object(At.a)({},e),{},{videos:e.videos.map((function(e){return e.id!==t.video.id?e:Object(At.a)(Object(At.a)({},e),t.video)})),videos_error:""});case se:return Object(At.a)(Object(At.a)({},e),{},{videos:e.videos.filter((function(e){return e.id!==t.video.id})),videos_error:""});case re:case oe:case Q:case ae:case te:return Object(At.a)(Object(At.a)({},e),{},{videos_error:t.error});default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ce:return Object(At.a)(Object(At.a)({},e),{},{info:t.info,info_error:""});case le:return Object(At.a)(Object(At.a)({},e),{},{info_error:t.error});case ie:return Object(At.a)(Object(At.a)({},e),{},{info:t.info,info_error:""});case me:return Object(At.a)(Object(At.a)({},e),{},{info_error:t.error});default:return e}},form:ba.a}),ja=a(177),Ca=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||fa.d,xa=Object(fa.e)(Oa,Ca(Object(fa.a)(ja.a))),Sa=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getComments=function(){return n.filterComments(n.props.comments).map((function(e){return r.a.createElement(wt,{key:e.id,comment:e,hide_buttons:!0})}))},n.filterComments=function(e){return 0===e.length?[]:e.filter((function(e){return 1===e.status}))},n.onCommentSubmit=function(e){if(e.preventDefault(),n.state.content.new_comment.length<1)return n.showSnackBar("Please write a comment to post");n.props.addComment(n.state.content.new_comment,n.props.user,n.props.video),n.setState({content:{new_comment:""}})},n.state={is_modal_open:!1,is_confirm_modal_open:!1,description:"",content:{new_comment:""},error:"",isLoading:!1},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){0!==this.state.description.length||Ke.a.isEmpty(this.props.video)||this.getVideoDetails(),0!==this.props.video_error.length&&ve.push("/video")}},{key:"componentDidMount",value:function(){var e=this;this.props.cleanVideo(),this.props.getVideo(this.props.match.params.id),this.props.getComments(this.props.match.params.id),document.addEventListener("post_comment",(function(t){t.detail.success?e.showSnackBar("Comment submitted for approval"):e.showSnackBar("Something went wrong")}),!1)}},{key:"getVideoDetails",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(this.props.video.video_url);case 2:if(!((t=e.sent).items.length<1)){e.next=5;break}return e.abrupt("return");case 5:a=t.items[0].snippet.description,this.setState({description:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){this.setState({content:Object(At.a)(Object(At.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}},{key:"showSnackBar",value:function(e){var t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ia,null),r.a.createElement(p.a,{className:"mt-4",fluid:!0},r.a.createElement(Ie.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{xl:6},r.a.createElement("div",null,r.a.createElement(da.a,{width:"100%",url:this.props.video.video_url}))),r.a.createElement(Ie.a,{xl:6},r.a.createElement(Me.a,{className:"align-items-center"},r.a.createElement(Ie.a,null,r.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},"Video"),r.a.createElement("h2",{className:"mb-0"},this.props.video.video_title),r.a.createElement("hr",null),r.a.createElement("p",{style:{fontSize:"0.7rem"}},this.state.description))))))),r.a.createElement(p.a,{className:"mt-4 mb-4"},r.a.createElement("div",{style:{alignItems:"center",justifyContent:"center"}},r.a.createElement(Me.a,null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(kt,{title:"Comments",hide_top_button:!0,toggleComments:!0,can_add_comment:!0},r.a.createElement("div",{className:"ml-2 mr-2 mb-2"},xa.getState().auth.logged_in&&r.a.createElement(Ct.a,{onSubmit:this.onCommentSubmit},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{xl:10,md:10},r.a.createElement(xt.a,{className:"mt-0"},r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-comment"}))),r.a.createElement(St.a,{autoComplete:"off",placeholder:"Add a public comment...",type:"text",value:this.state.content.new_comment,name:"new_comment",onChange:this.onChange})))),r.a.createElement(Ie.a,{xl:2,md:2},r.a.createElement("div",null,r.a.createElement(ct.a,{id:"send_button",color:"success",className:"full-width",type:"submit"},"Send"))))),this.getComments())))))),r.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}]),a}(r.a.Component),Da=Object(h.b)((function(e){return{video:e.videos.video,video_error:e.videos.videos_error,comments:e.comments.comments,user:e.auth.user}}),{getVideo:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.get(de+"/".concat(e),{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 3:n=t.sent,r=n.data,a({type:K,video:r}),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),t.t0.response){t.next=12;break}return t.abrupt("return",a({type:te,error:"Server error"}));case 12:a({type:te,error:"Not found"});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},getComments:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.get(pe+"/by-video/".concat(e));case 3:n=t.sent,r=n.data,a({type:B,comments:r}),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),t.t0.response){t.next=12;break}return t.abrupt("return",a({type:q,error:"Server error"}));case 12:a({type:q,error:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},cleanVideo:function(){return function(e){e({type:Y})}},addComment:function(e,t,a){return function(){var n=Object(v.a)(b.a.mark((function n(r){var s,o,c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s={user_id:t.id,user_name:t.name,user_avatar:t.profile_img,comment_text:e,status:0,date:new Date,video_id:a.id,video_title:a.video_title},n.next=4,ge.post(pe,s,{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 4:o=n.sent,c=o.data,document.dispatchEvent(new CustomEvent("post_comment",{detail:{success:!0}})),r({type:W,comment:c}),n.next=16;break;case 10:if(n.prev=10,n.t0=n.catch(0),document.dispatchEvent(new CustomEvent("post_comment",{detail:{success:!1}})),n.t0.response){n.next=15;break}return n.abrupt("return",r({type:G,error:"Server error"}));case 15:r({type:G,error:n.t0.response.data});case 16:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}})(Sa),Aa=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={email:"",error:"",loading:!1},n.submit=n.submit.bind(Object(Ve.a)(n)),n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){t.email!==this.state.email&&this.setState({changed:!0})}},{key:"componentDidMount",value:function(){document.addEventListener("request_pass",(function(e){e.detail.success?console.log("VALID"):console.log("INVALID")}),!1)}},{key:"onChange",value:function(e){this.setState({[e.target.name]:e.target.value})}},{key:"submit",value:function(e){e.preventDefault(),this.props.requestPass(this.state.email)}},{key:"showSnackBar",value:function(e){var t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{lg:"5",md:"7"},r.a.createElement(et.a,{className:"bg-secondary shadow border-0"},r.a.createElement(tt.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center text-muted mb-4"},r.a.createElement("small",null,"Enter the e-mail address linked to your account")),r.a.createElement(Ct.a,{role:"form",onSubmit:this.submit},r.a.createElement(xt.a,{className:"mb-3"},r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(St.a,{placeholder:"Email",name:"email",type:"email",onChange:this.onChange}))),r.a.createElement("div",{className:"text-center"},r.a.createElement(ct.a,{color:"primary",type:"submit"},"Send code")))))),r.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}]),a}(r.a.Component),Ta=Object(h.b)(null,{requestPass:function(e){return Object(v.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.get("/api/user/generate-pass-token/"+e);case 3:document.dispatchEvent(new CustomEvent("request_pass",{detail:{success:!0}})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("request_pass",{detail:{success:!1}}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))}})(Aa),Ma=a(178),Ia=a.n(Ma),Pa=(a(359),a(85)),La=a(84),Fa=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){e.preventDefault();var t=n.isValidInput();if("object"===typeof t)return n.showSnackBar(t.message);n.setState({error:"",loading:!0}),n.props.newAppointment(n.state,n.props.user.id)},n.state={is_modal_open:!1,loading:!1,is_confirm_modal_open:!1,description:"",first_name:n.props.user.name?n.props.user.name.split(" ")[0]:"",last_name:n.props.user.name&&n.props.user.name.split(" ")[1]?n.props.user.name.split(" ")[1]:"",email:n.props.user.email,type:"TFSA",selectedDate:""},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("book_appointment",(function(t){e.setState({loading:!1}),t.detail.success?ve.push("/video"):(e.showSnackBar("Please make sure to enter all information"),e.setState({error:!0}))}),!1)}},{key:"onChange",value:function(e){this.setState({[e.target.name]:e.target.value})}},{key:"onSelectedDate",value:function(e){this.setState({selectedDate:e})}},{key:"isValidInput",value:function(){return!(this.state.first_name.length<=0||this.state.last_name.length<=0||this.state.email.length<=0||this.state.selectedDate.length<=0)||{message:"Please make sure to enter all fields"}}},{key:"showSnackBar",value:function(e){var t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),5e3),this.setState({snackbar_message:e})}},{key:"render",value:function(){var e=this,t=new Date,a=new Date;a.setDate(t.getDate()+1);var n=function(t){var a=t.value,n=t.onClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-calendar-day"}))),r.a.createElement(St.a,{placeholder:"Select a date",value:a,onChange:e.onChange,onClick:n})))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ia,null),r.a.createElement(p.a,{className:"mt-4",fluid:!0},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{xl:"5",id:"title_book_appointment"},r.a.createElement("p",{id:"title_p"},"Book Appointment"),r.a.createElement("br",null),r.a.createElement("p",{id:"subtitle_p"},r.a.createElement("em",null,"Meet with Matin Tireh Dast"))),r.a.createElement(Ie.a,{xl:"7"},r.a.createElement(Ct.a,{className:"m-5",onSubmit:this.onSubmit},r.a.createElement("h1",{className:"ml--3 mb-3"},"Information"),r.a.createElement(xt.a,{className:"mb-0"},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{xl:"6"},r.a.createElement(Tt.a,{className:"input-group-alternative mb-2"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"far fa-id-badge"}))),r.a.createElement(St.a,{placeholder:"First Name",type:"text",name:"first_name",defaultValue:this.props.user.name?this.props.user.name.split(" ")[0]:"",onChange:this.onChange}))),r.a.createElement(Ie.a,{xl:"6"},r.a.createElement(Tt.a,{className:"input-group-alternative mb-2"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-id-badge"}))),r.a.createElement(St.a,{placeholder:"Last Name",defaultValue:this.props.user.name&&this.props.user.name.split(" ")[1]?this.props.user.name.split(" ")[1]:"",type:"text",name:"last_name",onChange:this.onChange})))),r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-envelope"}))),r.a.createElement(St.a,{placeholder:"Email address",defaultValue:this.props.user.email,type:"email",name:"email",onChange:this.onChange})),r.a.createElement(Me.a,null,r.a.createElement("label",{for:"insurance-types"},r.a.createElement("h3",{className:"mt-2 ml-2"},"Choose a type of service "))),r.a.createElement(Me.a,null,r.a.createElement("select",{name:"type",onChange:this.onChange,id:"insurance-types",className:"input-group-alternative ml-3 border-white form-control"},r.a.createElement("option",{value:"TFSA"},"TFSA"),r.a.createElement("option",{value:"RRSP"},"RRSP"),r.a.createElement("option",{value:"Savings"},"Savings"),r.a.createElement("option",{value:"Loans"},"Loans"))),r.a.createElement(Me.a,null,r.a.createElement("h3",{className:"mt-2 ml-2"},"Choose a date and a time interval")),r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{md:"8"},r.a.createElement(Ia.a,{selected:this.state.selectedDate,onChange:function(t){return e.onSelectedDate(t)},timeFormat:"p",className:"full-width",showTimeSelect:!0,customInput:r.a.createElement(n,null),minDate:a,placeholderText:"dd/mm/yyyy",filterDate:function(e){var t=e.getDay();return 0!==t&&6!==t},timeIntervals:30,dateFormat:"Pp",disabledKeyboardNavigation:!0,minTime:Object(Pa.default)(Object(La.default)(new Date,0),7),maxTime:Object(Pa.default)(Object(La.default)(new Date,30),20)})))),r.a.createElement("div",{className:" mt-3"},r.a.createElement("p",{style:{color:"red",fontSize:14}},this.state.error),r.a.createElement(ct.a,{color:"primary",type:"submit",className:"mt-2 center"},this.state.loading?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):"Book appointment")))))),r.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}]),a}(r.a.Component),Va=Object(h.b)((function(e){return{appointment:e.appointments.appointment,user:e.auth.user}}),{newAppointment:function(e,t){return function(){var a=Object(v.a)(b.a.mark((function a(n){var r,s;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={client_id:t,client_name:e.first_name.replace(/\s+/g,"")+" "+e.last_name.replace(/\s+/g,""),client_email:e.email,type:e.type,date:e.selectedDate},a.next=4,ge.post(he,r,{headers:{Authorization:E.a.defaults.headers.common.Authorization}});case 4:s=a.sent,s.data,document.dispatchEvent(new CustomEvent("book_appointment",{detail:{success:!0}})),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),document.dispatchEvent(new CustomEvent("book_appointment",{detail:{success:!1}}));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})(Fa),za=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onSubmitContactInfo=function(e){e.preventDefault(),n.props.onSubmit(n.state.content)},n.state={content:{name:n.props.user.name},error:"",changed:!1,isLoading:!1},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState({content:Object(At.a)(Object(At.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("change_contact",(function(t){t.detail.success?e.props.closeModal(void 0,!0):e.props.closeModal(void 0,!1,!0)}),!1)}},{key:"render",value:function(){var e=this.state,t=e.error,a=(e.changed,this.props.error?this.props.error:t);return r.a.createElement(et.a,{className:"shadow"},r.a.createElement(Ct.a,{className:"m-5",onSubmit:this.onSubmitContactInfo},r.a.createElement("h1",{className:"ml--3 mb-3"},"Change Personal Information"),r.a.createElement(Ie.a,{xs:"12"},r.a.createElement(Tt.a,{className:"input-group-alternative mt-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-signature"}))),r.a.createElement(St.a,{placeholder:"New First Name",type:"text",name:"fname",value:this.props.user.name?this.props.user.name.split(" ")[0]:"",onChange:this.onChange}))),r.a.createElement(Ie.a,{xs:"12"},r.a.createElement(Tt.a,{className:"input-group-alternative mt-3"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-signature"}))),r.a.createElement(St.a,{placeholder:"New New Last Name",type:"text",name:"lname",value:this.state.content.name&&this.state.content.name.split(" ")[1]?this.props.user.name.split(" ")[1]:"",onChange:this.onChange}))),a&&r.a.createElement("p",{style:{color:"red",fontSize:12}},a),r.a.createElement("div",{className:" mt-3"},r.a.createElement(ct.a,{color:"primary",type:"submit",className:"center"},"Change"))))}}]),a}(r.a.Component),Ra=Object(h.b)((function(e){return{error:e.auth.change_pass_error,message:e.auth.change_pass_message,user:e.auth.user}}))(za),Ba=a(181),Ua=a(180),qa={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},Wa={borderColor:"#2196f3"},Ga={borderColor:"#00e676"},Ha={borderColor:"#ff1744"},$a={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},Ja={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},Za={display:"flex",minWidth:0,overflow:"hidden"},Ya={display:"block",width:"100%",height:"100%",objectFit:"cover"};var Ka=function(e){var t=Object(n.useState)([]),a=Object(Ba.a)(t,2),s=a[0],o=a[1],c=Object(Ua.a)({accept:"image/*",onDrop:function(e){o(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),l=c.getRootProps,i=c.getInputProps,m=c.isDragActive,u=c.isDragAccept,p=c.isDragReject,d=s.map((function(e){return r.a.createElement("div",{style:Ja,key:e.name},r.a.createElement("div",{style:Za},r.a.createElement("img",{src:e.preview,style:Ya})))})),h=Object(n.useMemo)((function(){return Object(At.a)(Object(At.a)(Object(At.a)(Object(At.a)({},qa),m?Wa:{}),u?Ga:{}),p?Ha:{})}),[m,p,u]);return Object(n.useEffect)((function(){return function(){s.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[s]),r.a.createElement(et.a,{className:"shadow p-4"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"ml--3 mb-3"},"Upload Picture"),r.a.createElement("div",l({style:h}),r.a.createElement("input",i()),r.a.createElement("p",null,"Drag and drop some files here, or click to select files")),r.a.createElement("aside",{style:$a},d)),r.a.createElement("div",{className:"align-self-center mt-3"},r.a.createElement(ct.a,{color:"primary",onClick:function(){e.onSubmit(s),e.closeModal()}},"Change"),r.a.createElement(ct.a,{color:"danger",onClick:e.closeModal},"Cancel")))},Xa=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateEmail=function(e){if(e.preventDefault(),!Ut(n.state.email)||n.state.email.length<5)return n.showSnackBar("Invalid Email");n.props.changeEmail(n.state.email)},n.openPassModal=function(e){e&&e.preventDefault(),n.setState({is_pass_modal_open:!0})},n.closePassModal=function(e,t,a){e&&e.preventDefault(),n.setState({is_pass_modal_open:!1}),t&&n.showSnackBar("Password updated !"),a&&n.showSnackBar("Something went wrong")},n.modalSubmitPass=function(e){n.props.changePass(e)},n.openContactModal=function(e){e&&e.preventDefault(),n.setState({is_contact_modal_open:!0})},n.closeContactModal=function(e,t){e&&e.preventDefault(),n.setState({is_contact_modal_open:!1}),t&&n.showSnackBar("Info updated !")},n.modalSubmitContact=function(e){n.props.updateAdminInfo(e)},n.openUploadModal=function(e){e&&e.preventDefault(),n.setState({is_upload_modal_open:!0})},n.closeUploadModal=function(e,t){e&&e.preventDefault(),n.setState({is_upload_modal_open:!1}),t&&n.showSnackBar("Info updated !")},n.modalUploadSubmit=function(e){if(e.length<=0)return n.showSnackBar("Please upload a file.");n.props.changeAvatar(e[0])},n.state={email:"",is_modal_open:!1,is_confirm_modal_open:!1,is_contact_modal_open:!1,is_upload_modal_open:!1,description:"",content:{new_comment:""},error:"",isLoading:!1,user:n.props.user,imageSrc:De+"/profile-pics/".concat(n.props.user.profile_img),imageHash:Date.now()},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){0!==this.state.description.length||Ke.a.isEmpty(this.props.video)||this.getVideoDetails()}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("change_avatar",(function(t){t.detail.success?(e.showSnackBar("Image Updated !"),e.setState({imageSrc:De+"/profile-pics/".concat(e.props.user.profile_img),imageHash:Date.now()})):e.showSnackBar("Something went wrong")}),!1),document.addEventListener("change_email",(function(t){t.detail.success?e.showSnackBar("Email updated !"):e.showSnackBar("Something went wrong")}),!1)}},{key:"onChange",value:function(e){this.setState({[e.target.name]:e.target.value})}},{key:"showSnackBar",value:function(e){var t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}},{key:"render",value:function(){var e=window.innerWidth<600?"10%":void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ia,null),r.a.createElement(p.a,{className:"mt-4",fluid:!0},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{id:"avatar-col",xs:"4",style:{borderRight:"1px solid #333"}},r.a.createElement("span",{className:"ml-4 mt-4 avatar avatar-xl rounded-circle",style:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},r.a.createElement("img",{alt:"...",src:"".concat(this.state.imageSrc,"?").concat(this.state.imageHash)})),r.a.createElement("div",{className:"ml-5 mt-5"},r.a.createElement(ct.a,{style:{color:"#f5365c",border:"2px solid #f5365c"},onClick:this.openUploadModal},"Upload Picture")),r.a.createElement(Bt,{isOpen:this.state.is_upload_modal_open,onRequestClose:this.closeUploadModal},r.a.createElement(Ka,{closeModal:this.closeUploadModal,onSubmit:this.modalUploadSubmit}))),r.a.createElement(Ie.a,{xs:"8",id:"info-col"},r.a.createElement(Ct.a,null,r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Connection and Security"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{lg:"6"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Email address"),r.a.createElement(St.a,{className:"form-control-alternative",id:"input-email",placeholder:"Enter new email address",name:"email",type:"email",onChange:this.onChange,value:this.state.email}))),r.a.createElement(Ie.a,{lg:"6"},r.a.createElement(xt.a,{className:"update-btn"},r.a.createElement(ct.a,{color:"primary",className:"btn bg-red",onClick:this.updateEmail,size:"sm"},"Update")))),r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{lg:"6"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-password"},"Password"),r.a.createElement(St.a,{className:"form-control-alternative",id:"input-password",defaultValue:"******",disabled:!0})),r.a.createElement(ct.a,{color:"primary",className:"btn bg-red mb-4",onClick:this.openPassModal,size:"sm"},"Change password"))),r.a.createElement(Bt,{isOpen:this.state.is_pass_modal_open,onRequestClose:this.closePassModal,width:e},r.a.createElement(Lt,{closeModal:this.closePassModal,onSubmit:this.modalSubmitPass})),r.a.createElement(Me.a,null,r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Personal Information")),r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{md:"6"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-fname"},"First Name"),r.a.createElement(St.a,{className:"form-control-alternative",id:"input-fname",value:this.props.user.name?this.state.user.name.split(" ")[0]:"",placeholder:"First Name",type:"text",disabled:!0}))),r.a.createElement(Ie.a,{md:"6"},r.a.createElement(xt.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-lname"},"Last Name"),r.a.createElement(St.a,{className:"form-control-alternative",id:"input-lname",value:this.state.user.name&&this.state.user.name.split(" ")[1]?this.state.user.name.split(" ")[1]:"",placeholder:"Last Name",type:"text",disabled:!0}))),r.a.createElement(Ie.a,{lg:"4"},r.a.createElement(ct.a,{color:"primary",className:"btn bg-red mb-5",onClick:this.openContactModal,value:"blabla",size:"sm"},"Change Information"))))))),r.a.createElement(Bt,{isOpen:this.state.is_contact_modal_open,width:e,onRequestClose:this.closeContactModal},r.a.createElement(Ra,{info:this.state.info,closeModal:this.closeContactModal,onSubmit:this.modalSubmitContact}))),r.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}]),a}(r.a.Component),Qa=Object(h.b)((function(e){return{email:e.auth.user.email,user:e.auth.user}}),{changeAvatar:function(e){return function(){var t=Object(v.a)(b.a.mark((function t(a,n){var r,s,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().auth.user.id,(s=new FormData).append("id",r),s.append("formFile",e),t.next=7,ge.post("/api/user/change-avatar",s);case 7:o=t.sent,c=o.data,ke(a,c),document.dispatchEvent(new CustomEvent("change_avatar",{detail:{success:!0}})),t.next=19;break;case 13:if(t.prev=13,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("change_avatar",{detail:{success:!1}})),t.t0.response){t.next=18;break}return t.abrupt("return",a({type:M,error:"Server error"}));case 18:a({type:M,error:t.t0.response.data});case 19:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()},changeEmail:_e,changePass:ye})(Xa),en=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={password:"",password_confirm:"",error:"",isLoading:!1},n.onChange=n.onChange.bind(Object(Ve.a)(n)),n.submit=n.submit.bind(Object(Ve.a)(n)),n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){}},{key:"componentDidMount",value:function(){this.props.checkPassId(this.props.match.params.id),document.addEventListener("check_pass_id",(function(e){e.detail.success?console.log("VALID"):console.log("INVALID")}),!1),document.addEventListener("change_pass_forgot",(function(e){e.detail.success?console.log("UPDATED"):console.log("NOT UPDATED")}),!1)}},{key:"onChange",value:function(e){this.setState({[e.target.name]:e.target.value})}},{key:"submit",value:function(e){e.preventDefault(),this.props.changePassByToken(this.props.match.params.id,this.state.password)}},{key:"showSnackBar",value:function(e){var t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{lg:"5",md:"7"},r.a.createElement(et.a,{className:"bg-secondary shadow border-0"},r.a.createElement(tt.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center text-muted mb-4"},r.a.createElement("small",null,"Choose a new password ")),r.a.createElement(Ct.a,{role:"form",onSubmit:this.submit},r.a.createElement(xt.a,{className:"mb-3"},r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-unlock"}))),r.a.createElement(St.a,{placeholder:"New password",name:"password",type:"password",value:this.state.password,onChange:this.onChange}))),r.a.createElement(xt.a,{className:"mb-3"},r.a.createElement(Tt.a,{className:"input-group-alternative"},r.a.createElement(Mt.a,{addonType:"prepend"},r.a.createElement(It.a,null,r.a.createElement("i",{className:"fas fa-unlock"}))),r.a.createElement(St.a,{placeholder:"Confirm new password",name:"password_confirm",type:"password",value:this.state.password_confirm,onChange:this.onChange}))),r.a.createElement("div",{className:"text-center"},r.a.createElement(ct.a,{color:"primary",type:"submit"},"Update Password")))))),r.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}]),a}(r.a.Component),tn=[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text-primary",component:jt,layout:"/admin"},{path:"/appointments",name:"Appointments",icon:"ni ni-bullet-list-67 text-red",component:Yt,layout:"/admin"},{path:"/settings",name:"Settings",icon:"ni ni-single-02 text-yellow",component:Wt,layout:"/admin"},{path:"/comments",name:"Appointments",icon:"ni ni-bullet-list-67 text-red",component:Jt,layout:"/admin"},{path:"/videos",name:"Videos",icon:"ni ni-bullet-list-67 text-red",component:Qt,layout:"/admin"},{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:la,layout:"/auth"},{path:"/register",name:"Register",icon:"",component:oa,layout:"/auth"},{path:"/forgot/restore/:id",name:"New Password",icon:"",component:Object(h.b)(null,{checkPassId:function(e){return Object(v.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.get("/api/user/check-pass-id/"+e);case 3:document.dispatchEvent(new CustomEvent("check_pass_id",{detail:{success:!0}})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("check_pass_id",{detail:{success:!1}}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))},changePassByToken:function(e,t){return Object(v.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.post("/api/user/change-pass-forgot",{token:e,password:t});case 3:document.dispatchEvent(new CustomEvent("change_pass_forgot",{detail:{success:!0}})),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),document.dispatchEvent(new CustomEvent("change_pass_forgot",{detail:{success:!1}}));case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))}})(en),layout:"/auth"},{path:"/forgot",name:"Forgot",icon:"",component:Ta,layout:"/auth"},{path:"/:id",name:"Video",icon:"ni ni-circle-08 text-pink",component:Da,layout:"/video"},{path:"/",name:"Videos",icon:"ni ni-circle-08 text-pink",component:ua,layout:"/video"},{path:"/",name:"BookAppointment",icon:"",component:Va,layout:"/appointment"},{path:"/",name:"Profile",icon:"",component:Qa,layout:"/profile"}],an=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).getRoutes=function(e){return e.map((function(e,t){return"/admin"===e.layout?r.a.createElement(c.b,{path:e.layout+e.path,component:e.component,key:t}):null}))},e.getBrandText=function(t){for(var a=1;a<tn.length;a++)if(-1!==e.props.location.pathname.indexOf(tn[a].layout+tn[a].path))return tn[a].name;return"Welcome to your dashboard"},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra,Object.assign({},this.props,{routes:tn,logo:{innerLink:"/admin/index"}})),r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(Te,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),r.a.createElement(c.d,null,this.getRoutes(tn),r.a.createElement(c.a,{from:"*",to:"/admin/index"})),r.a.createElement(p.a,{fluid:!0},r.a.createElement(Fe,null))))}}]),a}(r.a.Component),nn=a(429),rn=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{className:"navbar-top navbar-horizontal navbar-dark",expand:"md"},r.a.createElement(p.a,{className:"px-4"},r.a.createElement(ta.a,{to:"/",tag:d.a}),r.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(nn.a,{navbar:!0,toggler:"#navbar-collapse-main"},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(Me.a,null,r.a.createElement(Ie.a,{className:"collapse-brand",xs:"6"},r.a.createElement(d.a,{to:"/"})),r.a.createElement(Ie.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(Ne.a,{className:"ml-auto",navbar:!0},r.a.createElement(Pe.a,null,r.a.createElement(Le.a,{className:"nav-link-icon",to:"/main-site",tag:d.a},r.a.createElement("i",{className:"ni ni-bold-right"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Back to main site"))))))))}}]),a}(r.a.Component),sn=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"py-2"},r.a.createElement(p.a,null,r.a.createElement(Me.a,{className:"align-items-center justify-content-xl-between"},r.a.createElement(Ie.a,{xl:"12"},r.a.createElement("div",{className:"copyright text-center text-xl-center text-muted"},"\xa9 2020 Matin"))))))}}]),a}(r.a.Component),on=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).getRoutes=function(e){return e.map((function(e,t){return"/auth"===e.layout?r.a.createElement(c.b,{path:e.layout+e.path,component:e.component,key:t}):null}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){document.body.classList.add("bg-default")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("bg-default")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-content"},r.a.createElement(rn,null),r.a.createElement("div",{className:"header bg-gradient-info py-7"},r.a.createElement(p.a,null,r.a.createElement("div",{className:"header-body text-center mb-5"},r.a.createElement(Me.a,{className:"justify-content-center"},r.a.createElement(Ie.a,{lg:"5",md:"6"},r.a.createElement("h1",{className:"text-white"},"Welcome!"))))),r.a.createElement("div",{className:"separator separator-bottom separator-skew zindex-100"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0"},r.a.createElement("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})))),r.a.createElement(p.a,{className:"mt--8 pb-5"},r.a.createElement(Me.a,{className:"justify-content-center"},r.a.createElement(c.d,null,this.getRoutes(tn),r.a.createElement(c.a,{from:"*",to:"/auth/login"}))))),r.a.createElement(sn,null))}}]),a}(r.a.Component),cn=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).logout=function(t){t.preventDefault(),e.props.logout()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main"},r.a.createElement(p.a,{fluid:!0},r.a.createElement("span",{className:"h3 mb-0 text-white text-uppercase d-none d-lg-inline-block"},this.props.brandText),r.a.createElement(Ne.a,{className:"align-items-center d-none d-md-flex",navbar:!0},r.a.createElement(Oe.a,{nav:!0},r.a.createElement(je.a,{className:"pr-0",nav:!0},r.a.createElement(Ce.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:De+"/profile-pics/".concat(e.profile_img)})),r.a.createElement(Ce.a,{className:"ml-2 d-none d-lg-block"},r.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},e.name)))),r.a.createElement(xe.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(Se.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),r.a.createElement(Se.a,{to:"/profile",tag:d.a},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",null,"My profile")),r.a.createElement(Se.a,{to:"/contact-us",tag:d.a},r.a.createElement("i",{className:"ni ni-support-16"}),r.a.createElement("span",null,"Support")),r.a.createElement(Se.a,{divider:!0}),r.a.createElement(Se.a,{onClick:this.logout},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout"))))))))}}]),a}(r.a.Component),ln=Object(h.b)((function(e){return{user:e.auth.user}}),{logout:Ee})(cn),mn=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).getRoutes=function(e){return e.map((function(e,t){return"/video"===e.layout?r.a.createElement(c.b,{path:e.layout+e.path,component:e.component,key:t}):null}))},e.getBrandText=function(t){for(var a=1;a<tn.length;a++)if(-1!==e.props.location.pathname.indexOf(tn[a].layout+tn[a].path))return tn[a].name;return"Video Gallery"},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(ln,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),r.a.createElement(c.d,null,this.getRoutes(tn),r.a.createElement(c.a,{from:"*",to:"/video"}))))}}]),a}(r.a.Component),un=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).getRoutes=function(e){return e.map((function(e,t){return"/appointment"===e.layout?r.a.createElement(c.b,{path:e.layout+e.path,component:e.component,key:t}):null}))},e.getBrandText=function(t){for(var a=1;a<tn.length;a++)if(-1!==e.props.location.pathname.indexOf(tn[a].layout+tn[a].path))return tn[a].name;return"Appointment"},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra,Object.assign({},this.props,{routes:tn,logo:{innerLink:"/admin/index"}})),r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(ln,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),r.a.createElement(c.d,null,this.getRoutes(tn),r.a.createElement(c.a,{from:"*",to:"/appointment"}))))}}]),a}(r.a.Component),pn=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).getRoutes=function(e){return e.map((function(e,t){return"/profile"===e.layout?r.a.createElement(c.b,{path:e.layout+e.path,component:e.component,key:t}):null}))},e.getBrandText=function(t){for(var a=1;a<tn.length;a++)if(-1!==e.props.location.pathname.indexOf(tn[a].layout+tn[a].path))return tn[a].name;return"User"},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(ln,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),r.a.createElement(c.d,null,this.getRoutes(tn),r.a.createElement(c.a,{from:"*",to:"/profile"}))))}}]),a}(r.a.Component),dn=function(e){var t=function(t){Object(m.a)(n,t);var a=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).UNSAFE_componentWillUpdate=function(e){e.logged_in||ve.push("/auth/login")},e}return Object(i.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.logged_in||ve.push("/auth/login")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(r.a.Component);return Object(h.b)((function(e){return{logged_in:e.auth.logged_in}}))(t)};localStorage.jwtToken&&(y(localStorage.jwtToken),xa.dispatch({type:k,user:Object(_.a)(localStorage.jwtToken)})),o.a.render(r.a.createElement(h.a,{store:xa},r.a.createElement(c.c,{history:ve},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/admin",component:dn(an)}),r.a.createElement(c.b,{path:"/auth",component:function(e){var t=function(t){Object(m.a)(n,t);var a=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).UNSAFE_componentWillUpdate=function(e){e.logged_in&&("true"===e.user.admin.toLowerCase()?ve.push("/admin/index"):ve.push("/video"))},e}return Object(i.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.logged_in&&("true"===this.props.user.admin.toLowerCase()?ve.push("/admin/index"):ve.push("/video"))}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(r.a.Component);return Object(h.b)((function(e){return{logged_in:e.auth.logged_in,user:e.auth.user}}))(t)}(on)}),r.a.createElement(c.b,{path:"/video",component:mn}),r.a.createElement(c.b,{path:"/appointment",component:un}),r.a.createElement(c.b,{path:"/profile",component:dn(pn)}),r.a.createElement(c.a,{from:"/",to:"/auth/login"})))),document.getElementById("root"))},52:function(e,t,a){var n=this,r=a(42);r.elements.Rectangle.prototype.draw=function(){var e,t,a,n,r,s,o,c=this._chart.ctx,l=this._view,i=l.borderWidth;if(l.horizontal?(e=l.base,t=l.x,a=l.y-l.height/2,n=l.y+l.height/2,r=t>e?1:-1,s=1,o=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,a=l.y,r=1,s=(n=l.base)>a?1:-1,o=l.borderSkipped||"bottom"),i){var m=Math.min(Math.abs(e-t),Math.abs(a-n)),u=(i=i>m?m:i)/2,p=e+("left"!==o?u*r:0),d=t+("right"!==o?-u*r:0),h=a+("top"!==o?u*s:0),f=n+("bottom"!==o?-u*s:0);p!==d&&(a=h,n=f),h!==f&&(e=p,t=d)}c.beginPath(),c.fillStyle=l.backgroundColor,c.strokeStyle=l.borderColor,c.lineWidth=i;var b=[[e,n],[e,a],[t,a],[t,n]],v=["bottom","left","top","right"].indexOf(o,0);function g(e){return b[(v+e)%4]}-1===v&&(v=0);var E=g(0);c.moveTo(E[0],E[1]);for(var y=1;y<4;y++){E=g(y);var _=y+1;4===_&&(_=0);var k,w=b[2][0]-b[1][0],N=b[0][1]-b[1][1],O=b[1][0],j=b[1][1];(k=6)>N/2&&(k=N/2),k>w/2&&(k=w/2),c.moveTo(O+k,j),c.lineTo(O+w-k,j),c.quadraticCurveTo(O+w,j,O+w,j+k),c.lineTo(O+w,j+N-k),c.quadraticCurveTo(O+w,j+N,O+w-k,j+N),c.lineTo(O+k,j+N),c.quadraticCurveTo(O,j+N,O,j+N-k),c.lineTo(O,j+k),c.quadraticCurveTo(O,j,O+k,j)}c.fill(),i&&c.stroke()};var s="Open Sans",o={100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},c={default:"#172b4d",primary:"#2dce89",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},l="#FFFFFF",i="transparent";this.appointments=[];var m={options:{scales:{yAxes:[{gridLines:{color:o[900],zeroLineColor:o[900]},ticks:{callback:function(e){if(!(e%10))return"$"+e+"k"}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,r="";return t.datasets.length>1&&(r+=a),r+="$"+n+"k"}}}},data1:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,10,30,15,40,20,60,60]}]}},data2:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,5,25,10,30,15,40,40]}]}}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=new Date;t.setDate(1),t.setMonth(t.getMonth()-e+2);for(var a=[],n=e;n>0;n--)a.push(new Intl.DateTimeFormat("en",{month:"short"}).format(t)),t.setMonth(t.getMonth()+1);return a},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=new Date;a.setDate(1),a.setMonth(a.getMonth()-t+2);for(var n=[],r=function(t){var r=0;e.map((function(e){new Date(e.date).getMonth()===a.getMonth()&&2!==e.status&&r++})),a.setMonth(a.getMonth()+1),n.push(r)},s=t;s>0;s--)r(s);return n};e.exports={chartOptions:function(){var e={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:o[600],defaultFontColor:o[600],defaultFontFamily:s,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:c.primary},line:{tension:.4,borderWidth:4,borderColor:c.primary,backgroundColor:i,borderCapStyle:"rounded"},rectangle:{backgroundColor:c.primary},arc:{backgroundColor:c.primary,borderColor:l,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(e){var t=e.data,a="";return t.labels.forEach((function(e,n){var r=t.datasets[0].backgroundColor[n];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+r+'"></i>',a+=e,a+="</span>"})),a}}}};return r.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:o[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:o[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(e){if(!(e%10))return e}}}),r.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20}}),e},parseOptions:function e(t,a){for(var n in a)"object"!==typeof a[n]?t[n]=a[n]:e(t[n],a[n])},setAppointments:function(e){n.appointments=e},chartExample1:m,appointmentChart:function(){return{options:{scales:{yAxes:[{ticks:{callback:function(e){if(!(e%10))return e}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,r="";return t.datasets.length>1&&(r+=a),r+=n}}}},data:{labels:u(),datasets:[{label:"Appointments",data:p(n.appointments),maxBarThickness:10}]}}}}}},[[400,1,2]]]);
//# sourceMappingURL=main.e95b0556.chunk.js.map