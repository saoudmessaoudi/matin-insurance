(this["webpackJsonpnovem-dashboard"]=this["webpackJsonpnovem-dashboard"]||[]).push([[0],{161:function(e){e.exports=JSON.parse('{"google_api":"AIzaSyBXlrYsyiHh3qfbh61QwQh234nu3amFn2k"}')},180:function(e,t,a){},182:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/profile-cover.80bf0f3e.jpg"},324:function(e,t){e.exports='\n\n<footer id="footer" style="margin : -15px">\n    <div class="footer-top"  style="margin-bottom : -30px">\n      <div class="container">\n        <div class="row">\n\n          <div class="col-lg-3 col-md-6 footer-contact">\n            <h3>Matin\'s Insurance<span>.</span></h3>\n            <p>\n              2000 McGill College Ave, Montreal, Quebec <br>H3A 3J1 <br><br>\n              <strong>Phone:</strong> 1-866-650-4641<br>\n              <strong>Email:</strong> matin.tirehdast@gmail.com<br>\n            </p>\n          </div>\n\n          <div class="col-lg-3 col-md-6 footer-links">\n            <h4>Useful Links</h4>\n            <ul>\n              <li><i class="bx bx-chevron-right"></i> <a href="/">Home</a></li>\n              <li><i class="bx bx-chevron-right"></i> <a href="/video">Videos</a></li>\n              <li><i class="bx bx-chevron-right"></i> <a href="/appointment">Book An Appointment</a></li>\n            </ul>\n          </div>\n\n          <div class="col-lg-3 col-md-6 footer-links">\n            <h4>Our Services</h4>\n            <ul>\n              <li><i class="bx bx-chevron-right"></i> <a href="/life.html">Life Insurance</a></li>\n              <li><i class="bx bx-chevron-right"></i> <a href="/mortgage.html">Mortgage Insurance</a></li>\n              <li><i class="bx bx-chevron-right"></i> <a href="/critical.html">Critical illness and <br><br> Disability Insurance</a></li>\n              \n            </ul>\n          </div>\n\n          \n          <div class="col-lg-3 col-md-6 footer-links">\n            <ul>\n              <li><i class="bx bx-chevron-right"></i> <a href="/resp.html">RESP</a></li>\n              <li><i class="bx bx-chevron-right"></i> <a href="/rrsp.html">RRSP</a></li>\n              <li><i class="bx bx-chevron-right"></i> <a href="/tfsa.html">TFSA</a></li>\n            </ul>\n        </div>\n      </div>\n    </div>\n  </footer>\n\n\n'},385:function(e,t){e.exports='\n<header id="header" style="background: none;box-shadow: none">\n  <div class="container d-flex align-items-center">\n\n      <h1 class="logo mr-auto" id="header-title"><a href="index.html">Matin\'s Insurance.<span></span></a></h1>\n\n\n      <nav class="nav-menu d-none d-lg-block">\n          <ul>\n              <li class="active"><a href="index.html">Home</a></li>\n              <li class="nav-item dropdown">\n                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                  Coverage\n                </a>\n                <div class="dropdown-menu" aria-labelledby="navbarDropdown" id = "coverage-menu">\n                  <p class="downdown-item" style="color : #106eea; margin:0px; margin-bottom: 10px"><strong>Insurance</strong></p>\n                      <a class="dropdown-item" href="/life.html">Life</a>\n                      <a class="dropdown-item" href="mortgage.html">Mortgage</a>\n                      <a class="dropdown-item" href="critical.html">Disability</a>\n                      <a class="dropdown-item" href="homeCar.html">Home & Car</a>\n                      <a class="dropdown-item" href="travel.html">Travel</a>\n                      <div class="dropdown-divider" style="background-color: #106eea"></div>\n                      <a class="dropdown-item" href="resp.html">RESP</a>\n                      <a class="dropdown-item" href="rrsp.html">RRSP</a>\n                      <a class="dropdown-item" href="tfsa.html">TFSA</a>\n                    </div>\n              </li>\n              <li><a href="/video">Videos</a></li>\n              <li><a href="/appointment">Book an Appointment</a></li>\n\n          </ul>\n      </nav>\n\n  </div>\n\n</header>'},386:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(24),o=a.n(r),l=a(43),i=(a(180),a(181),a(182),a(392)),c=a(17),m=a(11),p=a(7),d=a.n(p),u=a(12),h=a(16),g=a.n(h);function E(e){e?g.a.defaults.headers.common.Authorization="Bearer "+e:delete g.a.defaults.headers.common.Authorization}var b=a(52);const v="SIGN_IN",f="SIGN_IN_ERROR",_="SIGN_UP",y="SIGN_UP_ERROR",w="SIGN_OUT",N="UPDATE_TOKEN",x="CHANGE_PASS_ERROR",k="CHANGE_EMAIL_ERROR",C="CHANGE_AVATAR_ERROR",S="GET_STATS",O="GET_STATS_FAIL",j="GET_APPOINTMENTS",D="GET_APPOINTMENTS_FAIL",T="UPDATE_APPOINTMENT",A="UPDATE_APPOINTMENT_FAIL",M="GET_COMMENTS",I="GET_VIDEO_COMMENTS",P="GET_COMMENTS_FAIL",F="GET_VIDEO_COMMENTS_FAIL",L="ADD_COMMENT",B="ADD_COMMENT_FAIL",V="UPDATE_COMMENT",z="UPDATE_COMMENT_FAIL",R="DELETE_COMMENT",U="DELETE_COMMENT_FAIL",q="CLEAN_VIDEO",G="GET_VIDEO",W="POST_VIDEO",H="POST_VIDEO_FAIL",Z="GET_VIDEOS",$="GET_VIDEO_FAIL",J="GET_VIDEOS_FAIL",Y="UPDATE_VIDEO",K="UPDATE_VIDEO_FAIL",Q="DELETE_VIDEO",X="DELETE_VIDEO_FAIL",ee="GET_INFO",te="GET_INFO_FAIL",ae="UPDATE_INFO",ne="UPDATE_INFO_FAIL",se="GET_SUBMISSION",re="GET_SUBMISSION_FAIL",oe="DELETE_SUBMISSION",le="DELETE_SUBMISSION_FAIL",ie="GET_SUBMISSIONS",ce="GET_SUBMISSIONS_FAIL",me="/api/user",pe="/api/comment",de="/api/submission",ue="/api/video",he="/api/appointment",ge="/api/admininfo";var Ee=a(25),be=Object(Ee.a)(),ve=g.a.create({baseURL:"http://localhost:5000"});const fe=()=>e=>{localStorage.removeItem("jwtToken"),E(!1),e({type:w}),be.push("/auth/login")},_e=e=>function(){var t=Object(u.a)(d.a.mark((function t(a,n){var s,r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=n().auth.user.id,t.next=4,ve.post("/api/user/change-pass",{id:s,old:e.old_password,password:e.new_password});case 4:r=t.sent,o=r.data,document.dispatchEvent(new CustomEvent("change_pass",{detail:{success:!0}})),we(a,o),t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("change_pass",{detail:{success:!1}})),t.t0.response){t.next=15;break}return t.abrupt("return",a({type:x,error:"Server error"}));case 15:a({type:x,error:t.t0.response.data});case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),ye=e=>function(){var t=Object(u.a)(d.a.mark((function t(a,n){var s,r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=n().auth.user.id,t.next=4,ve.post("/api/user/change-email",{id:s,email:e});case 4:r=t.sent,o=r.data,we(a,o),document.dispatchEvent(new CustomEvent("change_email",{detail:{success:!0}})),t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("change_email",{detail:{success:!1}})),t.t0.response){t.next=15;break}return t.abrupt("return",a({type:k,error:"Server error"}));case 15:a({type:k,error:t.t0.response.data});case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),we=(e,t)=>{localStorage.setItem("jwtToken",t),E(t),e({type:N,user:Object(b.a)(t)})};var Ne=a(391),xe=a(393),ke=a(418),Ce=a(394),Se=a(395),Oe=a(396),je=a(397);var De="http://localhost:5000";class Te extends s.a.Component{constructor(...e){super(...e),this.logout=e=>{e.preventDefault(),this.props.logout()}}render(){const e=this.props.user;return console.log(e),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ne.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main"},s.a.createElement(i.a,{fluid:!0},s.a.createElement("span",{className:"h3 mb-0 text-white text-uppercase d-none d-lg-inline-block"},this.props.brandText),s.a.createElement(xe.a,{className:"align-items-center d-md-flex navbar-nav d-none",navbar:!0,id:"user-nav"},s.a.createElement(ke.a,{nav:!0},s.a.createElement(Ce.a,{className:"pr-0",nav:!0},s.a.createElement(Se.a,{className:"align-items-center"},s.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},s.a.createElement("img",{alt:"...",src:De+"/profile-pics/".concat(e.profile_img)})),s.a.createElement(Se.a,{className:"ml-2 d-none d-lg-block"},s.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},e.name)))),s.a.createElement(Oe.a,{className:"dropdown-menu-arrow",id:"user-dropdown-menu",right:!0},s.a.createElement(je.a,{className:"noti-title",header:!0,tag:"div"},s.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),s.a.createElement(je.a,{to:"/admin",tag:c.a},s.a.createElement("i",{className:"fas fa-chart-line"}),s.a.createElement("span",null,"Dashboard")),s.a.createElement(je.a,{to:"/profile",tag:c.a},s.a.createElement("i",{className:"ni ni-single-02"}),s.a.createElement("span",null,"My profile")),s.a.createElement(je.a,{divider:!0}),s.a.createElement(je.a,{to:"/index.html"},s.a.createElement("i",{className:"fas fa-home"}),s.a.createElement("span",null,"Home")),s.a.createElement(je.a,{to:"/video",tag:c.a},s.a.createElement("i",{className:"fas fa-photo-video"}),s.a.createElement("span",null,"Videos")),s.a.createElement(je.a,{to:"/appointment",tag:c.a},s.a.createElement("i",{className:"fas fa-id-card"}),s.a.createElement("span",null,"Contact")),s.a.createElement(je.a,{className:"d-block d-lg-none",divider:!0}),s.a.createElement(je.a,{to:"/",className:"d-block d-lg-none",tag:c.a},s.a.createElement("i",{className:"fas fa-home"}),s.a.createElement("span",null,"Home")),s.a.createElement(je.a,{to:"/video",className:"d-block d-lg-none",tag:c.a},s.a.createElement("i",{className:"fas fa-photo-video"}),s.a.createElement("span",null,"Videos")),s.a.createElement(je.a,{to:"/appointment",className:"d-block d-lg-none",tag:c.a},s.a.createElement("i",{className:"fas fa-id-card"}),s.a.createElement("span",null,"Contact")),s.a.createElement(je.a,{divider:!0}),s.a.createElement(je.a,{onClick:this.logout},s.a.createElement("i",{className:"ni ni-user-run"}),s.a.createElement("span",null,"Logout"))))))))}}var Ae=Object(m.b)((e=>({user:e.auth.user})),{logout:fe})(Te),Me=a(398),Ie=a(399);class Pe extends s.a.Component{render(){return s.a.createElement("footer",{className:"footer"},s.a.createElement(Me.a,{className:"align-items-center justify-content-xl-between"},s.a.createElement(Ie.a,{xl:"6"},s.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},"2020"," ",s.a.createElement("a",{className:"font-weight-bold ml-1",href:"/",rel:"noopener noreferrer",target:"_blank"},"Matin")))))}}var Fe=Pe;const Le=()=>function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.get(he,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 3:a=e.sent,n=a.data,t({type:j,appointments:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:D,error:"Server error"}));case 12:t({type:D,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Be=()=>function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.get(pe);case 3:a=e.sent,n=a.data,t({type:M,comments:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:P,error:"Server error"}));case 12:t({type:P,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ve=()=>function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.get(ue,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 3:a=e.sent,n=a.data,t({type:Z,videos:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:J,error:"Server error"}));case 12:t({type:J,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();var ze=(e,t,a)=>{const n=[];let s=!1;return e&&0!==e.length?(e.map((e=>{const r={title:e.client_name,id:e.id,object:e,contents:[]};if(t.map((t=>{let n={};switch(t){case"users":n={type:"avatar-group",task_id:e._id};break;case"status":n={type:"badge",value:Re(e.status).status,class:Re(e.status).class};break;case"progress":n={type:"progress",value:e.completion,class:Ue(e.completion)};break;case"date":n={value:qe(e.date)};break;case"time":n={value:We(e.date)};break;case"buttons":s=!0,n={type:"button-group",value:[]};const t=Ge(e);let r=0;t.map((e=>{n.value.push({title:e.title,callback:a[r].callback,class:e.class}),r++}))}r.contents.push(n)})),a&&!s){const e={type:"buttons",actions:[]};a.map((t=>{e.actions.push({title:t.title,callback:t.callback,class:t.class})})),r.contents.push(e)}n.push(r)})),n):[{title:"No pending appointments",italic:!0,donTrim:!1,contents:[]}]};const Re=e=>{const t={status:"",class:""};switch(e){case 0:t.status="Waiting",t.class="bg-info";break;case 1:t.status="Accepted",t.class="bg-success";break;case 2:t.status="Cancelled",t.class="bg-danger";break;case 3:t.status="Done",t.class="bg-success";break;default:t.status="Unknown",t.class="bg-blue"}return t},Ue=e=>e<50?"bg-gradient-danger":e<70?"bg-gradient-warning":e<90?"bg-gradient-info":"bg-gradient-success",qe=e=>{const t=new Date(e),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),n=new Intl.DateTimeFormat("en",{month:"short"}).format(t),s=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);return"".concat(n," ").concat(s,", ").concat(a)},Ge=e=>{const t=[{title:"",class:""},{title:"",class:""}];switch(e.status){case 0:t[0].title="Accept",t[1].title="Deny",t[0].class="bg-gradient-success border-0",t[1].class="bg-gradient-danger border-0";break;case 1:t[0].title="Email",t[1].title="Cancel",t[0].class="bg-gradient-info border-0",t[1].class="bg-gradient-danger border-0";break;case 2:case 3:default:t[0].title="Email",t[0].class="bg-gradient-info border-0",t[1].class="d-none"}return t},We=e=>new Intl.DateTimeFormat("en",{timeStyle:"short"}).format(new Date(e));function He(e,t){var a,n=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"}];for(a=n.length-1;a>0&&!(e>=n[a].value);a--);return(e/n[a].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[a].symbol}var Ze=a(161),$e=a(18),Je=a.n($e),Ye=Je.a.memoize(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.split("v=")[1]){e.next=3;break}return e.abrupt("return",{items:[]});case 3:return-1!==(n=a.indexOf("&"))&&(a=a.substring(0,n)),e.next=7,g.a.get("https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=".concat(a,"&key=").concat(Ze.google_api),{headers:{Authorization:""}});case 7:return s=e.sent,r=s.data,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ke=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],t&&0!==t.length){e.next=3;break}return e.abrupt("return",[{title:"No videos yet",italic:!0,donTrim:!1,contents:[]}]);case 3:return e.next=5,Promise.all(t.map(function(){var e=Object(u.a)(d.a.mark((function e(t){var r,o,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.video_url&&!(t.video_url.length<5)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ye(t.video_url);case 4:if(!((r=e.sent).items.length<1)){e.next=7;break}return e.abrupt("return");case 7:o=r.items[0].snippet.thumbnails.standard.url,l=r.items[0].statistics,i={title:"",image:o,url:t.video_url,object:t,id:t.id,contents:[]},a.map((e=>{let a={};switch(e){case"title":a={value:t.video_title,centered:!1};break;case"views":a={value:He(l.viewCount,1),centered:!0};break;case"likes":a={value:He(l.likeCount,0),centered:!0};break;case"dislikes":a={value:He(l.dislikeCount,0),centered:!0};break;case"buttons":a={type:"button-group",value:[{title:"Edit",callback:n[0].callback,class:"bg-gradient-info border-0"},{title:"Delete",callback:n[1].callback,class:"bg-gradient-danger border-0"}]}}i.contents.push(a)})),s.push(i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Qe=a(400),Xe=a(401),et=a(402),tt=(e,t=!1)=>{let a;if(a=t?(Date.parse(new Date)-Date.parse(new Date(e)))/1e3:(Date.parse(new Date(e))-Date.parse(new Date))/1e3,a<=0)return!1;const n={years:0,months:0,weeks:0,days:0,hours:0,min:0,sec:0,millisec:0};if(a>=31557600){if(n.years=Math.floor(a/31557600),1===n.years&&t)return" last year {none}";const e=1===n.years?" year":" years";return n.years+e}if(a>=2419200){if(n.months=Math.floor(a/2419200),1===n.months&&t)return" last month {none}";const e=1===n.months?" month":" months";return n.months+e}if(a>=604800){if(n.weeks=Math.floor(a/604800),1===n.weeks&&t)return" last week{none}";const e=1===n.weeks?" week":" weeks";return n.weeks+e}if(a>=86400){if(n.days=Math.floor(a/86400),1===n.days&&t)return" yesterday {none}";const e=1===n.days?" day":" days";return n.days+e}return t?" earlier today{none}":"0 days"};class at extends s.a.Component{getPercentage(e,t,a){let n=100*e/t;if("previous"===a){if(0===t)return 1e3;n=Math.abs(100*(e-t)/t)}return Math.round(n)!==n&&(n=n.toFixed(2)),n}getIndicator(){const e=this.props,t=e.value,a=e.previous,n=e.max_value,r=e.comparison,o="previous"===r&&t>a||"objective"===r&&t>=n;return"none"!==r?s.a.createElement("span",{className:o?"text-success mr-2":"text-danger mr-2"},"previous"===r&&s.a.createElement("i",{className:o?"fa fa-arrow-up":"fa fa-arrow-down"})," ","objective"===r&&this.getPercentage(t,n,r)+"%","previous"===r&&this.getPercentage(t,a,r)+"%"):null}getDateText(){const e=this.props,t=e.comparison,a=e.since,n=e.until;if("objective"===t)return tt(n,!1)+" left";if("previous"===t){let e=tt(a,!0);return"{none}"===e.substring(e.length-6,e.length)?(e=e.substring(0,e.length-6),"vs "+e):"vs "+tt(a,!0)+" ago"}}render(){const e=this.props,t=e.title,a=e.description,n=e.size,r=e.icon,o=e.color,l=e.value,i=e.percentage?"%":"";return s.a.createElement(Ie.a,{lg:"6",xl:"".concat("large"===n?"6":"3")},s.a.createElement(Qe.a,{className:"card-stats mb-4 mb-xl-0",style:{height:"100%"}},s.a.createElement(Xe.a,null,s.a.createElement(Me.a,null,s.a.createElement("div",{className:"col"},s.a.createElement(et.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},t),s.a.createElement("span",{className:"h3 font-weight-bold mb-0"},a,!a&&l+i)),s.a.createElement(Ie.a,{className:"col-auto"},s.a.createElement("div",{className:"icon icon-sm icon-shape bg-".concat(o," text-white rounded-circle shadow")},s.a.createElement("i",{className:"fas fa-".concat(r)})))),s.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},this.getIndicator()," ",s.a.createElement("span",{className:"text-nowrap"},this.getDateText())))))}}var nt=at;class st extends s.a.Component{componentDidMount(){this.getStats()}getStats(){this.props.getStats()}displayStats(){return this.props.stats.map((e=>s.a.createElement(nt,{key:e.type,size:e.size,id:e.type,title:e.title,type:e.type,description:e.description,value:e.value,comparison:e.comparison,previous:e.previous,max_value:e.max_value,color:e.color,icon:e.icon,until:e.expires,since:e.last_update})))}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header bg-gradient-dark-blue pb-8 pt-5 pt-md-8"},s.a.createElement(i.a,{fluid:!0},s.a.createElement("div",{className:"header-body"},s.a.createElement(Me.a,null,this.displayStats())))))}}var rt=Object(m.b)((e=>({stats:e.stats.stats})),{getStats:()=>function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.get("/api/stats",{headers:{Authorization:"".concat(g.a.defaults.headers.common.Authorization)}});case 3:a=e.sent,n=a.data,t({type:S,stats:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:O,error:"Server error"}));case 12:t({type:O,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()})(st),ot=a(156),lt=a(403),it=a(404),ct=a(405),mt=a(406),pt=a(162),dt=a.n(pt),ut=a(417);class ht extends s.a.Component{constructor(e){var t;super(e),t=this,this.getTaskUsers=function(){var e=Object(u.a)(d.a.mark((function e(a){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.get("/users/"+a,{headers:{"x-auth-token":g.a.defaults.headers.common["x-auth-token"]}});case 3:n=e.sent,s=n.data,t.setState({users:s}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.state={users:[]}}componentDidMount(){this.getTaskUsers(this.props.task_id)}getUsers(e,t=e.length){return t>5&&(t=5),e.map(((e,a)=>t>0?(t--,s.a.createElement(s.a.Fragment,{key:a},s.a.createElement("a",{className:"avatar avatar-sm",id:"user_"+e._id,onClick:e=>e.preventDefault()},s.a.createElement("img",{alt:"...",className:"rounded-circle",src:De+"/profile-pics/".concat(e.profile_img)})),s.a.createElement(ut.a,{delay:0,target:"user_"+e._id},e.name))):null))}render(){return s.a.createElement("div",{className:"avatar-group"},this.getUsers(this.state.users))}}var gt=ht;class Et extends s.a.Component{constructor(e){super(e),this.toggleTheme=e=>{e.preventDefault(),localStorage.setItem("dark",(!this.state.dark).toString()),this.setState({dark:!this.state.dark})},this.state={dark:this.props.dark}}getCols(){return this.props.cols.map((e=>s.a.createElement("th",{key:e,scope:"col"},e)))}getRows(){return this.props.rows.map(((e,t)=>s.a.createElement("tr",{key:t},s.a.createElement("th",{scope:"row",onClick:t=>this.props.rowClick(t,e.id),style:{maxWidth:e.image?"200px":"180px",cursor:"pointer",overflow:"hidden",textOverflow:e.donTrim?"ellipsis":"none"}},e.image&&this.props.with_images?s.a.createElement(Se.a,{className:"align-items-center",style:{display:"contents"}},s.a.createElement("a",{className:"avatar avatar-xsm mr-0  thumbnail-display",style:{display:"inline-table"},onClick:e=>e.preventDefault()},s.a.createElement("img",{alt:e.title,src:"".concat(e.image)})),s.a.createElement(Se.a,{style:{display:"inline"}},s.a.createElement("span",{className:"mb-0 text-sm"},e.title))):s.a.createElement("span",{style:{fontStyle:e.italic?"italic":"normal"}},e.title)),this.getRowContent(e.contents,e.object))))}getButtons(e,t){return this.props.loading.includes(t.id)?s.a.createElement("div",{className:"spinner-border",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading...")):e.value.map(((e,a)=>s.a.createElement(ot.a,{color:"primary",className:e.class,onClick:()=>e.callback(t),size:"sm",key:a},e.title)))}getRowContent(e,t){return e.map(((e,a)=>{switch(e.type){case"custom_element":return s.a.createElement("td",{key:a},s.a.createElement(dt.a,{renderInWrapper:!1,jsx:e.customElement})," ",this.value(e));case"arrow":return s.a.createElement("td",{key:a},s.a.createElement("i",{className:"fas ".concat(e.arrow.up?"fa-arrow-up text-success":"fa-arrow-down text-danger"," mr-1")})," ");case"badge":return s.a.createElement("td",{key:a},s.a.createElement(lt.a,{color:"",className:"badge-dot mr-4",style:{fontStyle:"italic"}},s.a.createElement("i",{className:e.class}),this.value(e)));case"avatar-group":return s.a.createElement("td",{key:a},s.a.createElement(gt,{task_id:e.task_id+""}));case"progress":return s.a.createElement("td",{key:a},s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",{className:"mr-2"},this.value(e)),s.a.createElement("div",null,s.a.createElement(it.a,{max:"100",value:e.value,barClassName:e.class}))));case"button-group":return s.a.createElement("td",{key:a},this.getButtons(e,t));case"buttons":return s.a.createElement("td",{className:"text-right",key:a},s.a.createElement(ke.a,null,s.a.createElement(Ce.a,{className:"btn-icon-only text-light",href:"#pablo",role:"button",size:"sm",color:"",onClick:e=>e.preventDefault()},s.a.createElement("i",{className:"fas fa-ellipsis-v"})),s.a.createElement(Oe.a,{className:"dropdown-menu-arrow",right:!0},this.getActions(e.actions))));default:return s.a.createElement("td",{key:a,className:"text-wrap ".concat(e.centered?"text-center":"")},this.value(e))}}))}getActions(e){return e.map(((e,t)=>s.a.createElement(je.a,{href:"#pablo",key:t,onClick:e=>e.preventDefault()},e.title)))}value(e){return s.a.createElement(s.a.Fragment,null,e.money&&"$",!e.custom_contains_value&&e.value,e.percentage&&"%")}render(){return s.a.createElement(Qe.a,{className:"".concat(this.state.dark&&"bg-default"," shadow")},s.a.createElement(ct.a,{className:"".concat(this.state.dark&&"bg-transparent"," border-0")},s.a.createElement(Me.a,{className:"align-items-center"},s.a.createElement("div",{className:"col"},s.a.createElement("h3",{className:"".concat(this.state.dark&&"text-white"," mb-0")},this.props.title)),s.a.createElement("div",{className:"col text-right"},s.a.createElement(ot.a,{color:"primary",onClick:this.toggleTheme,size:"sm"},s.a.createElement("i",{className:"fa ".concat(this.state.dark?"fa-sun":"fa-moon")})),s.a.createElement(ot.a,{color:"primary",onClick:this.props.top_callback,size:"sm",style:{display:this.props.hide_top_button&&"none"}},this.props.top_button)))),s.a.createElement(mt.a,{className:"".concat(this.state.dark&&"table-dark"," align-items-center table-flush"),responsive:!0},s.a.createElement("thead",{className:"".concat(this.state.dark?"thead-dark":"thead-light")},s.a.createElement("tr",null,this.getCols())),s.a.createElement("tbody",null,this.getRows())))}}var bt=Et,vt=a(163),ft=a(47),_t=a(37),yt=a.n(_t);class wt extends s.a.Component{constructor(e){super(e),this.state={activeNav:1,chartExample1Data:"data1"},window.Chart&&(Object(ft.setAppointments)(e.appointments),Object(ft.parseOptions)(yt.a,Object(ft.chartOptions)()))}componentDidUpdate(e,t,a){Object(ft.setAppointments)(this.props.appointments)}render(){return s.a.createElement(Qe.a,{className:"shadow"},s.a.createElement(ct.a,{className:"bg-transparent"},s.a.createElement(Me.a,{className:"align-items-center"},s.a.createElement("div",{className:"col"},s.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},this.props.subtitle),s.a.createElement("h2",{className:"mb-0"},this.props.title)))),s.a.createElement(Xe.a,null,s.a.createElement("div",{className:"chart",style:{height:"260px"}},s.a.createElement(vt.a,{data:Object(ft.appointmentChart)().data,options:Object(ft.appointmentChart)().options}))))}}var Nt=wt;class xt extends s.a.Component{render(){return s.a.createElement(Qe.a,{className:"shadow"},s.a.createElement(ct.a,{className:"border-0"},s.a.createElement(Me.a,{className:"align-items-center"},s.a.createElement("div",{className:"col"},s.a.createElement("h3",{className:"mb-0"},this.props.title)),s.a.createElement("div",{className:"col text-right"},s.a.createElement(ot.a,{color:"primary",onClick:this.props.top_callback,size:"sm",style:{display:this.props.hide_top_button&&"none"}},this.props.top_button)))),s.a.createElement(Xe.a,null,this.props.children))}}var kt=xt;class Ct extends s.a.Component{getDate(e){let t=tt(e,!0);return"{none}"===t.substring(t.length-6,t.length)?t.substring(0,t.length-6):tt(e,!0)+" ago"}getButtons(e){return this.props.loading&&this.props.loading.includes(this.props.comment.id)?s.a.createElement("div",{className:"spinner-border",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading...")):s.a.createElement(s.a.Fragment,null,0===e&&s.a.createElement(ot.a,{className:"button bg-gradient-green ",size:"sm",onClick:()=>this.props.approve_callback(this.props.comment),style:{width:"50%",height:"fit-content"}},s.a.createElement("i",{className:"fas fa-check text-white"})),s.a.createElement(ot.a,{className:"button bg-gradient-red",size:"sm",onClick:()=>this.props.deny_callback(this.props.comment),style:{width:"120%",height:"fit-content"}},s.a.createElement("i",{className:"fas fa-times text-white"})))}render(){const e=this.props.comment,t=e.user_avatar,a=e.comment_text,n=e.user_name,r=e.date,o=e.video_title,l=e.status;return s.a.createElement(Me.a,{className:"mb-4"},s.a.createElement(Ie.a,{className:"comment"},s.a.createElement(Me.a,{className:"align-items-center"},s.a.createElement("div",{className:"col",style:{width:"36px"}},s.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},s.a.createElement("img",{src:De+"/profile-pics/".concat(t)})),s.a.createElement("h3",{className:"mb-0 name"},n,0===l&&s.a.createElement("span",{className:"font-italic text-red"}," - Waiting approval")),s.a.createElement("h5",{className:"mb-0 video"},"In ",o)),s.a.createElement("div",{className:"text-right date"},this.getDate(r))),s.a.createElement(Me.a,null,s.a.createElement("div",{className:"col comment-content"},a),s.a.createElement("div",{className:"btn-group text-right mr-3 mt--2"},!this.props.hide_buttons&&this.getButtons(l)))))}}var St=Ct;function Ot(e,t){t||(t=5);var a=[];return e.map((e=>{t>0&&0===e.status&&(a.push(e),t--)})),a}class jt extends s.a.Component{constructor(e){var t;super(e),t=this,this.getVideoDetails=Object(u.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(t.state.videos.slice(0,2),["title","views","likes","dislikes"]);case 2:a=e.sent,t.setState({videos:t.props.videos,videoTableContent:a});case 4:case"end":return e.stop()}}),e)}))),this.showMoreAppointments=e=>{e.preventDefault(),be.push("/admin/appointments")},this.showAllVideos=e=>{e.preventDefault(),be.push("/admin/videos")},this.showAllComments=e=>{e.preventDefault(),be.push("/admin/comments")},this.getComments=()=>this.props.comments.slice(0,3).map((e=>s.a.createElement(St,{key:e.id,comment:e,hide_buttons:!0}))),this.videoClick=(e,t)=>{e.preventDefault();const a=this.props.videos[this.props.videos.findIndex((e=>e.id===t))].video_url;window.open(a,"_blank").focus()},this.state={appointments:this.props.appointments,videos:this.props.videos,videoTableContent:[{title:"Loading...",italic:!0,donTrim:!1,contents:[]}]}}componentDidUpdate(e,t,a){0===t.appointments.length&&this.props.appointments.length>0&&this.setState({appointments:this.props.appointments}),0===t.videos.length&&this.props.videos.length>0&&this.getVideoDetails()}componentDidMount(){this.props.getAppointments(),this.props.getAllComments(),this.props.getVideos(),this.getVideoDetails()}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(rt,null),s.a.createElement(i.a,{className:"mt--7",fluid:!0},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{className:"mb-5 mb-xl-0",xl:"8"},s.a.createElement(bt,{title:"Pending Appointments",top_button:"Show All",top_callback:this.showMoreAppointments,cols:["With","Status","Date","Time"],rows:ze(Ot(this.props.appointments),["status","date","time"]),with_images:!1,rowClick:e=>e.preventDefault(),dark:"true"===localStorage.getItem("dark")})),s.a.createElement(Ie.a,{xl:"4"},s.a.createElement(Nt,{title:"Appointments",subtitle:"Overview",size:"250px",appointments:this.state.appointments}))),s.a.createElement(Me.a,{className:"mt-5"},s.a.createElement(Ie.a,{className:"mb-5 mb-xl-0",xl:"4"},s.a.createElement(kt,{title:"Comments",top_button:"See all",top_callback:this.showAllComments},this.getComments())),s.a.createElement(Ie.a,{xl:"8"},s.a.createElement(bt,{title:"Video Activity",top_button:"Show All",top_callback:this.showAllVideos,cols:["","Title","Views","Likes","Dislikes"],with_images:!0,rows:this.state.videoTableContent,rowClick:this.videoClick,dark:"true"===localStorage.getItem("dark")})))))}}var Dt=Object(m.b)((e=>({appointments:e.appointments.appointments,comments:e.comments.comments,videos:e.videos.videos})),{getAppointments:Le,getAllComments:Be,getVideos:Ve})(jt),Tt=a(407),At=a(408),Mt=a(411);class It extends s.a.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header pb-3 pt-5 pt-lg-8 d-flex align-items-center",style:{minHeight:"400px",backgroundImage:"url("+a(315).default+")",backgroundSize:"1000px 600px",backgroundPosition:"center top"}},s.a.createElement("span",{className:"mask bg-gradient-default opacity-8"}),s.a.createElement(i.a,{className:"d-flex align-items-center",fluid:!0},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{lg:"7",md:"10"},s.a.createElement("h1",{className:"display-2 text-white"},"Hello Matin!"),s.a.createElement("p",{className:"text-white mt-0 mb-5"},"This is your settings page. You can modify information about your account!"))))))}}var Pt=It,Ft=a(4),Lt=a(409),Bt=a(410),Vt=a(165);class zt extends s.a.Component{constructor(e){super(e),this.onSubmitPassword=e=>{e.preventDefault(),this.state.content.new_password!==this.state.content.new_password_confirmation?this.setState({error:"Passwords don't match",changed:!1}):this.state.content.new_password.length<8?this.setState({error:"Password must be at least 8 characters long",changed:!1}):(this.setState({error:"",isLoading:!0,changed:!1}),this.props.onSubmit(this.state.content))},this.state={content:{old_password:"",new_password:"",new_password_confirmation:""},error:"",changed:!1,isLoading:!1},this.onChange=this.onChange.bind(this)}onChange(e){this.setState({content:Object(Ft.a)(Object(Ft.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}componentDidMount(){document.addEventListener("change_pass",(e=>{e.detail.success&&this.props.closeModal(void 0,!0)}),!1)}componentDidUpdate(e,t,a){t.content.new_password===this.state.content.new_password&&t.content.new_password_confirmation===this.state.content.new_password_confirmation&&t.content.old_password===this.state.content.old_password||this.setState({changed:!0})}render(){const e=this.state,t=e.error,a=e.changed,n=this.props.error?this.props.error:t;return s.a.createElement(Qe.a,{className:"shadow"},s.a.createElement(Tt.a,{className:"m-5",onSubmit:this.onSubmitPassword},s.a.createElement("h1",{className:"ml--3 mb-3"},"Change Password"),s.a.createElement(At.a,{className:"mb-0"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-lock",style:{color:n&&!a&&"Passwords don't match"!==n?"red":""}}))),s.a.createElement(Mt.a,{placeholder:"Old Password",type:"password",name:"old_password",onChange:this.onChange})),s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-lock-open",style:{color:n&&!a&&"Old password wrong"!==n?"red":""}}))),s.a.createElement(Mt.a,{placeholder:"New Password",type:"password",name:"new_password",onChange:this.onChange})),s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-lock-open",style:{color:n&&!a&&"Old password wrong"!==n?"red":""}}))),s.a.createElement(Mt.a,{placeholder:"Confirm New Password",type:"password",name:"new_password_confirmation",onChange:this.onChange}))),n&&s.a.createElement("p",{style:{color:"red",fontSize:12}},n),s.a.createElement("div",{className:" mt-3"},s.a.createElement(ot.a,{color:"primary",type:"submit"},"Change"))))}}var Rt=Object(m.b)((e=>({error:e.auth.change_pass_error,message:e.auth.change_pass_message})))(zt);class Ut extends s.a.Component{constructor(e){super(e),this.onSubmitContactInfo=e=>{e.preventDefault(),this.props.onSubmit(this.state.content)},this.state={content:{address:this.props.contact.address,city:this.props.contact.city,country:this.props.contact.country,postal_code:this.props.contact.postal_code,phone:this.props.contact.phone},error:"",changed:!1,isLoading:!1},this.onChange=this.onChange.bind(this)}onChange(e){this.setState({content:Object(Ft.a)(Object(Ft.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}componentDidMount(){document.addEventListener("change_contact",(e=>{e.detail.success?this.props.closeModal(void 0,!0):this.props.closeModal(void 0,!1,!0)}),!1)}render(){const e=this.state,t=e.error,a=(e.changed,this.props.error?this.props.error:t);return s.a.createElement(Qe.a,{className:"shadow"},s.a.createElement(Tt.a,{className:"m-5",onSubmit:this.onSubmitContactInfo},s.a.createElement("h1",{className:"ml--3 mb-3"},"Change Contact Information"),s.a.createElement(At.a,{className:"mb-0"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-map-marker"}))),s.a.createElement(Mt.a,{placeholder:"New Address",type:"text",name:"address",value:this.state.content.address,onChange:this.onChange})),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xs:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-city"}))),s.a.createElement(Mt.a,{placeholder:"New City",type:"text",name:"city",value:this.state.content.city,onChange:this.onChange}))),s.a.createElement(Ie.a,{xs:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-flag"}))),s.a.createElement(Mt.a,{placeholder:"New Country",type:"text",name:"country",value:this.state.content.country,onChange:this.onChange})))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xs:"4"},s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-mail-bulk"}))),s.a.createElement(Mt.a,{placeholder:"Postal Code",type:"text",name:"postal_code",value:this.state.content.postal_code,onChange:this.onChange}))),s.a.createElement(Ie.a,{xs:"8"},s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-phone"}))),s.a.createElement(Mt.a,{placeholder:"New Contact Phone",type:"text",name:"phone",value:this.state.content.phone,onChange:this.onChange}))))),a&&s.a.createElement("p",{style:{color:"red",fontSize:12}},a),s.a.createElement("div",{className:" mt-3"},s.a.createElement(ot.a,{color:"primary",type:"submit",className:"center"},"Change"))))}}var qt=Object(m.b)((e=>({error:e.auth.change_pass_error,message:e.auth.change_pass_message})))(Ut),Gt=a(166),Wt=a.n(Gt);class Ht extends s.a.Component{constructor(e){super(e);let t=this.props.width?this.props.width:"35%";this.customStyles={content:{top:"50%",left:"50%",right:t,bottom:"auto",marginRight:"-30%",border:"none",background:"none",padding:"none",transform:"translate(-50%, -50%)",zIndex:"10"}}}render(){return this.props.isOpen?document.querySelector("body").style.overflow="hidden":document.querySelector("body").style.overflow="visible",s.a.createElement(Wt.a,{isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose,style:this.customStyles,contentLabel:"Example Modal",ariaHideApp:!1,appElement:document.querySelector("#modal")},this.props.children)}}var Zt=Ht;function $t(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}class Jt extends s.a.Component{constructor(e){super(e),this.openPassModal=e=>{e&&e.preventDefault(),this.setState({is_pass_modal_open:!0})},this.closePassModal=(e,t,a)=>{e&&e.preventDefault(),this.setState({is_pass_modal_open:!1}),t&&this.showSnackBar("Password updated !"),a&&this.showSnackBar("Something went wrong")},this.modalSubmitPass=e=>{this.props.changePass(e)},this.openContactModal=e=>{e&&e.preventDefault(),this.setState({is_contact_modal_open:!0})},this.closeContactModal=(e,t)=>{e&&e.preventDefault(),this.setState({is_contact_modal_open:!1}),t&&this.showSnackBar("Info updated !")},this.modalSubmitContact=e=>{this.props.updateAdminInfo(e)},this.updateEmail=e=>{if(e.preventDefault(),!$t(this.state.email)||this.state.email.length<5)return this.showSnackBar("Invalid Email");this.props.changeEmail(this.state.email)},this.state={email:"",contact:this.props.contact,is_pass_modal_open:!1,is_contact_modal_open:!1},this.onChange=this.onChange.bind(this)}componentDidMount(){this.props.getAdminInfo(),document.addEventListener("change_email",(e=>{e.detail.success?this.showSnackBar("Email updated !"):this.showSnackBar("Something went wrong")}),!1)}componentDidUpdate(e,t,a){Je.a.isEqual(e.contact,this.props.contact)||this.setState({contact:this.props.contact})}onChange(e){this.setState({[e.target.name]:e.target.value})}showSnackBar(e){const t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}render(){const e=window.innerWidth<600?"10%":void 0;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Pt,null),s.a.createElement(Qe.a,{className:"bg-secondary shadow"},s.a.createElement(ct.a,{className:"bg-white border-0"},s.a.createElement(Me.a,{className:"align-items-center"},s.a.createElement(Ie.a,{xs:"8"},s.a.createElement("h3",{className:"mb-0"},"My account")))),s.a.createElement(Xe.a,null,s.a.createElement(Tt.a,null,s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Admin Account"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{lg:"6"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Email address"),s.a.createElement(Mt.a,{className:"form-control-alternative",id:"input-email",placeholder:"Enter new email address",name:"email",type:"email",onChange:this.onChange,value:this.state.email}))),s.a.createElement(Ie.a,{lg:"6"},s.a.createElement(At.a,{className:"update-btn"},s.a.createElement(ot.a,{color:"primary",className:"btn bg-red",onClick:this.updateEmail,size:"sm"},"Update")))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{lg:"6"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-password"},"Password"),s.a.createElement(Mt.a,{className:"form-control-alternative",id:"input-password",defaultValue:"******",disabled:!0})),s.a.createElement(ot.a,{color:"primary",className:"btn bg-red",onClick:this.openPassModal,size:"sm"},"Change password"))),s.a.createElement(Zt,{isOpen:this.state.is_pass_modal_open,onRequestClose:this.closePassModal,width:e},s.a.createElement(Rt,{closeModal:this.closePassModal,onSubmit:this.modalSubmitPass}))),s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{md:"6"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-address"},"Address"),s.a.createElement(Mt.a,{className:"form-control-alternative",id:"input-address",value:this.state.contact.address,placeholder:"Home Address",type:"text",disabled:!0}))),s.a.createElement(Ie.a,{lg:"6"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Phone Number"),s.a.createElement(Mt.a,{className:"form-control-alternative",id:"input-phone",value:this.state.contact.phone,placeholder:"Phone",disabled:!0})))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{lg:"4"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-city"},"City"),s.a.createElement(Mt.a,{className:"form-control-alternative",value:this.state.contact.city,id:"input-city",placeholder:"City",type:"text",disabled:!0}))),s.a.createElement(Ie.a,{lg:"4"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Country"),s.a.createElement(Mt.a,{className:"form-control-alternative",value:this.state.contact.country,id:"input-country",placeholder:"Country",type:"text",disabled:!0}))),s.a.createElement(Ie.a,{lg:"4"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Postal code"),s.a.createElement(Mt.a,{className:"form-control-alternative",id:"input-postal-code",value:this.state.contact.postal_code,placeholder:"Postal code",disabled:!0})))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{lg:"4"},s.a.createElement(ot.a,{color:"primary",className:"btn bg-red",onClick:this.openContactModal,size:"sm"},"Change Information")))),s.a.createElement(Zt,{isOpen:this.state.is_contact_modal_open,onRequestClose:this.closeContactModal,width:e},s.a.createElement(qt,{contact:this.state.contact,closeModal:this.closeContactModal,onSubmit:this.modalSubmitContact}))))),s.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}var Yt=Object(m.b)((e=>({email:e.auth.user.email,contact:e.admin.info})),{changePass:_e,changeEmail:ye,getAdminInfo:()=>function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.get(ge,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 3:a=e.sent,n=a.data,t({type:ee,info:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:te,error:"Server error"}));case 12:t({type:te,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),updateAdminInfo:e=>function(){var t=Object(u.a)(d.a.mark((function t(a,n){var s,r,o,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=n().admin.info,r=Object(Ft.a)(Object(Ft.a)({},s),{},{address:e.address,city:e.city,country:e.country,postal_code:e.postal_code,phone:e.phone}),t.next=5,ve.put(ge,r,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 5:o=t.sent,l=o.data,document.dispatchEvent(new CustomEvent("change_contact",{detail:{success:!0}})),a({type:ae,info:l}),t.next=17;break;case 11:if(t.prev=11,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("change_contact",{detail:{success:!1}})),t.t0.response){t.next=16;break}return t.abrupt("return",a({type:ne,error:"Server error"}));case 16:a({type:ne,error:t.t0.response.data});case 17:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()})(Jt);class Kt extends s.a.Component{render(){return s.a.createElement(Qe.a,{className:" shadow"},s.a.createElement("div",{className:"ml-5 mr-5 mt-2 mb-2 text-center"},s.a.createElement("h2",{className:" mb-3 text-center"},this.props.title),s.a.createElement("div",{className:"text-center mt-3"},s.a.createElement(ot.a,{color:"gradient-success",className:"bg-gradient-teal text-white",onClick:()=>this.props.onConfirm(this.props.object,!0)},"Yes"),s.a.createElement(ot.a,{color:"gradient-danger",className:"bg-gradient-danger text-white",onClick:()=>this.props.onDeny(this.props.object,!0)},"No"))))}}var Qt=Kt;class Xt extends s.a.Component{constructor(e){super(e),this.approveComment=e=>{const t=Object(Ft.a)({},e);t.status=1,this.setState({loading:[...this.state.loading,t.id]}),this.props.updateComment(t)},this.denyComment=(e,t)=>{t?(this.setState({loading:[...this.state.loading,e.id]}),this.props.deleteComment(e)):this.openConfirmModal(e)},this.openConfirmModal=e=>{this.setState({is_confirm_modal_open:!0,selected_comment:e})},this.closeConfirmModal=()=>{this.setState({is_confirm_modal_open:!1,selected_comment:{}})},this.openConfirmModal=e=>{this.setState({is_confirm_modal_open:!0,selected_comment:e})},this.closeConfirmModal=()=>{this.setState({is_confirm_modal_open:!1,selected_comment:{}})},this.getComments=()=>this.props.comments.map((e=>s.a.createElement(St,{key:e.id,comment:e,toggleComments:!0,hide_top_button:!0,loading:this.state.loading,approve_callback:this.approveComment,deny_callback:this.denyComment}))),this.state={is_confirm_modal_open:!1,selected_comment:{},loading:[]}}componentDidMount(){this.props.getAllComments()}componentDidUpdate(e,t,a){Je.a.isEqual(e.comments,this.props.comments)||this.setState({loading:[],is_confirm_modal_open:!1})}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(rt,null),s.a.createElement(i.a,{className:"mt--7",fluid:!0},s.a.createElement(Me.a,null,s.a.createElement("div",{className:"col"},s.a.createElement(kt,{title:"Comments",top_button:"See all",top_callback:this.showSomething,toggleComments:!0},this.getComments()),s.a.createElement(Zt,{isOpen:this.state.is_confirm_modal_open,onRequestClose:this.closeConfirmModal,width:"55%"},s.a.createElement(Qt,{title:"Are you sure you want to delete this comment ?",object:this.state.selected_comment,onConfirm:this.denyComment,onDeny:this.closeConfirmModal}))))))}}var ea=Object(m.b)((e=>({comments:e.comments.comments})),{getAllComments:Be,updateComment:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.put(pe,e,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 3:n=t.sent,s=n.data,a({type:V,comment:s}),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),t.t0.response){t.next=12;break}return t.abrupt("return",a({type:z,error:"Server error"}));case 12:a({type:z,error:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),deleteComment:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.delete(pe+"/".concat(e.id),{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 3:a({type:R,comment:e}),t.next=11;break;case 6:if(t.prev=6,t.t0=t.catch(0),t.t0.response){t.next=10;break}return t.abrupt("return",a({type:U,error:"Server error"}));case 10:a({type:U,error:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()})(Xt),ta=a(324);class aa extends s.a.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,{fluid:!0},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:ta}})))}}var na=aa;class sa extends s.a.Component{constructor(e){super(e),this.acceptButton=e=>{switch(e.status){case 0:const t=Object(Ft.a)({},e);t.status=1,this.setState({loading:[...this.state.loading,t.id]}),this.props.updateAppointment(t);break;case 1:case 2:default:this.emailPerson(e)}},this.denyButton=(e,t)=>{if(t)switch(e.status){case 0:case 1:case 2:default:const t=Object(Ft.a)({},e);t.status=2,this.setState({loading:[...this.state.loading,t.id]}),this.props.updateAppointment(t)}else this.openConfirmModal(e)},this.openConfirmModal=e=>{this.setState({is_confirm_modal_open:!0,selected_appointment:e})},this.closeConfirmModal=()=>{this.setState({is_confirm_modal_open:!1,selected_appointment:{}})},this.state={is_confirm_modal_open:!1,selected_appointment:{},loading:[]}}componentDidMount(){this.props.getAppointments()}componentDidUpdate(e,t,a){Je.a.isEqual(e.appointments,this.props.appointments)||this.setState({loading:[],is_confirm_modal_open:!1})}emailPerson(e){window.location="mailto:"+e.client_email}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(rt,null),s.a.createElement(i.a,{className:"mt--7",fluid:!0},s.a.createElement(Me.a,null,s.a.createElement("div",{className:"col"},s.a.createElement(bt,{title:"All Appointments",top_button:"Show All",hide_top_button:!0,top_callback:this.showMoreAppointments,cols:["With","Status","Date","Time","Actions"],rows:ze(this.props.appointments,["status","date","time","buttons"],[{callback:this.acceptButton},{callback:this.denyButton}]),loading:this.state.loading,with_images:!1,rowClick:e=>e.preventDefault(),dark:"true"===localStorage.getItem("dark")}),s.a.createElement(Zt,{isOpen:this.state.is_confirm_modal_open,onRequestClose:this.closeConfirmModal,width:"55%"},s.a.createElement(Qt,{title:"Are you sure you want to cancel this appointment ?",object:this.state.selected_appointment,onConfirm:this.denyButton,onDeny:this.closeConfirmModal})))),s.a.createElement(Me.a,{className:"mt-5"},s.a.createElement("div",{className:"col"}))))}}var ra=Object(m.b)((e=>({appointments:e.appointments.appointments})),{getAppointments:Le,updateAppointment:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.put(he,e,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 3:n=t.sent,s=n.data,a({type:T,appointment:s}),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),t.t0.response){t.next=12;break}return t.abrupt("return",a({type:A,error:"Server error"}));case 12:a({type:A,error:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()})(sa);class oa extends s.a.Component{constructor(e){super(e),this.state={content:{video_title:this.props.object.video_title,video_url:this.props.object.video_url}},this.onChange=this.onChange.bind(this)}onChange(e){this.setState({content:Object(Ft.a)(Object(Ft.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}render(){return s.a.createElement(Qe.a,{className:"shadow"},s.a.createElement(Tt.a,{className:"m-5",onSubmit:e=>this.props.onSubmit(e,this.state.content)},s.a.createElement("h1",{className:"ml--3 mb-3"},Je.a.isEmpty(this.props.object)?"Add a video":"Edit video"),s.a.createElement(At.a,{className:"mb-0"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-signature"}))),s.a.createElement(Mt.a,{placeholder:"Video Title",type:"text",name:"video_title",value:this.state.content.video_title,onChange:this.onChange})),s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fab fa-youtube"}))),s.a.createElement(Mt.a,{placeholder:"YouTube URL",type:"text",name:"video_url",value:this.state.content.video_url,onChange:this.onChange}))),s.a.createElement("div",{className:" mt-3"},s.a.createElement(ot.a,{color:"primary",type:"submit"},Je.a.isEmpty(this.props.object)?"Add a video":"Edit video"))))}}var la=oa;class ia extends s.a.Component{constructor(e){var t;super(e),t=this,this.getVideoDetails=Object(u.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(t.state.videos,["title","views","likes","dislikes","buttons"],[{callback:t.editVideo},{callback:t.deleteVideo}]);case 2:a=e.sent,t.setState({videos:t.props.videos,videoTableContent:a,loading:[],is_confirm_modal_open:!1,selected_video:{}});case 4:case"end":return e.stop()}}),e)}))),this.editVideo=(e,t)=>{t?this.props.updateVideo(Object(Ft.a)(Object(Ft.a)({},e),{},{id:this.state.selected_video.id})):(this.setState({selected_video:e}),this.openModal())},this.addVideo=(e,t)=>{e.preventDefault(),this.props.addVideo(t)},this.deleteVideo=(e,t)=>{t?this.props.deleteVideo(e):this.openConfirmModal(e)},this.videoClick=(e,t)=>{e.preventDefault();const a=this.props.videos[this.props.videos.findIndex((e=>e.id===t))].video_url;window.open(a,"_blank").focus()},this.openModal=e=>{e&&e.preventDefault(),this.setState({is_modal_open:!0})},this.closeModal=e=>{e.preventDefault(),this.setState({is_modal_open:!1,selected_video:{}})},this.openConfirmModal=e=>{this.setState({is_confirm_modal_open:!0,selected_video:e})},this.closeConfirmModal=()=>{this.setState({is_confirm_modal_open:!1,selected_video:{}})},this.modalSubmit=(e,t)=>{e&&e.preventDefault(),Je.a.isEmpty(this.state.selected_video)?this.addVideo(e,t):this.editVideo(t,!0),this.closeModal(e)},this.state={is_modal_open:!1,is_confirm_modal_open:!1,selected_video:{},loading:[],videos:this.props.videos,videoTableContent:[{title:"Loading...",italic:!0,donTrim:!1,contents:[]}]}}componentDidMount(){this.props.getVideos(),this.getVideoDetails()}componentDidUpdate(e,t,a){Je.a.isEqual(t.videos,this.props.videos)||this.getVideoDetails()}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(rt,null),s.a.createElement(i.a,{className:"mt--7",fluid:!0},s.a.createElement(Me.a,null,s.a.createElement("div",{className:"col"},s.a.createElement(bt,{title:"Video Activity",top_button:"Add Video",top_callback:this.openModal,hide_top_button:!1,add_new_vid:!0,cols:["","Title","Views","Likes","Dislikes","Actions"],with_images:!0,loading:this.state.loading,rows:this.state.videoTableContent,rowClick:this.videoClick,dark:"true"===localStorage.getItem("dark")}),s.a.createElement(Zt,{isOpen:this.state.is_modal_open,onRequestClose:this.closeModal},s.a.createElement(la,{dark:"true"===localStorage.getItem("dark"),closeModal:this.closeModal,object:this.state.selected_video,onSubmit:this.modalSubmit})),s.a.createElement(Zt,{isOpen:this.state.is_confirm_modal_open,onRequestClose:this.closeConfirmModal,width:"55%"},s.a.createElement(Qt,{title:"Are you sure you want to delete this video ?",object:this.state.selected_video,onConfirm:this.deleteVideo,onDeny:this.closeConfirmModal})))),s.a.createElement(Me.a,{className:"mt-5"},s.a.createElement("div",{className:"col"}))))}}var ca=Object(m.b)((e=>({videos:e.videos.videos})),{getVideos:Ve,addVideo:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,ve.post(ue,{video_title:e.video_title,video_url:e.video_url},{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 4:n=t.sent,s=n.data,a({type:W,video:s}),t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(1),t.t0.response){t.next=13;break}return t.abrupt("return",a({type:H,error:"Server error"}));case 13:a({type:H,error:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),updateVideo:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,ve.put(ue,e,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 4:n=t.sent,s=n.data,a({type:Y,video:s}),t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(1),t.t0.response){t.next=13;break}return t.abrupt("return",a({type:K,error:"Server error"}));case 13:a({type:K,error:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),deleteVideo:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,ve.delete(ue+"/".concat(e.id),{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 4:a({type:Q,video:e}),t.next=12;break;case 7:if(t.prev=7,t.t0=t.catch(1),t.t0.response){t.next=11;break}return t.abrupt("return",a({type:X,error:"Server error"}));case 11:a({type:X,error:t.t0.response.data});case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()})(ia);var ma=(e,t,a)=>{const n=[];let s=!1;return e&&0!==e.length?(e.map((e=>{const r={title:e.name,id:e.id,object:e,contents:[]};if(t.map((t=>{let n={};switch(t){case"email":case"date":n={value:e.email};break;case"buttons":s=!0,n={type:"button-group",value:[]};const t=pa();let r=0;t.map((e=>{n.value.push({title:e.title,callback:a[r].callback,class:e.class}),r++}))}r.contents.push(n)})),a&&!s){const e={type:"buttons",actions:[]};a.map((t=>{e.actions.push({title:t.title,callback:t.callback,class:t.class})})),r.contents.push(e)}n.push(r)})),n):[{title:"No submitted giveaway",italic:!0,donTrim:!1,contents:[]}]};const pa=()=>[{title:"Delete",class:"bg-gradient-danger border-0"}];class da extends s.a.Component{render(){return s.a.createElement(Qe.a,{className:"shadow"},s.a.createElement(Tt.a,{className:"m-5",onSubmit:e=>this.props.onSubmit(e,this.state.content)},s.a.createElement("h2",{className:"ml--3 mb-3"},"GiveAway Winner"),s.a.createElement(At.a,{className:"mb-0"},s.a.createElement("h1",{className:"ml--3 mb-3"},"It's : "+this.props.current_winner.name),s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-envelope-open"}))),s.a.createElement(Mt.a,{placeholder:"",type:"text",value:this.props.current_winner.email})),s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-dice-one"}))),s.a.createElement(Mt.a,{placeholder:"",type:"text",value:this.props.current_winner.answer1})),s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-dice-two"}))),s.a.createElement(Mt.a,{placeholder:"",type:"text",value:this.props.current_winner.answer2})),s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-dice-three"}))),s.a.createElement(Mt.a,{placeholder:"",type:"text",value:this.props.current_winner.answer3}))),s.a.createElement("div",{className:" mt-3"},s.a.createElement(ot.a,{color:"primary",type:"button",onClick:this.props.onSendEmail},"Email"),s.a.createElement(ot.a,{color:"success",type:"button",onClick:this.props.onRequestNew},"Get a new Random person"))))}}var ua=da,ha=a(167),ga=a.n(ha);class Ea extends s.a.Component{constructor(e){super(e),this.delete=(e,t)=>{t?(this.setState({loading:[...this.state.loading,e.id]}),this.props.deleteSubmission(e.id)):this.openConfirmModal(e)},this.openConfirmModal=e=>{this.setState({is_confirm_modal_open:!0,selected_submission:e})},this.closeConfirmModal=()=>{this.setState({is_confirm_modal_open:!1,selected_submission:{}})},this.openWinnerModal=()=>{this.setState({is_winner_modal_open:!0})},this.closeWinnerModal=()=>{this.setState({is_winner_modal_open:!1})},this.selectWinner=()=>{let e=this.props.submissions[Math.floor(Math.random()*this.props.submissions.length)];this.setState({current_winner:e}),console.log(e.name)},this.selectRandom=()=>{this.props.submissions.length>0?(this.selectWinner(),this.openWinnerModal()):this.showSnackBar("No submissions to chose from")},this.sendEmail=()=>{window.location="mailto:"+this.state.current_winner.email},this.state={is_confirm_modal_open:!1,is_winner_modal_open:!1,selected_submission:{},loading:[]},this.detailModal=s.a.createRef()}componentDidMount(){this.props.getSubmissions()}componentDidUpdate(e,t,a){Je.a.isEqual(e.submissions,this.props.submissions)||this.setState({loading:[],is_confirm_modal_open:!1,is_winner_modal_open:!1})}showSnackBar(e){const t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(rt,null),s.a.createElement(i.a,{className:"mt--7",fluid:!0},s.a.createElement(Me.a,null,s.a.createElement("div",{className:"col"},s.a.createElement(bt,{title:"All Submissions",top_button:"Select random",hide_top_button:!1,top_callback:this.selectRandom,cols:["Name","Email","Date","Actions"],rows:ma(this.props.submissions,["email","date","buttons"],[{callback:this.delete}]),loading:this.state.loading,with_images:!1,rowClick:e=>e.preventDefault(),dark:"true"===localStorage.getItem("dark")}),s.a.createElement(Zt,{isOpen:this.state.is_confirm_modal_open,onRequestClose:this.closeConfirmModal,width:"55%"},s.a.createElement(Qt,{title:"Are you sure you want to delete this submission ?",object:this.state.selected_submission,onConfirm:this.delete,onDeny:this.closeConfirmModal})),s.a.createElement(Zt,{isOpen:this.state.is_winner_modal_open,onRequestClose:this.closeWinnerModal,width:"45%"},o.a.createPortal(s.a.createElement(ga.a,{style:{zIndex:12}}),document.querySelector("#confetti")),s.a.createElement(ua,{current_winner:this.state.current_winner,onRequestNew:this.selectWinner,onSendEmail:this.sendEmail})))),s.a.createElement(Me.a,{className:"mt-5"},s.a.createElement("div",{className:"col"}))),s.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}var ba=Object(m.b)((e=>({submissions:e.submissions.submissions})),{getSubmissions:()=>function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.get(de,{headers:{Authorization:"".concat(g.a.defaults.headers.common.Authorization)}});case 3:a=e.sent,n=a.data,t({type:ie,submissions:n}),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}return e.abrupt("return",t({type:ce,error:"Server error"}));case 12:t({type:ce,error:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),deleteSubmission:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.delete(de+"/".concat(e),{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 3:n=t.sent,s=n.data,a({type:oe,submission:s}),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),t.t0.response){t.next=12;break}return t.abrupt("return",a({type:le,error:"Server error"}));case 12:a({type:le,error:"Not found"});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()})(Ea),va=[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text-primary",component:Dt,layout:"/admin"},{path:"/appointments",name:"Appointments",icon:"ni ni-bullet-list-67 text-red",component:ra,layout:"/admin"},{path:"/videos",name:"Videos",icon:"ni ni-planet text-blue",component:ca,layout:"/admin"},{path:"/comments",name:"Comments",icon:"ni ni-pin-3 text-orange",component:ea,layout:"/admin"},{path:"/giveaway",name:"Giveaway",icon:"fas fa-gifts text-yellow",component:ba,layout:"/admin"},{path:"/settings",name:"Settings",icon:"ni ni-single-02 text-green",component:Yt,layout:"/admin"}],fa=a(412),_a=a(413),ya=a(414),wa=a(168);class Na extends s.a.Component{constructor(e){super(e),this.state={collapseOpen:!1},this.logout=e=>{e.preventDefault(),this.props.logout()},this.toggleCollapse=()=>{this.setState({collapseOpen:!this.state.collapseOpen})},this.closeCollapse=()=>{this.setState({collapseOpen:!1})},this.createLinks=e=>e.map(((e,t)=>s.a.createElement(fa.a,{key:t},s.a.createElement(_a.a,{to:e.layout+e.path,tag:c.b,onClick:this.closeCollapse,activeClassName:"active"},s.a.createElement("i",{className:e.icon}),e.name)))),this.activeRoute.bind(this)}activeRoute(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}render(){const e=this.props,t=(e.bgColor,e.logo);let a;t&&t.innerLink?a={to:t.innerLink,tag:c.a}:t&&t.outterLink&&(a={href:t.outterLink,target:"_blank"});const n=this.props.user;return s.a.createElement(Ne.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main"},s.a.createElement(i.a,{fluid:!0},s.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},s.a.createElement("span",{className:"navbar-toggler-icon"})),t?s.a.createElement(ya.a,Object.assign({className:"pt-0"},a),s.a.createElement("img",{alt:t.imgAlt,className:"navbar-brand-img",src:t.imgSrc})):null,s.a.createElement(xe.a,{className:"align-items-center navbar-nav d-md-none",navbar:!0,id:"user-nav"},s.a.createElement(ke.a,{nav:!0},s.a.createElement(Ce.a,{className:"pr-0",nav:!0},s.a.createElement(Se.a,{className:"align-items-center"},s.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},s.a.createElement("img",{alt:"...",src:De+"/profile-pics/".concat(n.profile_img)})),s.a.createElement(Se.a,{className:"ml-2 d-none d-lg-block"},s.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},n.name)))),s.a.createElement(Oe.a,{className:"dropdown-menu-arrow",id:"user-dropdown-menu",right:!0},s.a.createElement(je.a,{className:"noti-title",header:!0,tag:"div"},s.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),s.a.createElement(je.a,{to:"/admin",tag:c.a},s.a.createElement("i",{className:"fas fa-chart-line"}),s.a.createElement("span",null,"Dashboard")),s.a.createElement(je.a,{to:"/profile",tag:c.a},s.a.createElement("i",{className:"ni ni-single-02"}),s.a.createElement("span",null,"My profile")),s.a.createElement(je.a,{divider:!0}),s.a.createElement(je.a,{to:"/index.html",tag:c.a},s.a.createElement("i",{className:"fas fa-home"}),s.a.createElement("span",null,"Home")),s.a.createElement(je.a,{to:"/video",tag:c.a},s.a.createElement("i",{className:"fas fa-photo-video"}),s.a.createElement("span",null,"Videos")),s.a.createElement(je.a,{to:"/appointment",tag:c.a},s.a.createElement("i",{className:"fas fa-id-card"}),s.a.createElement("span",null,"Contact")),s.a.createElement(je.a,{divider:!0}),s.a.createElement(je.a,{onClick:this.logout},s.a.createElement("i",{className:"ni ni-user-run"}),s.a.createElement("span",null,"Logout"))))),s.a.createElement(wa.a,{navbar:!0,isOpen:this.state.collapseOpen},s.a.createElement("div",{className:"navbar-collapse-header d-md-none"},s.a.createElement(Me.a,null,t?s.a.createElement(Ie.a,{className:"collapse-brand",xs:"6"},t.innerLink?s.a.createElement(c.a,{to:t.innerLink},s.a.createElement("img",{alt:t.imgAlt,src:t.imgSrc})):s.a.createElement("a",{href:t.outterLink},s.a.createElement("img",{alt:t.imgAlt,src:t.imgSrc}))):null,s.a.createElement(Ie.a,{className:"collapse-close",xs:"6"},s.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},s.a.createElement("span",null),s.a.createElement("span",null))))),s.a.createElement(xe.a,{navbar:!0},this.createLinks(va)),s.a.createElement("hr",{className:"my-3"}))))}}Na.defaultProps={routes:[{}]};var xa=Object(m.b)((e=>({user:e.auth.user})),{logout:fe})(Na);class ka extends s.a.Component{constructor(e){super(e),this.isValid=()=>{const e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),t=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})");return e.test(this.state.password)||t.test(this.state.password)?this.state.password===this.state.password_confirmation||(this.showSnackBar("Passwords do not match"),!1):(this.showSnackBar("Password is invalid"),!1)},this.state={first_name:"",last_name:"",email:"",password:"",password_confirmation:""},this.submitAccount=this.submitAccount.bind(this),this.onChange=this.onChange.bind(this)}onChange(e){this.setState({[e.target.name]:e.target.value})}submitAccount(e){e.preventDefault(),this.setState({error:"",isLoading:!0,changed:!1}),this.isValid()&&this.props.singup(this.state)}showSnackBar(e){const t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}render(){const e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),t=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})");let a={text:"insufficient",class:"text-danger"};return e.test(this.state.password)?a={text:"strong",class:"text-success"}:t.test(this.state.password)&&(a={text:"medium",class:"text-warning"}),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ie.a,{lg:"6",md:"8"},s.a.createElement(Qe.a,{className:"bg-secondary shadow border-0"},s.a.createElement(Xe.a,{className:"px-lg-5 py-lg-5"},s.a.createElement("div",{className:"text-center text-muted mb-4"},s.a.createElement("small",null,"Sign up with credentials")),s.a.createElement(Tt.a,{role:"form",onSubmit:this.submitAccount},s.a.createElement(At.a,null,s.a.createElement(Lt.a,{className:"input-group-alternative d-inline-flex",style:{width:"48%"}},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"ni ni-hat-3"}))),s.a.createElement(Mt.a,{placeholder:"First Name",name:"first_name",value:this.state.first_name,onChange:this.onChange,type:"text",required:!0})),s.a.createElement(Lt.a,{className:"input-group-alternative d-inline-flex",style:{width:"48%",float:"right"}},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"ni ni-hat-3"}))),s.a.createElement(Mt.a,{placeholder:"Last Name",name:"last_name",value:this.state.last_name,onChange:this.onChange,type:"text",required:!0}))),s.a.createElement(At.a,null,s.a.createElement(Lt.a,{className:"input-group-alternative mb-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"ni ni-email-83"}))),s.a.createElement(Mt.a,{placeholder:"Email",type:"email",name:"email",value:this.state.email,onChange:this.onChange,autoComplete:"new-email",required:!0}))),s.a.createElement(At.a,null,s.a.createElement(Lt.a,{className:"input-group-alternative d-inline-flex",style:{width:"48%"}},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-lock-open"}))),s.a.createElement(Mt.a,{placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.onChange,autoComplete:"new-password",required:!0})),s.a.createElement(Lt.a,{className:"input-group-alternative d-inline-flex",style:{width:"48%",float:"right"}},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-lock-open"}))),s.a.createElement(Mt.a,{placeholder:"Password Confirmation",type:"password",name:"password_confirmation",value:this.state.password_confirmation,onChange:this.onChange,autoComplete:"new-password",required:!0}))),s.a.createElement("div",{className:"text-muted font-italic"},s.a.createElement("small",null,"password strength:"," ",s.a.createElement("span",{className:"".concat(a.class," font-weight-700")},a.text))),s.a.createElement("div",{className:"text-center"},s.a.createElement(ot.a,{className:"mt-4",color:"primary",type:"submit"},"Create account")))))),s.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}var Ca=Object(m.b)((e=>({error:e.auth.sign_up_error})),{singup:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.post("/api/user/signup",{name:e.first_name+" "+e.last_name,email:e.email,password:e.password,profile_img:"default.jpg",admin:!1});case 3:n=t.sent,s=n.data,localStorage.setItem("jwtToken",s.token),E(s.token),a({type:_,user:Object(b.a)(s.token)}),be.push("/auth/login"),t.next=17;break;case 11:if(t.prev=11,t.t0=t.catch(0),t.t0.response){t.next=15;break}return t.abrupt("return",a({type:x,error:"Server error"}));case 15:a({type:y,error:t.t0.response.data}),console.log(t.t0.response);case 17:console.log(e);case 18:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()})(ka);class Sa extends s.a.Component{constructor(e){super(e),this.state={email:"",password:"",loading:!1,changed:!1},this.submit=this.submit.bind(this),this.onChange=this.onChange.bind(this)}componentDidUpdate(e,t,a){t.email===this.state.email&&t.password===this.state.password||this.setState({changed:!0})}submit(e){e.preventDefault(),this.setState({error:"",isLoading:!0,changed:!1}),this.props.login(this.state)}onChange(e){this.setState({[e.target.name]:e.target.value})}render(){const e=this.state,t=e.email,a=e.password,n=e.loading,r=e.changed,o=this.props.error;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ie.a,{lg:"5",md:"7"},s.a.createElement(Qe.a,{className:"bg-secondary shadow border-0"},s.a.createElement(Xe.a,{className:"px-lg-5 py-lg-5"},s.a.createElement("div",{className:"text-center text-muted mb-4"},s.a.createElement("small",null,"Sign in with credentials")),s.a.createElement(Tt.a,{role:"form",onSubmit:this.submit},s.a.createElement(At.a,{className:"mb-3"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"ni ni-email-83",style:{color:o&&!r?"red":""}}))),s.a.createElement(Mt.a,{placeholder:"Email",name:"email",type:"email",value:t,onChange:this.onChange,autoComplete:"new-email"}))),s.a.createElement(At.a,null,s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"ni ni-lock-circle-open",style:{color:o&&!r?"red":""}}))),s.a.createElement(Mt.a,{placeholder:"Password",name:"password",type:"password",value:a,onChange:this.onChange,autoComplete:"new-password"}))),o&&s.a.createElement("p",{style:{color:"red",fontSize:12}},"Wrong email or password"),s.a.createElement("div",{className:"text-center"},s.a.createElement(ot.a,{color:"primary",type:"submit",disabled:n},"Sign in"))))),s.a.createElement(Me.a,{className:"mt-3"},s.a.createElement(Ie.a,{xs:"5"},s.a.createElement("a",{href:"/auth/forgot"},"Forgot Password?")),s.a.createElement(Ie.a,{xs:"5",className:"ml-5"},s.a.createElement("a",{href:"/auth/register"},"Create an account")))))}}var Oa=Object(m.b)((e=>({error:e.auth.sign_in_error})),{login:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.post(me,{email:e.email,password:e.password});case 3:n=t.sent,s=n.data,localStorage.setItem("jwtToken",s.token),E(s.token),a({type:v,user:Object(b.a)(s.token)}),be.push("/admin/index"),t.next=16;break;case 11:if(t.prev=11,t.t0=t.catch(0),t.t0.response){t.next=15;break}return t.abrupt("return",a({type:f,error:"Server error"}));case 15:a({type:f,error:t.t0.response.data});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()})(Sa);class ja extends s.a.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header pt-8"},s.a.createElement(i.a,{fluid:!0},s.a.createElement("div",{className:"header-body"}))))}}var Da=ja;class Ta extends s.a.Component{constructor(e){super(e),this.redirectToVideo=e=>{be.push("/video/".concat(e))},this.state={thumbnails:{}}}componentDidUpdate(e,t,a){Je.a.isEmpty(this.state.thumbnails)&&this.props.videos.length>0&&this.getVideoDetails()}getVideoDetails(){var e=this;return Object(u.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={},t.next=3,Promise.all(e.props.videos.map(function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t.video_url);case 2:if(!((n=e.sent).items.length<1)){e.next=5;break}return e.abrupt("return");case 5:console.log(n),s=n.items[0].snippet.thumbnails.standard.url,a=Object(Ft.a)(Object(Ft.a)({},a),{},{[t.id]:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.setState({thumbnails:a});case 4:case"end":return t.stop()}}),t)})))()}componentDidMount(){this.props.getVideos()}displayVideos(){return this.props.videos.map(((e,t)=>!e.video_url||e.video_url.length<5?null:e.video_url.split("v=")[1]?s.a.createElement(Ie.a,{key:t,xl:"4",className:"mb-5"},s.a.createElement("div",{className:"pl-1 pr-1"},s.a.createElement(Ie.a,{xl:"12",onClick:()=>this.redirectToVideo(e.id),className:"mb-1"},s.a.createElement("img",{style:{width:"100%",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},src:this.state.thumbnails[e.id]}),this.state.thumbnails[e.id]&&s.a.createElement("div",{className:"overlay card-img-overlay"}," ",s.a.createElement("div",{className:"play"})))),s.a.createElement("hr",{className:"mb-1 mt-4"}),s.a.createElement(Me.a,{className:"align-items-center"},s.a.createElement("div",{className:"col"},s.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},"Video"),s.a.createElement("h2",{className:"mb-0"},e.video_title)))):null))}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Da,null),s.a.createElement(i.a,{className:"mt-2",fluid:!0},s.a.createElement("h1",{className:"mt-3 mb-4 display-1 text-center text-muted"},"Video Gallery"),s.a.createElement("hr",null),s.a.createElement("div",null,s.a.createElement(Ie.a,null,s.a.createElement(Me.a,{className:"mr-md-6 ml-md-6"},this.displayVideos())))))}}var Aa=Object(m.b)((e=>({videos:e.videos.videos})),{getVideos:Ve})(Ta),Ma=a(169),Ia=a.n(Ma),Pa=a(42),Fa=a(416),La=a(110),Ba=a.n(La);const Va={logged_in:!1,sign_in_error:"",sign_up_error:"",change_pass_message:"",change_pass_error:"",change_email_error:"",change_avatar_error:"",user:{}};const za={stats:[],stat_error:""};const Ra={appointments:[],appointments_error:""};const Ua={comments:[],comments_error:""};const qa={videos:[],video:{},videos_error:""};const Ga={info:{id:"",key:"",address:"",phone:"",city:"",country:"",postal_code:""},info_error:""};const Wa={submissions:[],submission:{},submissions_error:""};var Ha=Object(Pa.c)({auth:(e=Va,t={})=>{switch(t.type){case v:return Object(Ft.a)(Object(Ft.a)({},e),{},{logged_in:!Ba()(t.user),user:t.user,sign_in_error:""});case f:return Object(Ft.a)(Object(Ft.a)({},e),{},{sign_in_error:t.error});case _:return Object(Ft.a)(Object(Ft.a)({},e),{},{logged_in:!Ba()(t.user),user:t.user,sign_up_error:""});case y:return Object(Ft.a)(Object(Ft.a)({},e),{},{sign_up_error:t.error});case w:return Object(Ft.a)(Object(Ft.a)({},e),{},{logged_in:!1,sign_in_error:"",user:{}});case N:return Object(Ft.a)(Object(Ft.a)({},e),{},{user:t.user});case"CHANGE_PASS":return Object(Ft.a)(Object(Ft.a)({},e),{},{change_pass_message:"changed"});case x:return Object(Ft.a)(Object(Ft.a)({},e),{},{change_pass_error:t.error});case"CHANGE_EMAIL":return Object(Ft.a)(Object(Ft.a)({},e),{},{user:Object(Ft.a)(Object(Ft.a)({},e.user),{},{email:t.email})});case k:return Object(Ft.a)(Object(Ft.a)({},e),{},{change_email_error:t.error});case"CHANGE_AVATAR":return Object(Ft.a)(Object(Ft.a)({},e),{},{user:Object(Ft.a)(Object(Ft.a)({},e.user),{},{profile_img:t.image})});case C:return Object(Ft.a)(Object(Ft.a)({},e),{},{change_avatar_error:t.error});default:return e}},stats:(e=za,t={})=>{switch(t.type){case S:return Object(Ft.a)(Object(Ft.a)({},e),{},{stats:t.stats,stat_error:""});case O:return Object(Ft.a)(Object(Ft.a)({},e),{},{stat_error:t.error});default:return e}},appointments:(e=Ra,t={})=>{switch(t.type){case j:return Object(Ft.a)(Object(Ft.a)({},e),{},{appointments:t.appointments,appointments_error:""});case T:return Object(Ft.a)(Object(Ft.a)({},e),{},{appointments:e.appointments.map((e=>e.id!==t.appointment.id?e:Object(Ft.a)(Object(Ft.a)({},e),t.appointment))),appointments_error:""});case D:case A:return Object(Ft.a)(Object(Ft.a)({},e),{},{appointments_error:t.error});default:return e}},comments:(e=Ua,t={})=>{switch(t.type){case M:return Object(Ft.a)(Object(Ft.a)({},e),{},{comments:t.comments,comments_error:""});case V:return Object(Ft.a)(Object(Ft.a)({},e),{},{comments:e.comments.map((e=>e.id!==t.comment.id?e:Object(Ft.a)(Object(Ft.a)({},e),t.comment))),comments_error:""});case L:return Object(Ft.a)(Object(Ft.a)({},e),{},{comments:[...e.comments,t.comment],comments_error:""});case I:return Object(Ft.a)(Object(Ft.a)({},e),{},{comments:t.comments,comments_error:""});case R:return Object(Ft.a)(Object(Ft.a)({},e),{},{comments:e.comments.filter((e=>e.id!==t.comment.id)),comments_error:""});case B:case F:case z:case U:case P:return Object(Ft.a)(Object(Ft.a)({},e),{},{comments_error:t.error});default:return e}},videos:(e=qa,t={})=>{switch(t.type){case Z:return Object(Ft.a)(Object(Ft.a)({},e),{},{videos:t.videos,videos_error:""});case q:return Object(Ft.a)(Object(Ft.a)({},e),{},{video:{}});case W:return Object(Ft.a)(Object(Ft.a)({},e),{},{videos:[...e.videos,t.video],videos_error:""});case G:return Object(Ft.a)(Object(Ft.a)({},e),{},{video:t.video,videos_error:""});case Y:return Object(Ft.a)(Object(Ft.a)({},e),{},{videos:e.videos.map((e=>e.id!==t.video.id?e:Object(Ft.a)(Object(Ft.a)({},e),t.video))),videos_error:""});case Q:return Object(Ft.a)(Object(Ft.a)({},e),{},{videos:e.videos.filter((e=>e.id!==t.video.id)),videos_error:""});case K:case X:case H:case J:case $:return Object(Ft.a)(Object(Ft.a)({},e),{},{videos_error:t.error});default:return e}},submissions:(e=Wa,t={})=>{switch(t.type){case ie:return Object(Ft.a)(Object(Ft.a)({},e),{},{submissions:t.submissions,submissions_error:""});case"POST_SUBMISSION":return Object(Ft.a)(Object(Ft.a)({},e),{},{submissions:[...e.submissions,t.submission],submissions_error:""});case se:return Object(Ft.a)(Object(Ft.a)({},e),{},{submission:t.submission,submissions_error:""});case oe:return Object(Ft.a)(Object(Ft.a)({},e),{},{submissions:e.submissions.filter((e=>e.id!==t.submission.id)),submissions_error:""});case"POST_SUBMISSION_FAIL":case ce:case le:case re:return Object(Ft.a)(Object(Ft.a)({},e),{},{submissions_error:t.error});default:return e}},admin:(e=Ga,t={})=>{switch(t.type){case ee:return Object(Ft.a)(Object(Ft.a)({},e),{},{info:t.info,info_error:""});case te:return Object(Ft.a)(Object(Ft.a)({},e),{},{info_error:t.error});case ae:return Object(Ft.a)(Object(Ft.a)({},e),{},{info:t.info,info_error:""});case ne:return Object(Ft.a)(Object(Ft.a)({},e),{},{info_error:t.error});default:return e}},form:Fa.a}),Za=a(172);const $a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Pa.d;var Ja=Object(Pa.e)(Ha,$a(Object(Pa.a)(Za.a)));class Ya extends s.a.Component{constructor(e){super(e),this.getComments=()=>this.filterComments(this.props.comments).map((e=>s.a.createElement(St,{key:e.id,comment:e,hide_buttons:!0}))),this.filterComments=e=>0===e.length?[]:e.filter((function(e){return 1===e.status})),this.onCommentSubmit=e=>{if(e.preventDefault(),this.state.content.new_comment.length<1)return this.showSnackBar("Please write a comment to post");this.props.addComment(this.state.content.new_comment,this.props.user,this.props.video),this.setState({content:{new_comment:""}})},this.state={is_modal_open:!1,is_confirm_modal_open:!1,description:"",content:{new_comment:""},error:"",isLoading:!1},this.onChange=this.onChange.bind(this)}componentDidUpdate(e,t,a){0!==this.state.description.length||Je.a.isEmpty(this.props.video)||this.getVideoDetails(),0!==this.props.video_error.length&&be.push("/video")}componentDidMount(){this.props.cleanVideo(),this.props.getVideo(this.props.match.params.id),this.props.getComments(this.props.match.params.id),document.addEventListener("post_comment",(e=>{e.detail.success?this.showSnackBar("Comment submitted for approval"):this.showSnackBar("Something went wrong")}),!1)}getVideoDetails(){var e=this;return Object(u.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye(e.props.video.video_url);case 2:if(!((a=t.sent).items.length<1)){t.next=5;break}return t.abrupt("return");case 5:n=a.items[0].snippet.description,e.setState({description:n});case 7:case"end":return t.stop()}}),t)})))()}onChange(e){this.setState({content:Object(Ft.a)(Object(Ft.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}showSnackBar(e){const t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Da,null),s.a.createElement(i.a,{className:"mt-4",fluid:!0},s.a.createElement(Ie.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"}},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xl:6},s.a.createElement("div",null,s.a.createElement(Ia.a,{width:"100%",url:this.props.video.video_url}))),s.a.createElement(Ie.a,{xl:6},s.a.createElement(Me.a,{className:"align-items-center"},s.a.createElement(Ie.a,null,s.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},"Video"),s.a.createElement("h2",{className:"mb-0"},this.props.video.video_title),s.a.createElement("hr",null),s.a.createElement("p",{style:{fontSize:"0.7rem"}},this.state.description))))))),s.a.createElement(i.a,{className:"mt-4 mb-4"},s.a.createElement("div",{style:{alignItems:"center",justifyContent:"center"}},s.a.createElement(Me.a,null,s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(kt,{title:"Comments",hide_top_button:!0,toggleComments:!0,can_add_comment:!0},s.a.createElement("div",{className:"ml-2 mr-2 mb-2"},Ja.getState().auth.logged_in&&s.a.createElement(Tt.a,{onSubmit:this.onCommentSubmit},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xl:10,md:10},s.a.createElement(At.a,{className:"mt-0"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-comment"}))),s.a.createElement(Mt.a,{autoComplete:"off",placeholder:"Add a public comment...",type:"text",value:this.state.content.new_comment,name:"new_comment",onChange:this.onChange})))),s.a.createElement(Ie.a,{xl:2,md:2},s.a.createElement("div",null,s.a.createElement(ot.a,{id:"send_button",color:"success",className:"full-width",type:"submit"},"Send"))))),this.getComments())))))),s.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}var Ka=Object(m.b)((e=>({video:e.videos.video,video_error:e.videos.videos_error,comments:e.comments.comments,user:e.auth.user})),{getVideo:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.get(ue+"/".concat(e),{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 3:n=t.sent,s=n.data,a({type:G,video:s}),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),t.t0.response){t.next=12;break}return t.abrupt("return",a({type:$,error:"Server error"}));case 12:a({type:$,error:"Not found"});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),getComments:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.get(pe+"/by-video/".concat(e));case 3:n=t.sent,s=n.data,a({type:I,comments:s}),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),t.t0.response){t.next=12;break}return t.abrupt("return",a({type:F,error:"Server error"}));case 12:a({type:F,error:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),cleanVideo:()=>e=>{e({type:q})},addComment:(e,t,a)=>function(){var n=Object(u.a)(d.a.mark((function n(s){var r,o,l;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r={user_id:t.id,user_name:t.name,user_avatar:t.profile_img,comment_text:e,status:0,date:new Date,video_id:a.id,video_title:a.video_title},n.next=4,ve.post(pe,r,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 4:o=n.sent,l=o.data,document.dispatchEvent(new CustomEvent("post_comment",{detail:{success:!0}})),s({type:L,comment:l}),n.next=16;break;case 10:if(n.prev=10,n.t0=n.catch(0),document.dispatchEvent(new CustomEvent("post_comment",{detail:{success:!1}})),n.t0.response){n.next=15;break}return n.abrupt("return",s({type:B,error:"Server error"}));case 15:s({type:B,error:n.t0.response.data});case 16:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()})(Ya);class Qa extends s.a.Component{constructor(e){super(e),this.state={email:"",error:"",loading:!1},this.submit=this.submit.bind(this),this.onChange=this.onChange.bind(this)}componentDidUpdate(e,t,a){t.email!==this.state.email&&this.setState({changed:!0})}componentDidMount(){document.addEventListener("request_pass",(e=>{e.detail.success?this.sendDisplayValid():(this.sendDisplayError(),console.log("INVALID"))}),!1)}onChange(e){this.setState({[e.target.name]:e.target.value})}submit(e){e.preventDefault(),this.props.requestPass(this.state.email)}sendDisplayValid(){document.getElementById("send-email").style.display="none",document.getElementById("resend-email").style.display="inline-block",document.getElementById("email-sent-message").style.display="inline-block"}sendDisplayError(){document.getElementById("send-email").style.display="none",document.getElementById("resend-email").style.display="inline-block",document.getElementById("email-sent-message-error").style.display="inline-block"}renterEmail(){}showSnackBar(e){const t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ie.a,{lg:"5",md:"7"},s.a.createElement(Qe.a,{className:"bg-secondary shadow border-0"},s.a.createElement(Xe.a,{className:"px-lg-5 py-lg-5"},s.a.createElement("div",{className:"text-center text-muted mb-4"},s.a.createElement("small",null,"Enter the e-mail address linked to your account")),s.a.createElement(Tt.a,{role:"form",onSubmit:this.submit},s.a.createElement(At.a,{className:"mb-3"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"ni ni-email-83"}))),s.a.createElement(Mt.a,{placeholder:"Email",name:"email",type:"email",onChange:this.onChange,required:!0}))),s.a.createElement("div",{className:"text-center"},s.a.createElement(ot.a,{color:"primary",type:"submit",id:"send-email"},"Send code"),s.a.createElement("p",{id:"email-sent-message",style:{display:"none",color:"green"}},s.a.createElement("em",null,"An email has been sent")),s.a.createElement("p",{id:"email-sent-message-error",style:{display:"none",color:"red"}},s.a.createElement("em",null,"No account is linked to this address")),s.a.createElement(Me.a,null,s.a.createElement(ot.a,{className:"bg-info center mt-2",style:{width:"40%",height:"40%",display:"none"},id:"resend-email",onClick:()=>window.location.reload(!1)},"Re-enter e-mail"))))))),s.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}var Xa=Object(m.b)(null,{requestPass:e=>Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.get("/api/user/generate-pass-token/"+e);case 3:document.dispatchEvent(new CustomEvent("request_pass",{detail:{success:!0}})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("request_pass",{detail:{success:!1}}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))})(Qa),en=a(98),tn=a.n(en),an=(a(154),a(64)),nn=a(63);class sn extends s.a.Component{constructor(e){super(e),this.onSubmit=e=>{e.preventDefault();const t=this.isValidInput();if("object"===typeof t)return this.showSnackBar(t.message);this.setState({error:"",loading:!0}),this.props.newAppointment(this.state,this.props.user.id)},this.state={is_modal_open:!1,loading:!1,is_confirm_modal_open:!1,description:"",first_name:this.props.user.name?this.props.user.name.split(" ")[0]:"",last_name:this.props.user.name&&this.props.user.name.split(" ")[1]?this.props.user.name.split(" ")[1]:"",email:this.props.user.email,phone:"",type:"TFSA",selectedDate:""},this.onChange=this.onChange.bind(this)}componentDidUpdate(e,t,a){}componentDidMount(){document.addEventListener("book_appointment",(e=>{this.setState({loading:!1}),e.detail.success?this.showSnackBar("Appointment sent ! Pending Approval."):(this.showSnackBar("Please make sure to enter all information"),this.setState({error:!0}))}),!1)}onChange(e){this.setState({[e.target.name]:e.target.value})}onSelectedDate(e){this.setState({selectedDate:e})}isValidInput(){return!(this.state.first_name.length<=0||this.state.last_name.length<=0||this.state.email.length<=0||this.state.selectedDate.length<=0)||{message:"Please make sure to enter all fields"}}showSnackBar(e){const t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),5e3),this.setState({snackbar_message:e})}render(){const e=new Date,t=new Date;t.setDate(e.getDate()+1);const a=({value:e,onClick:t})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-calendar-day"}))),s.a.createElement(Mt.a,{placeholder:"Select a date",value:e,onChange:this.onChange,onClick:t})));return s.a.createElement(s.a.Fragment,null,s.a.createElement(Da,null),s.a.createElement(i.a,{className:"mt-4 mb-5",fluid:!0},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xl:"5",id:"title_book_appointment"},s.a.createElement("p",{id:"title_p"},"Book Appointment"),s.a.createElement("br",null),s.a.createElement("p",{id:"subtitle_p"},s.a.createElement("em",null,"Meet with Matin Tireh Dast"))),s.a.createElement(Ie.a,{xl:"7"},s.a.createElement(Tt.a,{className:"m-5",onSubmit:this.onSubmit},s.a.createElement("h1",{className:"ml--3 mb-3"},"Information"),s.a.createElement(At.a,{className:"mb-0"},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xl:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative mb-2"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"far fa-id-badge"}))),s.a.createElement(Mt.a,{placeholder:"First Name",type:"text",name:"first_name",value:this.state.first_name,defaultValue:this.props.user.name?this.props.user.name.split(" ")[0]:"",onChange:this.onChange,required:!0}))),s.a.createElement(Ie.a,{xl:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative mb-2"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-id-badge"}))),s.a.createElement(Mt.a,{placeholder:"Last Name",value:this.state.last_name,defaultValue:this.props.user.name&&this.props.user.name.split(" ")[1]?this.props.user.name.split(" ")[1]:"",type:"text",name:"last_name",onChange:this.onChange,required:!0})))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xl:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-envelope"}))),s.a.createElement(Mt.a,{placeholder:"Email address",defaultValue:this.props.user.email,value:this.state.email,type:"email",name:"email",onChange:this.onChange,required:!0}))),s.a.createElement(Ie.a,{xl:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-phone"}))),s.a.createElement(Mt.a,{placeholder:"Phone number (Optional)",value:this.state.phone,type:"phone",name:"phone",onChange:this.onChange})))),s.a.createElement(Me.a,null,s.a.createElement("label",{htmlFor:"insurance-types"},s.a.createElement("h3",{className:"mt-2 ml-2"},"Choose a type of service "))),s.a.createElement(Me.a,null,s.a.createElement("select",{name:"type",onChange:this.onChange,id:"insurance-types",className:"input-group-alternative ml-3 border-white form-control",required:!0},s.a.createElement("option",{value:"Life Insurance"},"Life Insurance"),s.a.createElement("option",{value:"Mortgage Insurance"},"Mortgage Insurance"),s.a.createElement("option",{value:"Personal Insurance"},"Personal Insurance"),s.a.createElement("option",{value:"HomeCar Insurance"},"Home & Car Insurance"),s.a.createElement("option",{value:"Travel Insurance"},"Travel Insurance"),s.a.createElement("option",{value:"Savings"},"Savings"),s.a.createElement("option",{value:"Other"},"Other"))),s.a.createElement(Me.a,null,s.a.createElement("h3",{className:"mt-2 ml-2"},"Choose a date and a time interval")),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{md:"8"},s.a.createElement(tn.a,{selected:this.state.selectedDate,onChange:e=>this.onSelectedDate(e),timeFormat:"p",className:"full-width",showTimeSelect:!0,customInput:s.a.createElement(a,null),minDate:t,placeholderText:"dd/mm/yyyy",filterDate:e=>{const t=e.getDay();return 0!==t&&6!==t},timeIntervals:30,dateFormat:"Pp",disabledKeyboardNavigation:!0,minTime:Object(an.default)(Object(nn.default)(new Date,0),7),maxTime:Object(an.default)(Object(nn.default)(new Date,30),20)})))),s.a.createElement("div",{className:" mt-3"},s.a.createElement("p",{style:{color:"red",fontSize:14}},this.state.error),s.a.createElement(ot.a,{color:"primary",type:"submit",className:"mt-2 center"},this.state.loading?s.a.createElement("div",{className:"spinner-border",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading...")):"Book appointment")))))),s.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}var rn=Object(m.b)((e=>({appointment:e.appointments.appointment,user:e.auth.user})),{newAppointment:(e,t)=>function(){var a=Object(u.a)(d.a.mark((function a(n){var s,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s={client_id:t,client_name:e.first_name.replace(/\s+/g,"")+" "+e.last_name.replace(/\s+/g,""),client_email:e.email,type:e.type,phone:e.phone,date:e.selectedDate},a.next=4,ve.post(he,s,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 4:r=a.sent,r.data,document.dispatchEvent(new CustomEvent("book_appointment",{detail:{success:!0}})),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),document.dispatchEvent(new CustomEvent("book_appointment",{detail:{success:!1}}));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()})(sn);class on extends s.a.Component{constructor(e){super(e),this.onSubmitContactInfo=e=>{e.preventDefault(),this.props.onSubmit(this.state.content)},this.state={content:{fname:this.props.user.name?this.props.user.name.split(" ")[0]:"",lname:this.props.user.name&&this.props.user.name.split(" ")[1]?this.props.user.name.split(" ")[1]:""},error:"",changed:!1,isLoading:!1},this.onChange=this.onChange.bind(this)}onChange(e){this.setState({content:Object(Ft.a)(Object(Ft.a)({},this.state.content),{},{[e.target.name]:e.target.value})})}componentDidMount(){document.addEventListener("change_name",(e=>{e.detail.success?(this.props.closeModal(void 0,!0),window.location.reload(!1)):this.props.closeModal(void 0,!1,!0)}),!1)}render(){const e=this.state,t=e.error,a=(e.changed,this.props.error?this.props.error:t);return s.a.createElement(Qe.a,{className:"shadow"},s.a.createElement(Tt.a,{className:"m-5",onSubmit:this.onSubmitContactInfo},s.a.createElement("h1",{className:"ml--3 mb-3"},"Change Personal Information"),s.a.createElement(Ie.a,{xs:"12"},s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-signature"}))),s.a.createElement(Mt.a,{placeholder:"New First Name",type:"text",name:"fname",value:this.state.content.fname,onChange:this.onChange}))),s.a.createElement(Ie.a,{xs:"12"},s.a.createElement(Lt.a,{className:"input-group-alternative mt-3"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-signature"}))),s.a.createElement(Mt.a,{placeholder:"New Last Name",type:"text",name:"lname",value:this.state.content.lname,onChange:this.onChange}))),a&&s.a.createElement("p",{style:{color:"red",fontSize:12}},a),s.a.createElement("div",{className:" mt-3"},s.a.createElement(ot.a,{color:"primary",type:"submit",className:"center"},"Change"))))}}var ln=Object(m.b)((e=>({error:e.auth.change_pass_error,message:e.auth.change_pass_message,user:e.auth.user})))(on),cn=a(174),mn=a(175);const pn={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},dn={borderColor:"#2196f3"},un={borderColor:"#00e676"},hn={borderColor:"#ff1744"},gn={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},En={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},bn={display:"flex",minWidth:0,overflow:"hidden"},vn={display:"block",width:"100%",height:"100%",objectFit:"cover"};var fn=function(e){const t=Object(n.useState)([]),a=Object(cn.a)(t,2),r=a[0],o=a[1],l=Object(mn.a)({accept:"image/*",onDrop:e=>{o(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}}),i=l.getRootProps,c=l.getInputProps,m=l.isDragActive,p=l.isDragAccept,d=l.isDragReject,u=r.map((e=>s.a.createElement("div",{style:En,key:e.name},s.a.createElement("div",{style:bn},s.a.createElement("img",{src:e.preview,style:vn}))))),h=Object(n.useMemo)((()=>Object(Ft.a)(Object(Ft.a)(Object(Ft.a)(Object(Ft.a)({},pn),m?dn:{}),p?un:{}),d?hn:{})),[m,d,p]);return Object(n.useEffect)((()=>()=>{r.forEach((e=>URL.revokeObjectURL(e.preview)))}),[r]),s.a.createElement(Qe.a,{className:"shadow p-4"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"ml--3 mb-3"},"Upload Picture"),s.a.createElement("div",i({style:h}),s.a.createElement("input",c()),s.a.createElement("p",null,"Drag and drop some files here, or click to select files")),s.a.createElement("aside",{style:gn},u)),s.a.createElement("div",{className:"align-self-center mt-3"},s.a.createElement(ot.a,{color:"primary",onClick:()=>{e.onSubmit(r),e.closeModal()}},"Change"),s.a.createElement(ot.a,{color:"danger",onClick:e.closeModal},"Cancel")))};class _n extends s.a.Component{constructor(e){super(e),this.updateEmail=e=>{if(e.preventDefault(),!$t(this.state.email)||this.state.email.length<5)return this.showSnackBar("Invalid Email");this.props.changeEmail(this.state.email)},this.openPassModal=e=>{e&&e.preventDefault(),this.setState({is_pass_modal_open:!0})},this.closePassModal=(e,t,a)=>{e&&e.preventDefault(),this.setState({is_pass_modal_open:!1}),t&&this.showSnackBar("Password updated !"),a&&this.showSnackBar("Something went wrong")},this.modalSubmitPass=e=>{this.props.changePass(e)},this.openContactModal=e=>{e&&e.preventDefault(),this.setState({is_contact_modal_open:!0})},this.closeContactModal=(e,t)=>{e&&e.preventDefault(),this.setState({is_contact_modal_open:!1}),t&&this.showSnackBar("Info updated !")},this.modalSubmitContact=e=>{this.props.updateUserInfo(e)},this.openUploadModal=e=>{e&&e.preventDefault(),this.setState({is_upload_modal_open:!0})},this.closeUploadModal=(e,t)=>{e&&e.preventDefault(),this.setState({is_upload_modal_open:!1}),t&&this.showSnackBar("Info updated !")},this.modalUploadSubmit=e=>{if(e.length<=0)return this.showSnackBar("Please upload a file.");this.props.changeAvatar(e[0])},this.state={email:"",is_modal_open:!1,is_confirm_modal_open:!1,is_contact_modal_open:!1,is_upload_modal_open:!1,description:"",content:{new_comment:""},error:"",isLoading:!1,user:this.props.user,imageSrc:De+"/profile-pics/".concat(this.props.user.profile_img),imageHash:Date.now()},this.onChange=this.onChange.bind(this)}componentDidUpdate(e,t,a){0!==this.state.description.length||Je.a.isEmpty(this.props.video)||this.getVideoDetails()}componentDidMount(){document.addEventListener("change_avatar",(e=>{e.detail.success?(this.showSnackBar("Image Updated !"),this.setState({imageSrc:De+"/profile-pics/".concat(this.props.user.profile_img),imageHash:Date.now()})):this.showSnackBar("Something went wrong")}),!1),document.addEventListener("change_email",(e=>{e.detail.success?this.showSnackBar("Email updated !"):this.showSnackBar("Something went wrong")}),!1)}onChange(e){this.setState({[e.target.name]:e.target.value})}showSnackBar(e){const t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}render(){const e=window.innerWidth<600?"10%":void 0;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Da,null),s.a.createElement(i.a,{className:"mt-4",fluid:!0,className:"mb-5"},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{id:"avatar-col",xs:"4",style:{borderRight:"1px solid #333"}},s.a.createElement("span",{className:"ml-4 mt-4 avatar avatar-xl rounded-circle",style:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},s.a.createElement("img",{alt:"...",src:"".concat(this.state.imageSrc,"?").concat(this.state.imageHash)})),s.a.createElement("div",{className:"ml-5 mt-5"},s.a.createElement(ot.a,{style:{color:"#f5365c",border:"2px solid #f5365c"},onClick:this.openUploadModal},"Upload Picture")),s.a.createElement(Zt,{isOpen:this.state.is_upload_modal_open,onRequestClose:this.closeUploadModal},s.a.createElement(fn,{closeModal:this.closeUploadModal,onSubmit:this.modalUploadSubmit}))),s.a.createElement(Ie.a,{xs:"8",id:"info-col"},s.a.createElement(Tt.a,null,s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Connection and Security"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{lg:"6"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Email address"),s.a.createElement(Mt.a,{className:"form-control-alternative",id:"input-email",placeholder:"Enter new email address",name:"email",type:"email",onChange:this.onChange,defaultValue:this.props.user.email}))),s.a.createElement(Ie.a,{lg:"6"},s.a.createElement(At.a,{className:"update-btn"},s.a.createElement(ot.a,{color:"primary",className:"btn bg-red",onClick:this.updateEmail,size:"sm"},"Update")))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{lg:"6"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-password"},"Password"),s.a.createElement(Mt.a,{className:"form-control-alternative",id:"input-password",defaultValue:"******",disabled:!0})),s.a.createElement(ot.a,{color:"primary",className:"btn bg-red mb-4",onClick:this.openPassModal,size:"sm"},"Change password"))),s.a.createElement(Zt,{isOpen:this.state.is_pass_modal_open,onRequestClose:this.closePassModal,width:e},s.a.createElement(Rt,{closeModal:this.closePassModal,onSubmit:this.modalSubmitPass})),s.a.createElement(Me.a,null,s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Personal Information")),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{md:"6"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-fname"},"First Name"),s.a.createElement(Mt.a,{className:"form-control-alternative",id:"input-fname",value:this.props.user.name?this.state.user.name.split(" ")[0]:"",placeholder:"First Name",type:"text",disabled:!0}))),s.a.createElement(Ie.a,{md:"6"},s.a.createElement(At.a,null,s.a.createElement("label",{className:"form-control-label",htmlFor:"input-lname"},"Last Name"),s.a.createElement(Mt.a,{className:"form-control-alternative",id:"input-lname",value:this.state.user.name&&this.state.user.name.split(" ")[1]?this.state.user.name.split(" ")[1]:"",placeholder:"Last Name",type:"text",disabled:!0}))),s.a.createElement(Ie.a,{lg:"4"},s.a.createElement(ot.a,{color:"primary",className:"btn bg-red mb-5",onClick:this.openContactModal,value:"blabla",size:"sm"},"Change Information"))))))),s.a.createElement(Zt,{isOpen:this.state.is_contact_modal_open,width:e,onRequestClose:this.closeContactModal},s.a.createElement(ln,{info:this.state.info,closeModal:this.closeContactModal,onSubmit:this.modalSubmitContact}))),s.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}var yn=Object(m.b)((e=>({email:e.auth.user.email,user:e.auth.user})),{changeAvatar:e=>function(){var t=Object(u.a)(d.a.mark((function t(a,n){var s,r,o,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=n().auth.user.id,(r=new FormData).append("id",s),r.append("formFile",e),t.next=7,ve.post("/api/user/change-avatar",r);case 7:o=t.sent,l=o.data,we(a,l),document.dispatchEvent(new CustomEvent("change_avatar",{detail:{success:!0}})),t.next=19;break;case 13:if(t.prev=13,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("change_avatar",{detail:{success:!1}})),t.t0.response){t.next=18;break}return t.abrupt("return",a({type:C,error:"Server error"}));case 18:a({type:C,error:t.t0.response.data});case 19:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}(),changeEmail:ye,changePass:_e,updateUserInfo:e=>function(){var t=Object(u.a)(d.a.mark((function t(a,n){var s,r,o,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=n().auth.user.id,r={id:s,name:e.fname+" "+e.lname},t.next=5,ve.post("/api/user/change-name",r,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 5:o=t.sent,l=o.data,document.dispatchEvent(new CustomEvent("change_name",{detail:{success:!0}})),we(a,l),t.next=17;break;case 11:if(t.prev=11,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("change_name",{detail:{success:!1}})),t.t0.response){t.next=16;break}return t.abrupt("return",a({type:ne,error:"Server error"}));case 16:a({type:ne,error:t.t0.response.data});case 17:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()})(_n);class wn extends s.a.Component{constructor(e){super(e),this.state={password:"",password_confirm:"",error:"",isLoading:!1},this.onChange=this.onChange.bind(this),this.submit=this.submit.bind(this)}componentDidUpdate(e,t,a){}componentDidMount(){this.props.checkPassId(this.props.match.params.id),document.addEventListener("check_pass_id",(e=>{e.detail.success?console.log("VALIDD"):(be.push("/auth/forgot"),console.log("no work"))}),!1),document.addEventListener("change_pass_forgot",(e=>{e.detail.success?console.log("UPDATED"):console.log("NOT UPDATED")}),!1)}onChange(e){this.setState({[e.target.name]:e.target.value})}submit(e){e.preventDefault(),this.props.changePassByToken(this.props.match.params.id,this.state.password)}showSnackBar(e){const t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3),this.setState({snackbar_message:e})}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ie.a,{lg:"5",md:"7"},s.a.createElement(Qe.a,{className:"bg-secondary shadow border-0"},s.a.createElement(Xe.a,{className:"px-lg-5 py-lg-5"},s.a.createElement("div",{className:"text-center text-muted mb-4"},s.a.createElement("small",null,"Choose a new password ")),s.a.createElement(Tt.a,{role:"form",onSubmit:this.submit},s.a.createElement(At.a,{className:"mb-3"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-unlock"}))),s.a.createElement(Mt.a,{placeholder:"New password",name:"password",type:"password",value:this.state.password,onChange:this.onChange}))),s.a.createElement(At.a,{className:"mb-3"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-unlock"}))),s.a.createElement(Mt.a,{placeholder:"Confirm new password",name:"password_confirm",type:"password",value:this.state.password_confirm,onChange:this.onChange}))),s.a.createElement("div",{className:"text-center"},s.a.createElement(ot.a,{color:"primary",type:"submit"},"Update Password")))))),s.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}var Nn=Object(m.b)(null,{checkPassId:e=>Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.get("/api/user/check-pass-id/"+e);case 3:document.dispatchEvent(new CustomEvent("check_pass_id",{detail:{success:!0}})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("check_pass_id",{detail:{success:!1}}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),changePassByToken:(e,t)=>Object(u.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.post("/api/user/change-pass-forgot",{token:e,password:t});case 3:document.dispatchEvent(new CustomEvent("change_pass_forgot",{detail:{success:!0}})),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),document.dispatchEvent(new CustomEvent("change_pass_forgot",{detail:{success:!1}}));case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))})(wn);class xn extends s.a.Component{constructor(e){super(e),this.onSubmit=e=>{e.preventDefault();const t=this.isValidInput();if("object"===typeof t)return this.showSnackBar(t.message);this.setState({error:"",loading:!0}),this.props.newSubmission(this.state)},this.state={is_modal_open:!1,loading:!1,is_confirm_modal_open:!1,description:"",first_name:this.props.user.name?this.props.user.name.split(" ")[0]:"",last_name:this.props.user.name&&this.props.user.name.split(" ")[1]?this.props.user.name.split(" ")[1]:"",email:this.props.user.email,phone:"",ans1:"",ans2:"",ans3:""},this.onChange=this.onChange.bind(this)}componentDidUpdate(e,t,a){}componentDidMount(){document.addEventListener("post_submission",(e=>{this.setState({loading:!1}),e.detail.success?this.showSnackBar("Your name has been submitted for the giveaway !"):(this.showSnackBar("Please make sure to enter all information"),this.setState({error:!0}))}),!1)}onChange(e){this.setState({[e.target.name]:e.target.value})}onSelectedDate(e){this.setState({selectedDate:e})}isValidInput(){return!(this.state.first_name.length<=0||this.state.last_name.length<=0||this.state.email.length<=0)||{message:"Please make sure to enter all fields"}}showSnackBar(e){const t=document.getElementById("snackbar");t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),5e3),this.setState({snackbar_message:e})}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Da,null),s.a.createElement(i.a,null,s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xl:"5",className:"giveaway-form"}),s.a.createElement(Ie.a,{xl:"7",sm:"12"},s.a.createElement(Tt.a,{className:"m-5",onSubmit:this.onSubmit,style:{marginBottom:"70px"}},s.a.createElement("h1",{className:"ml--3 mb-3"},"Enter The Giveaway "),s.a.createElement(Xe.a,null,s.a.createElement(At.a,{className:"mb-0"},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xl:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative mb-2"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"far fa-id-badge"}))),s.a.createElement(Mt.a,{placeholder:"First Name",type:"text",name:"first_name",value:this.state.first_name,defaultValue:this.props.user.name?this.props.user.name.split(" ")[0]:"",onChange:this.onChange,required:!0}))),s.a.createElement(Ie.a,{xl:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative mb-2"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-id-badge"}))),s.a.createElement(Mt.a,{placeholder:"Last Name",value:this.state.last_name,defaultValue:this.props.user.name&&this.props.user.name.split(" ")[1]?this.props.user.name.split(" ")[1]:"",type:"text",name:"last_name",onChange:this.onChange,required:!0})))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{xl:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-envelope"}))),s.a.createElement(Mt.a,{placeholder:"Email address",defaultValue:this.props.user.email,value:this.state.email,type:"email",name:"email",onChange:this.onChange,required:!0}))),s.a.createElement(Ie.a,{xl:"6"},s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-phone"}))),s.a.createElement(Mt.a,{placeholder:"Phone number (Optional)",value:this.state.phone,type:"phone",name:"phone",onChange:this.onChange})))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,null,s.a.createElement("label",{htmlFor:"insurance-types"},s.a.createElement("h3",{className:"mt-2 ml-2"},"How did you hear about us? ")),s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-arrow-right"}))),s.a.createElement(Mt.a,{placeholder:"...",value:this.state.ans1,type:"text",name:"ans1",onChange:this.onChange,required:!0})))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,null,s.a.createElement("label",{htmlFor:"insurance-types"},s.a.createElement("h3",{className:"mt-2 ml-2"},"Are you interested in our Insurance Services? ")),s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-arrow-right"}))),s.a.createElement(Mt.a,{placeholder:"...",value:this.state.ans2,type:"text",name:"ans2",onChange:this.onChange,required:!0})))),s.a.createElement(Me.a,null,s.a.createElement(Ie.a,null,s.a.createElement("label",{htmlFor:"insurance-types"},s.a.createElement("h3",{className:"mt-2 ml-2"},"How do you find Matin's Insurance Website?")),s.a.createElement(Lt.a,{className:"input-group-alternative"},s.a.createElement(Bt.a,{addonType:"prepend"},s.a.createElement(Vt.a,null,s.a.createElement("i",{className:"fas fa-arrow-right"}))),s.a.createElement(Mt.a,{placeholder:"...",value:this.state.ans3,type:"text",name:"ans3",onChange:this.onChange,required:!0}))))),s.a.createElement("div",{className:" mt-3"},s.a.createElement("p",{style:{color:"red",fontSize:14}},this.state.error),s.a.createElement(ot.a,{color:"primary",type:"submit",className:"mt-2 center"},this.state.loading?s.a.createElement("div",{className:"spinner-border",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading...")):"Submit"))))))),s.a.createElement("div",{id:"snackbar"},this.state.snackbar_message))}}var kn=[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text-primary",component:Dt,layout:"/admin"},{path:"/appointments",name:"Appointments",icon:"ni ni-bullet-list-67 text-red",component:ra,layout:"/admin"},{path:"/settings",name:"Settings",icon:"ni ni-single-02 text-yellow",component:Yt,layout:"/admin"},{path:"/comments",name:"Appointments",icon:"ni ni-bullet-list-67 text-red",component:ea,layout:"/admin"},{path:"/giveaway",name:"Giveaway",icon:"fas fa-gifts text-yellow",component:ba,layout:"/admin"},{path:"/videos",name:"Videos",icon:"ni ni-bullet-list-67 text-red",component:ca,layout:"/admin"},{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:Oa,layout:"/auth"},{path:"/register",name:"Register",icon:"",component:Ca,layout:"/auth"},{path:"/forgot/restore/:id",name:"New Password",icon:"",component:Nn,layout:"/auth"},{path:"/forgot",name:"Forgot",icon:"",component:Xa,layout:"/auth"},{path:"/:id",name:"Video",icon:"ni ni-circle-08 text-pink",component:Ka,layout:"/video"},{path:"/",name:"Videos",icon:"ni ni-circle-08 text-pink",component:Aa,layout:"/video"},{path:"/",name:"BookAppointment",icon:"",component:rn,layout:"/appointment"},{path:"/",name:"Profile",icon:"",component:yn,layout:"/profile"},{path:"/",name:"Giveaway",icon:"",component:Object(m.b)((e=>({giveaway:e.submissions.submission,user:e.auth.user})),{newSubmission:e=>function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={client_id:e.first_name+e.last_name,name:e.first_name.replace(/\s+/g,"")+" "+e.last_name.replace(/\s+/g,""),email:e.email,phone:e.phone,answer1:e.ans1,answer2:e.ans2,answer3:e.ans3},t.next=4,ve.post(de,n,{headers:{Authorization:g.a.defaults.headers.common.Authorization}});case 4:s=t.sent,s.data,document.dispatchEvent(new CustomEvent("post_submission",{detail:{success:!0}})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),document.dispatchEvent(new CustomEvent("post_submission",{detail:{success:!1}}));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()})(xn),layout:"/giveaway"}],Cn=a(385);class Sn extends s.a.Component{constructor(...e){super(...e),this.logout=e=>{e.preventDefault(),this.props.logout()}}render(){const e=this.props.user;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ne.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main",style:{background:"#106eea",padding:"0"}},s.a.createElement(i.a,{fluid:!0,className:"pl-0"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:Cn}}),s.a.createElement(xe.a,{className:"align-items-center d-md-flex navbar-nav",navbar:!0,id:"user-nav"},s.a.createElement(ke.a,{nav:!0},s.a.createElement(Ce.a,{className:"pr-0",nav:!0},s.a.createElement(Se.a,{className:"align-items-center"},s.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},s.a.createElement("img",{alt:"...",src:De+"/profile-pics/".concat(this.props.logged_in?e.profile_img:"not-logged-in.png")})),s.a.createElement(Se.a,{className:"ml-2 d-none d-lg-block"},s.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},e.name)))),s.a.createElement(Oe.a,{className:"dropdown-menu-arrow",id:"user-dropdown-menu",right:!0},s.a.createElement(je.a,{className:"noti-title",header:!0,tag:"div"},s.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),s.a.createElement(je.a,{to:"/profile",tag:c.a},s.a.createElement("i",{className:"ni ni-single-02"}),s.a.createElement("span",null,this.props.logged_in?"My profile":"Login")),s.a.createElement(je.a,{className:"d-block d-lg-none",divider:!0}),s.a.createElement(je.a,{to:"/index.html",className:"d-block d-lg-none"},s.a.createElement("i",{className:"fas fa-home"}),s.a.createElement("span",null,"Home")),s.a.createElement(je.a,{to:"/video",className:"d-block d-lg-none",tag:c.a},s.a.createElement("i",{className:"fas fa-photo-video"}),s.a.createElement("span",null,"Videos")),s.a.createElement(je.a,{to:"/appointment",className:"d-block d-lg-none",tag:c.a},s.a.createElement("i",{className:"fas fa-id-card"}),s.a.createElement("span",null,"Contact")),this.props.logged_in&&s.a.createElement(s.a.Fragment,null,s.a.createElement(je.a,{divider:!0}),s.a.createElement(je.a,{onClick:this.logout},s.a.createElement("i",{className:"ni ni-user-run"}),s.a.createElement("span",null,"Logout")))))))))}}var On=Object(m.b)((e=>({user:e.auth.user,logged_in:e.auth.logged_in})),{logout:fe})(Sn);class jn extends s.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map(((e,t)=>"/admin"===e.layout?s.a.createElement(l.b,{path:e.layout+e.path,component:e.component,key:t}):null)),this.getBrandText=e=>{for(let t=1;t<kn.length;t++)if(-1!==this.props.location.pathname.indexOf(kn[t].layout+kn[t].path))return kn[t].name;return"Welcome to your dashboard"}}componentDidUpdate(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(xa,Object.assign({},this.props,{routes:kn,logo:{innerLink:"/admin/index"}})),s.a.createElement("div",{className:"main-content",ref:"mainContent"},s.a.createElement(Ae,null),s.a.createElement(l.d,null,this.getRoutes(kn),s.a.createElement(l.a,{from:"*",to:"/admin/index"})),s.a.createElement(i.a,{fluid:!0},s.a.createElement(Fe,null))))}}var Dn=jn,Tn=a(415);class An extends s.a.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ne.a,{className:"navbar-top navbar-horizontal navbar-dark",expand:"md"},s.a.createElement(i.a,{className:"px-4"},s.a.createElement(ya.a,{to:"/",tag:c.a}),s.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement(Tn.a,{navbar:!0,toggler:"#navbar-collapse-main"},s.a.createElement("div",{className:"navbar-collapse-header d-md-none"},s.a.createElement(Me.a,null,s.a.createElement(Ie.a,{className:"collapse-brand",xs:"6"}),s.a.createElement(Ie.a,{className:"collapse-close",xs:"6"},s.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},s.a.createElement("span",null),s.a.createElement("span",null))))),s.a.createElement(xe.a,{className:"ml-auto",navbar:!0},s.a.createElement(fa.a,null,s.a.createElement("a",{className:"nav-link-icon",href:"/index.html",style:{color:"white",fontSize:"150%"}},s.a.createElement("i",{className:"ni ni-bold-right"}),s.a.createElement("span",{className:"nav-link-inner--text ml-2"},"Back to main site"))))))))}}var Mn=An;class In extends s.a.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("footer",{className:"py-2"},s.a.createElement(i.a,null,s.a.createElement(Me.a,{className:"align-items-center justify-content-xl-between"},s.a.createElement(Ie.a,{xl:"12"},s.a.createElement("div",{className:"copyright text-center text-xl-center text-muted"},"\xa9 2020 Matin"))))))}}var Pn=In;class Fn extends s.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map(((e,t)=>"/auth"===e.layout?s.a.createElement(l.b,{path:e.layout+e.path,component:e.component,key:t}):null))}componentDidMount(){document.body.classList.add("bg-default")}componentWillUnmount(){document.body.classList.remove("bg-default")}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-content"},s.a.createElement(Mn,null),s.a.createElement("div",{className:"header bg-gradient-info py-7"},s.a.createElement(i.a,null,s.a.createElement("div",{className:"header-body text-center mb-5"},s.a.createElement(Me.a,{className:"justify-content-center"},s.a.createElement(Ie.a,{lg:"5",md:"6"},s.a.createElement("h1",{className:"text-white"},"Welcome!"))))),s.a.createElement("div",{className:"separator separator-bottom separator-skew zindex-100"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0"},s.a.createElement("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})))),s.a.createElement(i.a,{className:"mt--8 pb-5"},s.a.createElement(Me.a,{className:"justify-content-center"},s.a.createElement(l.d,null,this.getRoutes(kn),s.a.createElement(l.a,{from:"*",to:"/auth/login"}))))),s.a.createElement(Pn,null))}}var Ln=Fn;class Bn extends s.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map(((e,t)=>"/video"===e.layout?s.a.createElement(l.b,{path:e.layout+e.path,component:e.component,key:t}):null)),this.getBrandText=e=>{for(let t=1;t<kn.length;t++)if(-1!==this.props.location.pathname.indexOf(kn[t].layout+kn[t].path))return kn[t].name;return"Video Gallery"}}componentDidUpdate(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-content",ref:"mainContent"},s.a.createElement(On,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),s.a.createElement(l.d,null,this.getRoutes(kn),s.a.createElement(l.a,{from:"*",to:"/video"}))),s.a.createElement(na,null))}}var Vn=Bn;class zn extends s.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map(((e,t)=>"/appointment"===e.layout?s.a.createElement(l.b,{path:e.layout+e.path,component:e.component,key:t}):null)),this.getBrandText=e=>{for(let t=1;t<kn.length;t++)if(-1!==this.props.location.pathname.indexOf(kn[t].layout+kn[t].path))return kn[t].name;return"Appointment"}}componentDidUpdate(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-content",ref:"mainContent"},s.a.createElement(On,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),s.a.createElement(l.d,null,this.getRoutes(kn),s.a.createElement(l.a,{from:"*",to:"/appointment"}))),s.a.createElement(na,null))}}var Rn=zn;class Un extends s.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map(((e,t)=>"/profile"===e.layout?s.a.createElement(l.b,{path:e.layout+e.path,component:e.component,key:t}):null)),this.getBrandText=e=>{for(let t=1;t<kn.length;t++)if(-1!==this.props.location.pathname.indexOf(kn[t].layout+kn[t].path))return kn[t].name;return"User"}}componentDidUpdate(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-content",ref:"mainContent"},s.a.createElement(On,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),s.a.createElement(l.d,null,this.getRoutes(kn),s.a.createElement(l.a,{from:"*",to:"/profile"}))),s.a.createElement(na,null))}}var qn=Un;class Gn extends s.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map(((e,t)=>"/giveaway"===e.layout?s.a.createElement(l.b,{path:e.layout+e.path,component:e.component,key:t}):null)),this.getBrandText=e=>{for(let t=1;t<kn.length;t++)if(-1!==this.props.location.pathname.indexOf(kn[t].layout+kn[t].path))return kn[t].name;return"Giveaway"}}componentDidUpdate(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-content",ref:"mainContent"},s.a.createElement(On,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),s.a.createElement(l.d,null,this.getRoutes(kn),s.a.createElement(l.a,{from:"*",to:"/giveaway"}))),s.a.createElement(na,null))}}var Wn=Gn;localStorage.jwtToken&&(E(localStorage.jwtToken),Ja.dispatch({type:v,user:Object(b.a)(localStorage.jwtToken)})),o.a.render(s.a.createElement(m.a,{store:Ja},s.a.createElement(l.c,{history:be},s.a.createElement(l.d,null,s.a.createElement(l.b,{path:"/admin",component:function(e){class t extends s.a.Component{constructor(...e){super(...e),this.UNSAFE_componentWillUpdate=e=>{e.logged_in&&"false"!==e.user.admin.toLowerCase()||be.push("/auth/login")}}UNSAFE_componentWillMount(){this.props.logged_in&&"false"!==this.props.user.admin.toLowerCase()||be.push("/auth/login")}render(){return s.a.createElement(e,this.props)}}return Object(m.b)((function(e){return{logged_in:e.auth.logged_in,user:e.auth.user}}))(t)}(Dn)}),s.a.createElement(l.b,{path:"/auth",component:function(e){class t extends s.a.Component{constructor(...e){super(...e),this.UNSAFE_componentWillUpdate=e=>{e.logged_in&&("true"===e.user.admin.toLowerCase()?be.push("/admin/index"):(be.push("/index.html"),window.location.reload(!1)))}}UNSAFE_componentWillMount(){this.props.logged_in&&("true"===this.props.user.admin.toLowerCase()?be.push("/admin/index"):(be.push("/index.html"),window.location.reload(!1)))}render(){return s.a.createElement(e,this.props)}}return Object(m.b)((function(e){return{logged_in:e.auth.logged_in,user:e.auth.user}}))(t)}(Ln)}),s.a.createElement(l.b,{path:"/video",component:Vn}),s.a.createElement(l.b,{path:"/appointment",component:Rn}),s.a.createElement(l.b,{path:"/giveaway",component:Wn}),s.a.createElement(l.b,{path:"/profile",component:function(e){class t extends s.a.Component{constructor(...e){super(...e),this.UNSAFE_componentWillUpdate=e=>{e.logged_in||be.push("/auth/login")}}UNSAFE_componentWillMount(){this.props.logged_in||be.push("/auth/login")}render(){return s.a.createElement(e,this.props)}}return Object(m.b)((function(e){return{logged_in:e.auth.logged_in}}))(t)}(qn)})))),document.getElementById("root"))},47:function(e,t,a){const n=a(37);n.elements.Rectangle.prototype.draw=function(){var e,t,a,n,s,r,o,l=this._chart.ctx,i=this._view,c=i.borderWidth;if(i.horizontal?(e=i.base,t=i.x,a=i.y-i.height/2,n=i.y+i.height/2,s=t>e?1:-1,r=1,o=i.borderSkipped||"left"):(e=i.x-i.width/2,t=i.x+i.width/2,a=i.y,s=1,r=(n=i.base)>a?1:-1,o=i.borderSkipped||"bottom"),c){var m=Math.min(Math.abs(e-t),Math.abs(a-n)),p=(c=c>m?m:c)/2,d=e+("left"!==o?p*s:0),u=t+("right"!==o?-p*s:0),h=a+("top"!==o?p*r:0),g=n+("bottom"!==o?-p*r:0);d!==u&&(a=h,n=g),h!==g&&(e=d,t=u)}l.beginPath(),l.fillStyle=i.backgroundColor,l.strokeStyle=i.borderColor,l.lineWidth=c;var E=[[e,n],[e,a],[t,a],[t,n]],b=["bottom","left","top","right"].indexOf(o,0);function v(e){return E[(b+e)%4]}-1===b&&(b=0);var f=v(0);l.moveTo(f[0],f[1]);for(var _=1;_<4;_++){f=v(_);let e=_+1;4===e&&(e=0);let t=E[2][0]-E[1][0],a=E[0][1]-E[1][1],n=E[1][0],s=E[1][1];var y;(y=6)>a/2&&(y=a/2),y>t/2&&(y=t/2),l.moveTo(n+y,s),l.lineTo(n+t-y,s),l.quadraticCurveTo(n+t,s,n+t,s+y),l.lineTo(n+t,s+a-y),l.quadraticCurveTo(n+t,s+a,n+t-y,s+a),l.lineTo(n+y,s+a),l.quadraticCurveTo(n,s+a,n,s+a-y),l.lineTo(n,s+y),l.quadraticCurveTo(n,s,n+y,s)}l.fill(),c&&l.stroke()};var s="Open Sans",r={100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},o={default:"#172b4d",primary:"#2dce89",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},l="#FFFFFF",i="transparent";this.appointments=[];let c={options:{scales:{yAxes:[{gridLines:{color:r[900],zeroLineColor:r[900]},ticks:{callback:function(e){if(!(e%10))return"$"+e+"k"}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,s="";return t.datasets.length>1&&(s+=a),s+="$"+n+"k"}}}},data1:e=>({labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,10,30,15,40,20,60,60]}]}),data2:e=>({labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,5,25,10,30,15,40,40]}]})};const m=(e=5)=>{const t=new Date;t.setDate(1),t.setMonth(t.getMonth()-e+2);let a=[];for(let n=e;n>0;n--)a.push(new Intl.DateTimeFormat("en",{month:"short"}).format(t)),t.setMonth(t.getMonth()+1);return a},p=(e,t=5)=>{const a=new Date;a.setDate(1),a.setMonth(a.getMonth()-t+2);let n=[];for(let s=t;s>0;s--){let t=0;e.map((e=>{new Date(e.date).getMonth()===a.getMonth()&&2!==e.status&&t++})),a.setMonth(a.getMonth()+1),n.push(t)}return n};e.exports={chartOptions:function(){var e={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:r[600],defaultFontColor:r[600],defaultFontFamily:s,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:o.primary},line:{tension:.4,borderWidth:4,borderColor:o.primary,backgroundColor:i,borderCapStyle:"rounded"},rectangle:{backgroundColor:o.primary},arc:{backgroundColor:o.primary,borderColor:l,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(e){var t=e.data,a="";return t.labels.forEach((function(e,n){var s=t.datasets[0].backgroundColor[n];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+s+'"></i>',a+=e,a+="</span>"})),a}}}};return n.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:r[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:r[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(e){if(!(e%10))return e}}}),n.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20}}),e},parseOptions:function e(t,a){for(var n in a)"object"!==typeof a[n]?t[n]=a[n]:e(t[n],a[n])},setAppointments:e=>{this.appointments=e},chartExample1:c,appointmentChart:()=>({options:{scales:{yAxes:[{ticks:{callback:function(e){if(!(e%10))return e}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,s="";return t.datasets.length>1&&(s+=a),s+=n}}}},data:{labels:m(),datasets:[{label:"Appointments",data:p(this.appointments),maxBarThickness:10}]}})}}},[[386,1,2]]]);
//# sourceMappingURL=main.49d42bc9.chunk.js.map